import{j as y,p as h,r as l,m as $,D as C,P as L,c as M,R as W}from"./vendor-271e3140.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))f(o);new MutationObserver(o=>{for(const e of o)if(e.type==="childList")for(const r of e.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&f(r)}).observe(document,{childList:!0,subtree:!0});function d(o){const e={};return o.integrity&&(e.integrity=o.integrity),o.referrerPolicy&&(e.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?e.credentials="include":o.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function f(o){if(o.ep)return;o.ep=!0;const e=d(o);fetch(o.href,e)}})();const B=y.Fragment,s=y.jsx,g=y.jsxs;const w={opacity:1,display:"block",duration:2},N={opacity:0,transitionEnd:{display:"none"}},H=async u=>{const d=await(await h.getDocument(u).promise).getPageLabels();return console.log(d),d};function K({pdfUrl:u}){h.GlobalWorkerOptions.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${h.version}/pdf.worker.js`;const[a,d]=l.useState(null),[f,o]=l.useState(0),[e,r]=l.useState(1);l.useState(null);const[p,v]=l.useState([]),S=l.useRef(null),b=l.useRef(null),j=l.useRef(null),[Y,E]=l.useState(null);l.useEffect(()=>{(async()=>{const n=await H(u);v(n)})(),a!==null&&f===a&&console.log("All pages loaded")},[a,f]);function R(t){const n=Number((t==null?void 0:t.pageNumber)??e);n<=a&&n>=1&&(r(n),c(n))}function D({loaded:t,total:n}){const i=Math.floor(t/n*100);console.log(`Loading... ${i}%`)}function I(t){E(t)}function O({numPages:t,outline:n}){d(t)}function P(){o(t=>t+1)}function c(t){b.current.value=p[t-1]}function _(){e<a&&(r(e+1),c(e+1))}function A(){e>1&&(r(e-1),c(e-1))}function k(t){t.deltaY<0&&e>1?(r(e-1),c(e-1)):t.deltaY>0&&e<a&&(r(e+1),c(e+1))}function F(t){var n;if(t.keyCode===13){const i=p.indexOf(((n=t.target)==null?void 0:n.value)??0)+1;i<=a&&i>=1?(r(i),c(i)):(c(e),alert("What are you doing! Invalid page number."))}}const m=100*Math.min(1,e/a);return g(B,{children:[s($.div,{className:`progress-bar z-20 shadow-[0_10px_15px_-1px_rgba(0,0,0,0.1)] ${m===100?"shadow-red-500":null}`,style:{width:`${m}%`,stiffness:100,damping:30,restDelta:.001},animate:{width:`${m}%`}}),s("div",{initial:"hidden",animate:"show",className:"flex py-20 justify-evenly backdrop-blur-3xl disableScroll",ref:S,id:"pdf-viewer",onWheel:k,children:s(C,{file:u,ref:j,onLoadProgress:D,onLoadError:I,onLoadSuccess:O,noData:"No PDF file selected.",loading:"Loading PDF file...",onItemClick:R,children:Array.from(new Array(a),(t,n)=>{var i,x;return g("div",{className:`${n+1===e?"flex":"hidden"} gap-20`,children:[s("div",{animate:n+1<=a?w:N,children:n+1<=a?s(L,{id:"pagechild",pageNumber:n+1,onLoadSuccess:P,height:((i=document.getElementById("app"))==null?void 0:i.clientHeight)*.78},n+1):null}),s("div",{animate:n+1<=a?w:N,className:"xs:max-lg:hidden",children:n+2<=a?s(L,{pageNumber:n+2,onLoadSuccess:P,height:((x=document.getElementById("app"))==null?void 0:x.clientHeight)*.78},n+2):null})]})})})}),g("div",{className:"justify-evenly flex",children:[s("button",{className:"bg-secondary rounded-xl w-1/6 shadow-xl",onClick:A,children:"Prev"}),g("div",{className:"flex justify-center items-center",children:["Page  ",s("input",{ref:b,className:"rounded text-center inline-block w-[35px] h-[26px]",type:"text",onKeyDown:F,defaultValue:p[0]})," ","  of  ",Math.max(...p.filter(t=>parseInt(t)))]}),s("button",{className:"bg-secondary rounded-xl w-1/6 shadow-xl",onClick:_,children:"Next"})]}),s("div",{className:"position:absolute transform -translate-y-6",children:s("a",{href:"/dissertation_draft.pdf",className:"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 rounded-xl w-1/4 shadow-xl",children:" Download me instead! "})})]})}function V(){return s("div",{className:"h-screen justify-evenly bg-tertiary max-w-5/6",id:"app",children:s(K,{pdfUrl:"/dissertation_draft.pdf"})})}M.createRoot(document.getElementById("root")).render(s(W.StrictMode,{children:s(V,{})}));
