var Dr=Object.defineProperty;var Mr=(e,i,s)=>i in e?Dr(e,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[i]=s;var _n=(e,i,s)=>(Mr(e,typeof i!="symbol"?i+"":i,s),s),Gn=(e,i,s)=>{if(!i.has(e))throw TypeError("Cannot "+s)};var At=(e,i,s)=>(Gn(e,i,"read from private field"),s?s.call(e):i.get(e)),qt=(e,i,s)=>{if(i.has(e))throw TypeError("Cannot add the same private member more than once");i instanceof WeakSet?i.add(e):i.set(e,s)},rn=(e,i,s,o)=>(Gn(e,i,"write to private field"),o?o.call(e,s):i.set(e,s),s),qn=(e,i,s,o)=>({set _(a){rn(e,i,a,s)},get _(){return At(e,i,o)}}),Qt=(e,i,s)=>(Gn(e,i,"access private method"),s);function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var i=e.default;if(typeof i=="function"){var s=function o(){if(this instanceof o){var a=[null];a.push.apply(a,arguments);var c=Function.bind.apply(i,a);return new c}return i.apply(this,arguments)};s.prototype=i.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(o){var a=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(s,o,a.get?a:{enumerable:!0,get:function(){return e[o]}})}),s}var jsxRuntimeExports={},jsxRuntime={get exports(){return jsxRuntimeExports},set exports(e){jsxRuntimeExports=e}},reactJsxRuntime_production_min={},reactExports={},react={get exports(){return reactExports},set exports(e){reactExports=e}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$2=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$1=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(e){return e===null||typeof e!="object"?null:(e=z$1&&e[z$1]||e["@@iterator"],typeof e=="function"?e:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(e,i,s){this.props=e,this.context=i,this.refs=D$1,this.updater=s||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(e,i){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,i,"setState")};E$1.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(e,i,s){this.props=e,this.context=i,this.refs=D$1,this.updater=s||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(e,i,s){var o,a={},c=null,d=null;if(i!=null)for(o in i.ref!==void 0&&(d=i.ref),i.key!==void 0&&(c=""+i.key),i)J.call(i,o)&&!L$1.hasOwnProperty(o)&&(a[o]=i[o]);var h=arguments.length-2;if(h===1)a.children=s;else if(1<h){for(var g=Array(h),_=0;_<h;_++)g[_]=arguments[_+2];a.children=g}if(e&&e.defaultProps)for(o in h=e.defaultProps,h)a[o]===void 0&&(a[o]=h[o]);return{$$typeof:l$1,type:e,key:c,ref:d,props:a,_owner:K$1.current}}function N$1(e,i){return{$$typeof:l$1,type:e.type,key:i,ref:e.ref,props:e.props,_owner:e._owner}}function O$1(e){return typeof e=="object"&&e!==null&&e.$$typeof===l$1}function escape$1(e){var i={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return i[s]})}var P$1=/\/+/g;function Q$1(e,i){return typeof e=="object"&&e!==null&&e.key!=null?escape$1(""+e.key):i.toString(36)}function R$1(e,i,s,o,a){var c=typeof e;(c==="undefined"||c==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(c){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case l$1:case n$1:d=!0}}if(d)return d=e,a=a(d),e=o===""?"."+Q$1(d,0):o,I$1(a)?(s="",e!=null&&(s=e.replace(P$1,"$&/")+"/"),R$1(a,i,s,"",function(_){return _})):a!=null&&(O$1(a)&&(a=N$1(a,s+(!a.key||d&&d.key===a.key?"":(""+a.key).replace(P$1,"$&/")+"/")+e)),i.push(a)),1;if(d=0,o=o===""?".":o+":",I$1(e))for(var h=0;h<e.length;h++){c=e[h];var g=o+Q$1(c,h);d+=R$1(c,i,s,g,a)}else if(g=A$1(e),typeof g=="function")for(e=g.call(e),h=0;!(c=e.next()).done;)c=c.value,g=o+Q$1(c,h++),d+=R$1(c,i,s,g,a);else if(c==="object")throw i=String(e),Error("Objects are not valid as a React child (found: "+(i==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":i)+"). If you meant to render a collection of children, use an array instead.");return d}function S$1(e,i,s){if(e==null)return e;var o=[],a=0;return R$1(e,o,"","",function(c){return i.call(s,c,a++)}),o}function T$1(e){if(e._status===-1){var i=e._result;i=i(),i.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=i)}if(e._status===1)return e._result.default;throw e._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};react_production_min.Children={map:S$1,forEach:function(e,i,s){S$1(e,function(){i.apply(this,arguments)},s)},count:function(e){var i=0;return S$1(e,function(){i++}),i},toArray:function(e){return S$1(e,function(i){return i})||[]},only:function(e){if(!O$1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};react_production_min.Component=E$1;react_production_min.Fragment=p$2;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.cloneElement=function(e,i,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=C$1({},e.props),a=e.key,c=e.ref,d=e._owner;if(i!=null){if(i.ref!==void 0&&(c=i.ref,d=K$1.current),i.key!==void 0&&(a=""+i.key),e.type&&e.type.defaultProps)var h=e.type.defaultProps;for(g in i)J.call(i,g)&&!L$1.hasOwnProperty(g)&&(o[g]=i[g]===void 0&&h!==void 0?h[g]:i[g])}var g=arguments.length-2;if(g===1)o.children=s;else if(1<g){h=Array(g);for(var _=0;_<g;_++)h[_]=arguments[_+2];o.children=h}return{$$typeof:l$1,type:e.type,key:a,ref:c,props:o,_owner:d}};react_production_min.createContext=function(e){return e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:t,_context:e},e.Consumer=e};react_production_min.createElement=M$1;react_production_min.createFactory=function(e){var i=M$1.bind(null,e);return i.type=e,i};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(e){return{$$typeof:v$1,render:e}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(e){return{$$typeof:y,_payload:{_status:-1,_result:e},_init:T$1}};react_production_min.memo=function(e,i){return{$$typeof:x,type:e,compare:i===void 0?null:i}};react_production_min.startTransition=function(e){var i=V$1.transition;V$1.transition={};try{e()}finally{V$1.transition=i}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(e,i){return U$1.current.useCallback(e,i)};react_production_min.useContext=function(e){return U$1.current.useContext(e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(e){return U$1.current.useDeferredValue(e)};react_production_min.useEffect=function(e,i){return U$1.current.useEffect(e,i)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(e,i,s){return U$1.current.useImperativeHandle(e,i,s)};react_production_min.useInsertionEffect=function(e,i){return U$1.current.useInsertionEffect(e,i)};react_production_min.useLayoutEffect=function(e,i){return U$1.current.useLayoutEffect(e,i)};react_production_min.useMemo=function(e,i){return U$1.current.useMemo(e,i)};react_production_min.useReducer=function(e,i,s){return U$1.current.useReducer(e,i,s)};react_production_min.useRef=function(e){return U$1.current.useRef(e)};react_production_min.useState=function(e){return U$1.current.useState(e)};react_production_min.useSyncExternalStore=function(e,i,s){return U$1.current.useSyncExternalStore(e,i,s)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.2.0";(function(e){e.exports=react_production_min})(react);const React=getDefaultExportFromCjs(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q(e,i,s){var o,a={},c=null,d=null;s!==void 0&&(c=""+s),i.key!==void 0&&(c=""+i.key),i.ref!==void 0&&(d=i.ref);for(o in i)m$1.call(i,o)&&!p$1.hasOwnProperty(o)&&(a[o]=i[o]);if(e&&e.defaultProps)for(o in i=e.defaultProps,i)a[o]===void 0&&(a[o]=i[o]);return{$$typeof:k,type:e,key:c,ref:d,props:a,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;(function(e){e.exports=reactJsxRuntime_production_min})(jsxRuntime);var client={},reactDomExports={},reactDom={get exports(){return reactDomExports},set exports(e){reactDomExports=e}},reactDom_production_min={},schedulerExports={},scheduler={get exports(){return schedulerExports},set exports(e){schedulerExports=e}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function i(Et,jt){var $t=Et.length;Et.push(jt);e:for(;0<$t;){var Kt=$t-1>>>1,Ct=Et[Kt];if(0<a(Ct,jt))Et[Kt]=jt,Et[$t]=Ct,$t=Kt;else break e}}function s(Et){return Et.length===0?null:Et[0]}function o(Et){if(Et.length===0)return null;var jt=Et[0],$t=Et.pop();if($t!==jt){Et[0]=$t;e:for(var Kt=0,Ct=Et.length,ft=Ct>>>1;Kt<ft;){var dt=2*(Kt+1)-1,St=Et[dt],bt=dt+1,Tt=Et[bt];if(0>a(St,$t))bt<Ct&&0>a(Tt,St)?(Et[Kt]=Tt,Et[bt]=$t,Kt=bt):(Et[Kt]=St,Et[dt]=$t,Kt=dt);else if(bt<Ct&&0>a(Tt,$t))Et[Kt]=Tt,Et[bt]=$t,Kt=bt;else break e}}return jt}function a(Et,jt){var $t=Et.sortIndex-jt.sortIndex;return $t!==0?$t:Et.id-jt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();e.unstable_now=function(){return d.now()-h}}var g=[],_=[],_e=1,at=null,nt=3,lt=!1,tt=!1,b=!1,et=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,rt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ot(Et){for(var jt=s(_);jt!==null;){if(jt.callback===null)o(_);else if(jt.startTime<=Et)o(_),jt.sortIndex=jt.expirationTime,i(g,jt);else break;jt=s(_)}}function st(Et){if(b=!1,ot(Et),!tt)if(s(g)!==null)tt=!0,kt($);else{var jt=s(_);jt!==null&&Mt(st,jt.startTime-Et)}}function $(Et,jt){tt=!1,b&&(b=!1,j(pt),pt=-1),lt=!0;var $t=nt;try{for(ot(jt),at=s(g);at!==null&&(!(at.expirationTime>jt)||Et&&!_t());){var Kt=at.callback;if(typeof Kt=="function"){at.callback=null,nt=at.priorityLevel;var Ct=Kt(at.expirationTime<=jt);jt=e.unstable_now(),typeof Ct=="function"?at.callback=Ct:at===s(g)&&o(g),ot(jt)}else o(g);at=s(g)}if(at!==null)var ft=!0;else{var dt=s(_);dt!==null&&Mt(st,dt.startTime-jt),ft=!1}return ft}finally{at=null,nt=$t,lt=!1}}var it=!1,ut=null,pt=-1,mt=5,ht=-1;function _t(){return!(e.unstable_now()-ht<mt)}function Vt(){if(ut!==null){var Et=e.unstable_now();ht=Et;var jt=!0;try{jt=ut(!0,Et)}finally{jt?Wt():(it=!1,ut=null)}}else it=!1}var Wt;if(typeof rt=="function")Wt=function(){rt(Vt)};else if(typeof MessageChannel<"u"){var Nt=new MessageChannel,Lt=Nt.port2;Nt.port1.onmessage=Vt,Wt=function(){Lt.postMessage(null)}}else Wt=function(){et(Vt,0)};function kt(Et){ut=Et,it||(it=!0,Wt())}function Mt(Et,jt){pt=et(function(){Et(e.unstable_now())},jt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Et){Et.callback=null},e.unstable_continueExecution=function(){tt||lt||(tt=!0,kt($))},e.unstable_forceFrameRate=function(Et){0>Et||125<Et?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):mt=0<Et?Math.floor(1e3/Et):5},e.unstable_getCurrentPriorityLevel=function(){return nt},e.unstable_getFirstCallbackNode=function(){return s(g)},e.unstable_next=function(Et){switch(nt){case 1:case 2:case 3:var jt=3;break;default:jt=nt}var $t=nt;nt=jt;try{return Et()}finally{nt=$t}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Et,jt){switch(Et){case 1:case 2:case 3:case 4:case 5:break;default:Et=3}var $t=nt;nt=Et;try{return jt()}finally{nt=$t}},e.unstable_scheduleCallback=function(Et,jt,$t){var Kt=e.unstable_now();switch(typeof $t=="object"&&$t!==null?($t=$t.delay,$t=typeof $t=="number"&&0<$t?Kt+$t:Kt):$t=Kt,Et){case 1:var Ct=-1;break;case 2:Ct=250;break;case 5:Ct=1073741823;break;case 4:Ct=1e4;break;default:Ct=5e3}return Ct=$t+Ct,Et={id:_e++,callback:jt,priorityLevel:Et,startTime:$t,expirationTime:Ct,sortIndex:-1},$t>Kt?(Et.sortIndex=$t,i(_,Et),s(g)===null&&Et===s(_)&&(b?(j(pt),pt=-1):b=!0,Mt(st,$t-Kt))):(Et.sortIndex=Ct,i(g,Et),tt||lt||(tt=!0,kt($))),Et},e.unstable_shouldYield=_t,e.unstable_wrapCallback=function(Et){var jt=nt;return function(){var $t=nt;nt=jt;try{return Et.apply(this,arguments)}finally{nt=$t}}}})(scheduler_production_min);(function(e){e.exports=scheduler_production_min})(scheduler);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(e){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(e,i){ha(e,i),ha(e+"Capture",i)}function ha(e,i){for(ea[e]=i,e=0;e<i.length;e++)da.add(i[e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(e){return ja.call(ma,e)?!0:ja.call(la,e)?!1:ka.test(e)?ma[e]=!0:(la[e]=!0,!1)}function pa(e,i,s,o){if(s!==null&&s.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return o?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qa(e,i,s,o){if(i===null||typeof i>"u"||pa(e,i,s,o))return!0;if(o)return!1;if(s!==null)switch(s.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function v(e,i,s,o,a,c,d){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=o,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=i,this.sanitizeURL=c,this.removeEmptyString=d}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z[e]=new v(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var i=e[0];z[i]=new v(i,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){z[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z[e]=new v(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){z[e]=new v(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){z[e]=new v(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){z[e]=new v(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){z[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var i=e.replace(ra,sa);z[i]=new v(i,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var i=e.replace(ra,sa);z[i]=new v(i,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var i=e.replace(ra,sa);z[i]=new v(i,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)});z.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)});function ta(e,i,s,o){var a=z.hasOwnProperty(i)?z[i]:null;(a!==null?a.type!==0:o||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(qa(i,s,a,o)&&(s=null),o||a===null?oa(i)&&(s===null?e.removeAttribute(i):e.setAttribute(i,""+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:"":s:(i=a.attributeName,o=a.attributeNamespace,s===null?e.removeAttribute(i):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,o?e.setAttributeNS(o,i,s):e.setAttribute(i,s))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(e){return e===null||typeof e!="object"?null:(e=Ja&&e[Ja]||e["@@iterator"],typeof e=="function"?e:null)}var A=Object.assign,La;function Ma(e){if(La===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);La=i&&i[1]||""}return`
`+La+e}var Na=!1;function Oa(e,i){if(!e||Na)return"";Na=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(_){var o=_}Reflect.construct(e,[],i)}else{try{i.call()}catch(_){o=_}e.call(i.prototype)}else{try{throw Error()}catch(_){o=_}e()}}catch(_){if(_&&o&&typeof _.stack=="string"){for(var a=_.stack.split(`
`),c=o.stack.split(`
`),d=a.length-1,h=c.length-1;1<=d&&0<=h&&a[d]!==c[h];)h--;for(;1<=d&&0<=h;d--,h--)if(a[d]!==c[h]){if(d!==1||h!==1)do if(d--,h--,0>h||a[d]!==c[h]){var g=`
`+a[d].replace(" at new "," at ");return e.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",e.displayName)),g}while(1<=d&&0<=h);break}}}finally{Na=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Ma(e):""}function Pa(e){switch(e.tag){case 5:return Ma(e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return e=Oa(e.type,!1),e;case 11:return e=Oa(e.type.render,!1),e;case 1:return e=Oa(e.type,!0),e;default:return""}}function Qa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ca:return(e.displayName||"Context")+".Consumer";case Ba:return(e._context.displayName||"Context")+".Provider";case Da:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ga:return i=e.displayName||null,i!==null?i:Qa(e.type)||"Memo";case Ha:i=e._payload,e=e._init;try{return Qa(e(i))}catch{}}return null}function Ra(e){var i=e.type;switch(e.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=i.render,e=e.displayName||e.name||"",i.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(i);case 8:return i===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Sa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ta(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ua(e){var i=Ta(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,c=s.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return a.call(this)},set:function(d){o=""+d,c.call(this,d)}}),Object.defineProperty(e,i,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(d){o=""+d},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Va(e){e._valueTracker||(e._valueTracker=Ua(e))}function Wa(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var s=i.getValue(),o="";return e&&(o=Ta(e)?e.checked?"true":"false":e.value),e=o,e!==s?(i.setValue(e),!0):!1}function Xa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ya(e,i){var s=i.checked;return A({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Za(e,i){var s=i.defaultValue==null?"":i.defaultValue,o=i.checked!=null?i.checked:i.defaultChecked;s=Sa(i.value!=null?i.value:s),e._wrapperState={initialChecked:o,initialValue:s,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function ab(e,i){i=i.checked,i!=null&&ta(e,"checked",i,!1)}function bb(e,i){ab(e,i);var s=Sa(i.value),o=i.type;if(s!=null)o==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}i.hasOwnProperty("value")?cb(e,i.type,s):i.hasOwnProperty("defaultValue")&&cb(e,i.type,Sa(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(e.defaultChecked=!!i.defaultChecked)}function db(e,i,s){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var o=i.type;if(!(o!=="submit"&&o!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+e._wrapperState.initialValue,s||i===e.value||(e.value=i),e.defaultValue=i}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function cb(e,i,s){(i!=="number"||Xa(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var eb=Array.isArray;function fb(e,i,s,o){if(e=e.options,i){i={};for(var a=0;a<s.length;a++)i["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=i.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Sa(s),i=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,o&&(e[a].defaultSelected=!0);return}i!==null||e[a].disabled||(i=e[a])}i!==null&&(i.selected=!0)}}function gb(e,i){if(i.dangerouslySetInnerHTML!=null)throw Error(p(91));return A({},i,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hb(e,i){var s=i.value;if(s==null){if(s=i.children,i=i.defaultValue,s!=null){if(i!=null)throw Error(p(92));if(eb(s)){if(1<s.length)throw Error(p(93));s=s[0]}i=s}i==null&&(i=""),s=i}e._wrapperState={initialValue:Sa(s)}}function ib(e,i){var s=Sa(i.value),o=Sa(i.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),i.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),o!=null&&(e.defaultValue=""+o)}function jb(e){var i=e.textContent;i===e._wrapperState.initialValue&&i!==""&&i!==null&&(e.value=i)}function kb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(e,i){return e==null||e==="http://www.w3.org/1999/xhtml"?kb(i):e==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mb,nb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,s,o,a){MSApp.execUnsafeLocalFunction(function(){return e(i,s,o,a)})}:e}(function(e,i){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=i;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=mb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;i.firstChild;)e.appendChild(i.firstChild)}});function ob(e,i){if(i){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=i;return}}e.textContent=i}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(e){qb.forEach(function(i){i=i+e.charAt(0).toUpperCase()+e.substring(1),pb[i]=pb[e]})});function rb(e,i,s){return i==null||typeof i=="boolean"||i===""?"":s||typeof i!="number"||i===0||pb.hasOwnProperty(e)&&pb[e]?(""+i).trim():i+"px"}function sb(e,i){e=e.style;for(var s in i)if(i.hasOwnProperty(s)){var o=s.indexOf("--")===0,a=rb(s,i[s],o);s==="float"&&(s="cssFloat"),o?e.setProperty(s,a):e[s]=a}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(e,i){if(i){if(tb[e]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(p(137,e));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(p(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(p(61))}if(i.style!=null&&typeof i.style!="object")throw Error(p(62))}}function vb(e,i){if(e.indexOf("-")===-1)return typeof i.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yb=null,zb=null,Ab=null;function Bb(e){if(e=Cb(e)){if(typeof yb!="function")throw Error(p(280));var i=e.stateNode;i&&(i=Db(i),yb(e.stateNode,e.type,i))}}function Eb(e){zb?Ab?Ab.push(e):Ab=[e]:zb=e}function Fb(){if(zb){var e=zb,i=Ab;if(Ab=zb=null,Bb(e),i)for(e=0;e<i.length;e++)Bb(i[e])}}function Gb(e,i){return e(i)}function Hb(){}var Ib=!1;function Jb(e,i,s){if(Ib)return e(i,s);Ib=!0;try{return Gb(e,i,s)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(e,i){var s=e.stateNode;if(s===null)return null;var o=Db(s);if(o===null)return null;s=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(p(231,i,typeof s));return s}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(e,i,s,o,a,c,d,h,g){var _=Array.prototype.slice.call(arguments,3);try{i.apply(s,_)}catch(_e){this.onError(_e)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(e){Ob=!0,Pb=e}};function Tb(e,i,s,o,a,c,d,h,g){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(e,i,s,o,a,c,d,h,g){if(Tb.apply(this,arguments),Ob){if(Ob){var _=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=_)}}function Vb(e){var i=e,s=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,i.flags&4098&&(s=i.return),e=i.return;while(e)}return i.tag===3?s:null}function Wb(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function Xb(e){if(Vb(e)!==e)throw Error(p(188))}function Yb(e){var i=e.alternate;if(!i){if(i=Vb(e),i===null)throw Error(p(188));return i!==e?null:e}for(var s=e,o=i;;){var a=s.return;if(a===null)break;var c=a.alternate;if(c===null){if(o=a.return,o!==null){s=o;continue}break}if(a.child===c.child){for(c=a.child;c;){if(c===s)return Xb(a),e;if(c===o)return Xb(a),i;c=c.sibling}throw Error(p(188))}if(s.return!==o.return)s=a,o=c;else{for(var d=!1,h=a.child;h;){if(h===s){d=!0,s=a,o=c;break}if(h===o){d=!0,o=a,s=c;break}h=h.sibling}if(!d){for(h=c.child;h;){if(h===s){d=!0,s=c,o=a;break}if(h===o){d=!0,o=c,s=a;break}h=h.sibling}if(!d)throw Error(p(189))}}if(s.alternate!==o)throw Error(p(190))}if(s.tag!==3)throw Error(p(188));return s.stateNode.current===s?e:i}function Zb(e){return e=Yb(e),e!==null?$b(e):null}function $b(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var i=$b(e);if(i!==null)return i;e=e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,e,void 0,(e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(e){return e>>>=0,e===0?32:31-(pc(e)/qc|0)|0}var rc=64,sc=4194304;function tc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uc(e,i){var s=e.pendingLanes;if(s===0)return 0;var o=0,a=e.suspendedLanes,c=e.pingedLanes,d=s&268435455;if(d!==0){var h=d&~a;h!==0?o=tc(h):(c&=d,c!==0&&(o=tc(c)))}else d=s&~a,d!==0?o=tc(d):c!==0&&(o=tc(c));if(o===0)return 0;if(i!==0&&i!==o&&!(i&a)&&(a=o&-o,c=i&-i,a>=c||a===16&&(c&4194240)!==0))return i;if(o&4&&(o|=s&16),i=e.entangledLanes,i!==0)for(e=e.entanglements,i&=o;0<i;)s=31-oc(i),a=1<<s,o|=e[s],i&=~a;return o}function vc(e,i){switch(e){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(e,i){for(var s=e.suspendedLanes,o=e.pingedLanes,a=e.expirationTimes,c=e.pendingLanes;0<c;){var d=31-oc(c),h=1<<d,g=a[d];g===-1?(!(h&s)||h&o)&&(a[d]=vc(h,i)):g<=i&&(e.expiredLanes|=h),c&=~h}}function xc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yc(){var e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),e}function zc(e){for(var i=[],s=0;31>s;s++)i.push(e);return i}function Ac(e,i,s){e.pendingLanes|=i,i!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,i=31-oc(i),e[i]=s}function Bc(e,i){var s=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-oc(s),c=1<<a;i[a]=0,o[a]=-1,e[a]=-1,s&=~c}}function Cc(e,i){var s=e.entangledLanes|=i;for(e=e.entanglements;s;){var o=31-oc(s),a=1<<o;a&i|e[o]&i&&(e[o]|=i),s&=~a}}var C=0;function Dc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(e,i){switch(e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(i.pointerId)}}function Tc(e,i,s,o,a,c){return e===null||e.nativeEvent!==c?(e={blockedOn:i,domEventName:s,eventSystemFlags:o,nativeEvent:c,targetContainers:[a]},i!==null&&(i=Cb(i),i!==null&&Fc(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,a!==null&&i.indexOf(a)===-1&&i.push(a),e)}function Uc(e,i,s,o,a){switch(i){case"focusin":return Lc=Tc(Lc,e,i,s,o,a),!0;case"dragenter":return Mc=Tc(Mc,e,i,s,o,a),!0;case"mouseover":return Nc=Tc(Nc,e,i,s,o,a),!0;case"pointerover":var c=a.pointerId;return Oc.set(c,Tc(Oc.get(c)||null,e,i,s,o,a)),!0;case"gotpointercapture":return c=a.pointerId,Pc.set(c,Tc(Pc.get(c)||null,e,i,s,o,a)),!0}return!1}function Vc(e){var i=Wc(e.target);if(i!==null){var s=Vb(i);if(s!==null){if(i=s.tag,i===13){if(i=Wb(s),i!==null){e.blockedOn=i,Ic(e.priority,function(){Gc(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var s=Yc(e.domEventName,e.eventSystemFlags,i[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);wb=o,s.target.dispatchEvent(o),wb=null}else return i=Cb(s),i!==null&&Fc(i),e.blockedOn=s,!1;i.shift()}return!0}function Zc(e,i,s){Xc(e)&&s.delete(i)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(e,i){e.blockedOn===i&&(e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(e){function i(a){return ad(a,e)}if(0<Kc.length){ad(Kc[0],e);for(var s=1;s<Kc.length;s++){var o=Kc[s];o.blockedOn===e&&(o.blockedOn=null)}}for(Lc!==null&&ad(Lc,e),Mc!==null&&ad(Mc,e),Nc!==null&&ad(Nc,e),Oc.forEach(i),Pc.forEach(i),s=0;s<Qc.length;s++)o=Qc[s],o.blockedOn===e&&(o.blockedOn=null);for(;0<Qc.length&&(s=Qc[0],s.blockedOn===null);)Vc(s),s.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(e,i,s,o){var a=C,c=cd.transition;cd.transition=null;try{C=1,fd(e,i,s,o)}finally{C=a,cd.transition=c}}function gd(e,i,s,o){var a=C,c=cd.transition;cd.transition=null;try{C=4,fd(e,i,s,o)}finally{C=a,cd.transition=c}}function fd(e,i,s,o){if(dd){var a=Yc(e,i,s,o);if(a===null)hd(e,i,o,id$3,s),Sc(e,o);else if(Uc(a,e,i,s,o))o.stopPropagation();else if(Sc(e,o),i&4&&-1<Rc.indexOf(e)){for(;a!==null;){var c=Cb(a);if(c!==null&&Ec(c),c=Yc(e,i,s,o),c===null&&hd(e,i,o,id$3,s),c===a)break;a=c}a!==null&&o.stopPropagation()}else hd(e,i,o,null,s)}}var id$3=null;function Yc(e,i,s,o){if(id$3=null,e=xb(o),e=Wc(e),e!==null)if(i=Vb(e),i===null)e=null;else if(s=i.tag,s===13){if(e=Wb(i),e!==null)return e;e=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null);return id$3=e,null}function jd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var e,i=ld,s=i.length,o,a="value"in kd?kd.value:kd.textContent,c=a.length;for(e=0;e<s&&i[e]===a[e];e++);var d=s-e;for(o=1;o<=d&&i[s-o]===a[c-o];o++);return md=a.slice(e,1<o?1-o:void 0)}function od(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function pd(){return!0}function qd(){return!1}function rd(e){function i(s,o,a,c,d){this._reactName=s,this._targetInst=a,this.type=o,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var h in e)e.hasOwnProperty(h)&&(s=e[h],this[h]=s?s(c):c[h]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),i}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yd&&(yd&&e.type==="mousemove"?(wd=e.screenX-yd.screenX,xd=e.screenY-yd.screenY):xd=wd=0,yd=e),wd)},movementY:function(e){return"movementY"in e?e.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Od[e])?!!i[e]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(e){if(e.key){var i=Md[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=od(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(e){return e.type==="keypress"?od(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?od(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(e,i){switch(e){case"keyup":return $d.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ie=!1;function je(e,i){switch(e){case"compositionend":return he(i);case"keypress":return i.which!==32?null:(fe=!0,ee);case"textInput":return e=i.data,e===ee&&fe?null:e;default:return null}}function ke(e,i){if(ie)return e==="compositionend"||!ae&&ge(e,i)?(e=nd(),md=ld=kd=null,ie=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return de&&i.locale!=="ko"?null:i.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!le[e.type]:i==="textarea"}function ne(e,i,s,o){Eb(o),i=oe(i,"onChange"),0<i.length&&(s=new td("onChange","change",null,s,o),e.push({event:s,listeners:i}))}var pe=null,qe=null;function re(e){se(e,0)}function te(e){var i=ue(e);if(Wa(i))return e}function ve(e,i){if(e==="change")return i}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(e){if(e.propertyName==="value"&&te(qe)){var i=[];ne(i,qe,e,xb(e)),Jb(re,i)}}function Ce(e,i,s){e==="focusin"?(Ae(),pe=i,qe=s,pe.attachEvent("onpropertychange",Be)):e==="focusout"&&Ae()}function De(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return te(qe)}function Ee(e,i){if(e==="click")return te(i)}function Fe(e,i){if(e==="input"||e==="change")return te(i)}function Ge(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(e,i){if(He(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var s=Object.keys(e),o=Object.keys(i);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var a=s[o];if(!ja.call(i,a)||!He(e[a],i[a]))return!1}return!0}function Je(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ke(e,i){var s=Je(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=i&&o>=i)return{node:s,offset:i-e};e=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Je(s)}}function Le(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Le(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Me(){for(var e=window,i=Xa();i instanceof e.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)e=i.contentWindow;else break;i=Xa(e.document)}return i}function Ne(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}function Oe(e){var i=Me(),s=e.focusedElem,o=e.selectionRange;if(i!==s&&s&&s.ownerDocument&&Le(s.ownerDocument.documentElement,s)){if(o!==null&&Ne(s)){if(i=o.start,e=o.end,e===void 0&&(e=i),"selectionStart"in s)s.selectionStart=i,s.selectionEnd=Math.min(e,s.value.length);else if(e=(i=s.ownerDocument||document)&&i.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,c=Math.min(o.start,a);o=o.end===void 0?c:Math.min(o.end,a),!e.extend&&c>o&&(a=o,o=c,c=a),a=Ke(s,c);var d=Ke(s,o);a&&d&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(i=i.createRange(),i.setStart(a.node,a.offset),e.removeAllRanges(),c>o?(e.addRange(i),e.extend(d.node,d.offset)):(i.setEnd(d.node,d.offset),e.addRange(i)))}}for(i=[],e=s;e=e.parentNode;)e.nodeType===1&&i.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<i.length;s++)e=i[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(e,i,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Te||Qe==null||Qe!==Xa(o)||(o=Qe,"selectionStart"in o&&Ne(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Se&&Ie(Se,o)||(Se=o,o=oe(Re,"onSelect"),0<o.length&&(i=new td("onSelect","select",null,i,s),e.push({event:i,listeners:o}),i.target=Qe)))}function Ve(e,i){var s={};return s[e.toLowerCase()]=i.toLowerCase(),s["Webkit"+e]="webkit"+i,s["Moz"+e]="moz"+i,s}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(e){if(Xe[e])return Xe[e];if(!We[e])return e;var i=We[e],s;for(s in i)if(i.hasOwnProperty(s)&&s in Ye)return Xe[e]=i[s];return e}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(e,i){df.set(e,i),fa(i,[e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(e,i,s){var o=e.type||"unknown-event";e.currentTarget=s,Ub(o,i,void 0,e),e.currentTarget=null}function se(e,i){i=(i&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],a=o.event;o=o.listeners;e:{var c=void 0;if(i)for(var d=o.length-1;0<=d;d--){var h=o[d],g=h.instance,_=h.currentTarget;if(h=h.listener,g!==c&&a.isPropagationStopped())break e;nf(a,h,_),c=g}else for(d=0;d<o.length;d++){if(h=o[d],g=h.instance,_=h.currentTarget,h=h.listener,g!==c&&a.isPropagationStopped())break e;nf(a,h,_),c=g}}}if(Qb)throw e=Rb,Qb=!1,Rb=null,e}function D(e,i){var s=i[of];s===void 0&&(s=i[of]=new Set);var o=e+"__bubble";s.has(o)||(pf(i,e,2,!1),s.add(o))}function qf(e,i,s){var o=0;i&&(o|=4),pf(s,e,o,i)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(e){if(!e[rf]){e[rf]=!0,da.forEach(function(s){s!=="selectionchange"&&(mf.has(s)||qf(s,!1,e),qf(s,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[rf]||(i[rf]=!0,qf("selectionchange",!1,i))}}function pf(e,i,s,o){switch(jd(i)){case 1:var a=ed;break;case 4:a=gd;break;default:a=fd}s=a.bind(null,i,s,e),a=void 0,!Lb||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(a=!0),o?a!==void 0?e.addEventListener(i,s,{capture:!0,passive:a}):e.addEventListener(i,s,!0):a!==void 0?e.addEventListener(i,s,{passive:a}):e.addEventListener(i,s,!1)}function hd(e,i,s,o,a){var c=o;if(!(i&1)&&!(i&2)&&o!==null)e:for(;;){if(o===null)return;var d=o.tag;if(d===3||d===4){var h=o.stateNode.containerInfo;if(h===a||h.nodeType===8&&h.parentNode===a)break;if(d===4)for(d=o.return;d!==null;){var g=d.tag;if((g===3||g===4)&&(g=d.stateNode.containerInfo,g===a||g.nodeType===8&&g.parentNode===a))return;d=d.return}for(;h!==null;){if(d=Wc(h),d===null)return;if(g=d.tag,g===5||g===6){o=c=d;continue e}h=h.parentNode}}o=o.return}Jb(function(){var _=c,_e=xb(s),at=[];e:{var nt=df.get(e);if(nt!==void 0){var lt=td,tt=e;switch(e){case"keypress":if(od(s)===0)break e;case"keydown":case"keyup":lt=Rd;break;case"focusin":tt="focus",lt=Fd;break;case"focusout":tt="blur",lt=Fd;break;case"beforeblur":case"afterblur":lt=Fd;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":lt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":lt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":lt=Vd;break;case $e:case af:case bf:lt=Hd;break;case cf:lt=Xd;break;case"scroll":lt=vd;break;case"wheel":lt=Zd;break;case"copy":case"cut":case"paste":lt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":lt=Td}var b=(i&4)!==0,et=!b&&e==="scroll",j=b?nt!==null?nt+"Capture":null:nt;b=[];for(var rt=_,ot;rt!==null;){ot=rt;var st=ot.stateNode;if(ot.tag===5&&st!==null&&(ot=st,j!==null&&(st=Kb(rt,j),st!=null&&b.push(tf(rt,st,ot)))),et)break;rt=rt.return}0<b.length&&(nt=new lt(nt,tt,null,s,_e),at.push({event:nt,listeners:b}))}}if(!(i&7)){e:{if(nt=e==="mouseover"||e==="pointerover",lt=e==="mouseout"||e==="pointerout",nt&&s!==wb&&(tt=s.relatedTarget||s.fromElement)&&(Wc(tt)||tt[uf]))break e;if((lt||nt)&&(nt=_e.window===_e?_e:(nt=_e.ownerDocument)?nt.defaultView||nt.parentWindow:window,lt?(tt=s.relatedTarget||s.toElement,lt=_,tt=tt?Wc(tt):null,tt!==null&&(et=Vb(tt),tt!==et||tt.tag!==5&&tt.tag!==6)&&(tt=null)):(lt=null,tt=_),lt!==tt)){if(b=Bd,st="onMouseLeave",j="onMouseEnter",rt="mouse",(e==="pointerout"||e==="pointerover")&&(b=Td,st="onPointerLeave",j="onPointerEnter",rt="pointer"),et=lt==null?nt:ue(lt),ot=tt==null?nt:ue(tt),nt=new b(st,rt+"leave",lt,s,_e),nt.target=et,nt.relatedTarget=ot,st=null,Wc(_e)===_&&(b=new b(j,rt+"enter",tt,s,_e),b.target=ot,b.relatedTarget=et,st=b),et=st,lt&&tt)t:{for(b=lt,j=tt,rt=0,ot=b;ot;ot=vf(ot))rt++;for(ot=0,st=j;st;st=vf(st))ot++;for(;0<rt-ot;)b=vf(b),rt--;for(;0<ot-rt;)j=vf(j),ot--;for(;rt--;){if(b===j||j!==null&&b===j.alternate)break t;b=vf(b),j=vf(j)}b=null}else b=null;lt!==null&&wf(at,nt,lt,b,!1),tt!==null&&et!==null&&wf(at,et,tt,b,!0)}}e:{if(nt=_?ue(_):window,lt=nt.nodeName&&nt.nodeName.toLowerCase(),lt==="select"||lt==="input"&&nt.type==="file")var $=ve;else if(me(nt))if(we)$=Fe;else{$=De;var it=Ce}else(lt=nt.nodeName)&&lt.toLowerCase()==="input"&&(nt.type==="checkbox"||nt.type==="radio")&&($=Ee);if($&&($=$(e,_))){ne(at,$,s,_e);break e}it&&it(e,nt,_),e==="focusout"&&(it=nt._wrapperState)&&it.controlled&&nt.type==="number"&&cb(nt,"number",nt.value)}switch(it=_?ue(_):window,e){case"focusin":(me(it)||it.contentEditable==="true")&&(Qe=it,Re=_,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(at,s,_e);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(at,s,_e)}var ut;if(ae)e:{switch(e){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else ie?ge(e,s)&&(pt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(pt="onCompositionStart");pt&&(de&&s.locale!=="ko"&&(ie||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&ie&&(ut=nd()):(kd=_e,ld="value"in kd?kd.value:kd.textContent,ie=!0)),it=oe(_,pt),0<it.length&&(pt=new Ld(pt,e,null,s,_e),at.push({event:pt,listeners:it}),ut?pt.data=ut:(ut=he(s),ut!==null&&(pt.data=ut)))),(ut=ce?je(e,s):ke(e,s))&&(_=oe(_,"onBeforeInput"),0<_.length&&(_e=new Ld("onBeforeInput","beforeinput",null,s,_e),at.push({event:_e,listeners:_}),_e.data=ut))}se(at,i)})}function tf(e,i,s){return{instance:e,listener:i,currentTarget:s}}function oe(e,i){for(var s=i+"Capture",o=[];e!==null;){var a=e,c=a.stateNode;a.tag===5&&c!==null&&(a=c,c=Kb(e,s),c!=null&&o.unshift(tf(e,c,a)),c=Kb(e,i),c!=null&&o.push(tf(e,c,a))),e=e.return}return o}function vf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wf(e,i,s,o,a){for(var c=i._reactName,d=[];s!==null&&s!==o;){var h=s,g=h.alternate,_=h.stateNode;if(g!==null&&g===o)break;h.tag===5&&_!==null&&(h=_,a?(g=Kb(s,c),g!=null&&d.unshift(tf(s,g,h))):a||(g=Kb(s,c),g!=null&&d.push(tf(s,g,h)))),s=s.return}d.length!==0&&e.push({event:i,listeners:d})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(e){return(typeof e=="string"?e:""+e).replace(xf,`
`).replace(yf,"")}function Af(e,i,s){if(i=zf(i),zf(e)!==i&&s)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(e){return Hf.resolve(null).then(e).catch(If)}:Ff;function If(e){setTimeout(function(){throw e})}function Kf(e,i){var s=i,o=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(o===0){e.removeChild(a),bd(i);return}o--}else s!=="$"&&s!=="$?"&&s!=="$!"||o++;s=a}while(s);bd(i)}function Lf(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return e}function Mf(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return e;i--}else s==="/$"&&i++}e=e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(e){var i=e[Of];if(i)return i;for(var s=e.parentNode;s;){if(i=s[uf]||s[Of]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(e=Mf(e);e!==null;){if(s=e[Of])return s;e=Mf(e)}return i}e=s,s=e.parentNode}return null}function Cb(e){return e=e[Of]||e[uf],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ue(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(p(33))}function Db(e){return e[Pf]||null}var Sf=[],Tf=-1;function Uf(e){return{current:e}}function E(e){0>Tf||(e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(e,i){Tf++,Sf[Tf]=e.current,e.current=i}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(e,i){var s=e.type.contextTypes;if(!s)return Vf;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===i)return o.__reactInternalMemoizedMaskedChildContext;var a={},c;for(c in s)a[c]=i[c];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),a}function Zf(e){return e=e.childContextTypes,e!=null}function $f(){E(Wf),E(H)}function ag(e,i,s){if(H.current!==Vf)throw Error(p(168));G(H,i),G(Wf,s)}function bg(e,i,s){var o=e.stateNode;if(i=i.childContextTypes,typeof o.getChildContext!="function")return s;o=o.getChildContext();for(var a in o)if(!(a in i))throw Error(p(108,Ra(e)||"Unknown",a));return A({},s,o)}function cg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,e),G(Wf,Wf.current),!0}function dg(e,i,s){var o=e.stateNode;if(!o)throw Error(p(169));s?(e=bg(e,i,Xf),o.__reactInternalMemoizedMergedChildContext=e,E(Wf),E(H),G(H,e)):E(Wf),G(Wf,s)}var eg=null,fg=!1,gg=!1;function hg(e){eg===null?eg=[e]:eg.push(e)}function ig(e){fg=!0,hg(e)}function jg(){if(!gg&&eg!==null){gg=!0;var e=0,i=C;try{var s=eg;for(C=1;e<s.length;e++){var o=s[e];do o=o(!0);while(o!==null)}eg=null,fg=!1}catch(a){throw eg!==null&&(eg=eg.slice(e+1)),ac(fc,jg),a}finally{C=i,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(e,i){kg[lg++]=ng,kg[lg++]=mg,mg=e,ng=i}function ug(e,i,s){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=e;var o=rg;e=sg;var a=32-oc(o)-1;o&=~(1<<a),s+=1;var c=32-oc(i)+a;if(30<c){var d=a-a%5;c=(o&(1<<d)-1).toString(32),o>>=d,a-=d,rg=1<<32-oc(i)+a|s<<a|o,sg=c+e}else rg=1<<c|s<<a|o,sg=e}function vg(e){e.return!==null&&(tg(e,1),ug(e,1,0))}function wg(e){for(;e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(e,i){var s=Bg(5,null,null,0);s.elementType="DELETED",s.stateNode=i,s.return=e,i=e.deletions,i===null?(e.deletions=[s],e.flags|=16):i.push(s)}function Cg(e,i){switch(e.tag){case 5:var s=e.type;return i=i.nodeType!==1||s.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(e.stateNode=i,xg=e,yg=Lf(i.firstChild),!0):!1;case 6:return i=e.pendingProps===""||i.nodeType!==3?null:i,i!==null?(e.stateNode=i,xg=e,yg=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(s=qg!==null?{id:rg,overflow:sg}:null,e.memoizedState={dehydrated:i,treeContext:s,retryLane:1073741824},s=Bg(18,null,null,0),s.stateNode=i,s.return=e,e.child=s,xg=e,yg=null,!0):!1;default:return!1}}function Dg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eg(e){if(I){var i=yg;if(i){var s=i;if(!Cg(e,i)){if(Dg(e))throw Error(p(418));i=Lf(s.nextSibling);var o=xg;i&&Cg(e,i)?Ag(o,s):(e.flags=e.flags&-4097|2,I=!1,xg=e)}}else{if(Dg(e))throw Error(p(418));e.flags=e.flags&-4097|2,I=!1,xg=e}}}function Fg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xg=e}function Gg(e){if(e!==xg)return!1;if(!I)return Fg(e),I=!0,!1;var i;if((i=e.tag!==3)&&!(i=e.tag!==5)&&(i=e.type,i=i!=="head"&&i!=="body"&&!Ef(e.type,e.memoizedProps)),i&&(i=yg)){if(Dg(e))throw Hg(),Error(p(418));for(;i;)Ag(e,i),i=Lf(i.nextSibling)}if(Fg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p(317));e:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(i===0){yg=Lf(e.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++}e=e.nextSibling}yg=null}}else yg=xg?Lf(e.stateNode.nextSibling):null;return!0}function Hg(){for(var e=yg;e;)e=Lf(e.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(e){zg===null?zg=[e]:zg.push(e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(e,i){if(e&&e.defaultProps){i=A({},i),e=e.defaultProps;for(var s in e)i[s]===void 0&&(i[s]=e[s]);return i}return i}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(e){var i=Mg.current;E(Mg),e._currentValue=i}function Sg(e,i,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===s)break;e=e.return}}function Tg(e,i){Ng=e,Pg=Og=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&i&&(Ug=!0),e.firstContext=null)}function Vg(e){var i=e._currentValue;if(Pg!==e)if(e={context:e,memoizedValue:i,next:null},Og===null){if(Ng===null)throw Error(p(308));Og=e,Ng.dependencies={lanes:0,firstContext:e}}else Og=Og.next=e;return i}var Wg=null;function Xg(e){Wg===null?Wg=[e]:Wg.push(e)}function Yg(e,i,s,o){var a=i.interleaved;return a===null?(s.next=s,Xg(i)):(s.next=a.next,a.next=s),i.interleaved=s,Zg(e,o)}function Zg(e,i){e.lanes|=i;var s=e.alternate;for(s!==null&&(s.lanes|=i),s=e,e=e.return;e!==null;)e.childLanes|=i,s=e.alternate,s!==null&&(s.childLanes|=i),s=e,e=e.return;return s.tag===3?s.stateNode:null}var $g=!1;function ah(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ch(e,i){return{eventTime:e,lane:i,tag:0,payload:null,callback:null,next:null}}function dh(e,i,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,K&2){var a=o.pending;return a===null?i.next=i:(i.next=a.next,a.next=i),o.pending=i,Zg(e,s)}return a=o.interleaved,a===null?(i.next=i,Xg(o)):(i.next=a.next,a.next=i),o.interleaved=i,Zg(e,s)}function eh(e,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194240)!==0)){var o=i.lanes;o&=e.pendingLanes,s|=o,i.lanes=s,Cc(e,s)}}function fh(e,i){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var a=null,c=null;if(s=s.firstBaseUpdate,s!==null){do{var d={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};c===null?a=c=d:c=c.next=d,s=s.next}while(s!==null);c===null?a=c=i:c=c.next=i}else a=c=i;s={baseState:o.baseState,firstBaseUpdate:a,lastBaseUpdate:c,shared:o.shared,effects:o.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=i:e.next=i,s.lastBaseUpdate=i}function gh(e,i,s,o){var a=e.updateQueue;$g=!1;var c=a.firstBaseUpdate,d=a.lastBaseUpdate,h=a.shared.pending;if(h!==null){a.shared.pending=null;var g=h,_=g.next;g.next=null,d===null?c=_:d.next=_,d=g;var _e=e.alternate;_e!==null&&(_e=_e.updateQueue,h=_e.lastBaseUpdate,h!==d&&(h===null?_e.firstBaseUpdate=_:h.next=_,_e.lastBaseUpdate=g))}if(c!==null){var at=a.baseState;d=0,_e=_=g=null,h=c;do{var nt=h.lane,lt=h.eventTime;if((o&nt)===nt){_e!==null&&(_e=_e.next={eventTime:lt,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var tt=e,b=h;switch(nt=i,lt=s,b.tag){case 1:if(tt=b.payload,typeof tt=="function"){at=tt.call(lt,at,nt);break e}at=tt;break e;case 3:tt.flags=tt.flags&-65537|128;case 0:if(tt=b.payload,nt=typeof tt=="function"?tt.call(lt,at,nt):tt,nt==null)break e;at=A({},at,nt);break e;case 2:$g=!0}}h.callback!==null&&h.lane!==0&&(e.flags|=64,nt=a.effects,nt===null?a.effects=[h]:nt.push(h))}else lt={eventTime:lt,lane:nt,tag:h.tag,payload:h.payload,callback:h.callback,next:null},_e===null?(_=_e=lt,g=at):_e=_e.next=lt,d|=nt;if(h=h.next,h===null){if(h=a.shared.pending,h===null)break;nt=h,h=nt.next,nt.next=null,a.lastBaseUpdate=nt,a.shared.pending=null}}while(1);if(_e===null&&(g=at),a.baseState=g,a.firstBaseUpdate=_,a.lastBaseUpdate=_e,i=a.shared.interleaved,i!==null){a=i;do d|=a.lane,a=a.next;while(a!==i)}else c===null&&(a.shared.lanes=0);hh|=d,e.lanes=d,e.memoizedState=at}}function ih(e,i,s){if(e=i.effects,i.effects=null,e!==null)for(i=0;i<e.length;i++){var o=e[i],a=o.callback;if(a!==null){if(o.callback=null,o=s,typeof a!="function")throw Error(p(191,a));a.call(o)}}}var jh=new aa.Component().refs;function kh(e,i,s,o){i=e.memoizedState,s=s(o,i),s=s==null?i:A({},i,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var nh={isMounted:function(e){return(e=e._reactInternals)?Vb(e)===e:!1},enqueueSetState:function(e,i,s){e=e._reactInternals;var o=L(),a=lh(e),c=ch(o,a);c.payload=i,s!=null&&(c.callback=s),i=dh(e,c,a),i!==null&&(mh(i,e,a,o),eh(i,e,a))},enqueueReplaceState:function(e,i,s){e=e._reactInternals;var o=L(),a=lh(e),c=ch(o,a);c.tag=1,c.payload=i,s!=null&&(c.callback=s),i=dh(e,c,a),i!==null&&(mh(i,e,a,o),eh(i,e,a))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var s=L(),o=lh(e),a=ch(s,o);a.tag=2,i!=null&&(a.callback=i),i=dh(e,a,o),i!==null&&(mh(i,e,o,s),eh(i,e,o))}};function oh(e,i,s,o,a,c,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,c,d):i.prototype&&i.prototype.isPureReactComponent?!Ie(s,o)||!Ie(a,c):!0}function ph(e,i,s){var o=!1,a=Vf,c=i.contextType;return typeof c=="object"&&c!==null?c=Vg(c):(a=Zf(i)?Xf:H.current,o=i.contextTypes,c=(o=o!=null)?Yf(e,a):Vf),i=new i(s,c),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=nh,e.stateNode=i,i._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=c),i}function qh(e,i,s,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,o),i.state!==e&&nh.enqueueReplaceState(i,i.state,null)}function rh(e,i,s,o){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs=jh,ah(e);var c=i.contextType;typeof c=="object"&&c!==null?a.context=Vg(c):(c=Zf(i)?Xf:H.current,a.context=Yf(e,c)),a.state=e.memoizedState,c=i.getDerivedStateFromProps,typeof c=="function"&&(kh(e,i,c,s),a.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(i=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),i!==a.state&&nh.enqueueReplaceState(a,a.state,null),gh(e,s,a,o),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function sh(e,i,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(p(309));var o=s.stateNode}if(!o)throw Error(p(147,e));var a=o,c=""+e;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===c?i.ref:(i=function(d){var h=a.refs;h===jh&&(h=a.refs={}),d===null?delete h[c]:h[c]=d},i._stringRef=c,i)}if(typeof e!="string")throw Error(p(284));if(!s._owner)throw Error(p(290,e))}return e}function th(e,i){throw e=Object.prototype.toString.call(i),Error(p(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e))}function uh(e){var i=e._init;return i(e._payload)}function vh$1(e){function i(j,rt){if(e){var ot=j.deletions;ot===null?(j.deletions=[rt],j.flags|=16):ot.push(rt)}}function s(j,rt){if(!e)return null;for(;rt!==null;)i(j,rt),rt=rt.sibling;return null}function o(j,rt){for(j=new Map;rt!==null;)rt.key!==null?j.set(rt.key,rt):j.set(rt.index,rt),rt=rt.sibling;return j}function a(j,rt){return j=wh(j,rt),j.index=0,j.sibling=null,j}function c(j,rt,ot){return j.index=ot,e?(ot=j.alternate,ot!==null?(ot=ot.index,ot<rt?(j.flags|=2,rt):ot):(j.flags|=2,rt)):(j.flags|=1048576,rt)}function d(j){return e&&j.alternate===null&&(j.flags|=2),j}function h(j,rt,ot,st){return rt===null||rt.tag!==6?(rt=xh(ot,j.mode,st),rt.return=j,rt):(rt=a(rt,ot),rt.return=j,rt)}function g(j,rt,ot,st){var $=ot.type;return $===ya?_e(j,rt,ot.props.children,st,ot.key):rt!==null&&(rt.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Ha&&uh($)===rt.type)?(st=a(rt,ot.props),st.ref=sh(j,rt,ot),st.return=j,st):(st=yh(ot.type,ot.key,ot.props,null,j.mode,st),st.ref=sh(j,rt,ot),st.return=j,st)}function _(j,rt,ot,st){return rt===null||rt.tag!==4||rt.stateNode.containerInfo!==ot.containerInfo||rt.stateNode.implementation!==ot.implementation?(rt=zh(ot,j.mode,st),rt.return=j,rt):(rt=a(rt,ot.children||[]),rt.return=j,rt)}function _e(j,rt,ot,st,$){return rt===null||rt.tag!==7?(rt=Ah(ot,j.mode,st,$),rt.return=j,rt):(rt=a(rt,ot),rt.return=j,rt)}function at(j,rt,ot){if(typeof rt=="string"&&rt!==""||typeof rt=="number")return rt=xh(""+rt,j.mode,ot),rt.return=j,rt;if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case va:return ot=yh(rt.type,rt.key,rt.props,null,j.mode,ot),ot.ref=sh(j,null,rt),ot.return=j,ot;case wa:return rt=zh(rt,j.mode,ot),rt.return=j,rt;case Ha:var st=rt._init;return at(j,st(rt._payload),ot)}if(eb(rt)||Ka(rt))return rt=Ah(rt,j.mode,ot,null),rt.return=j,rt;th(j,rt)}return null}function nt(j,rt,ot,st){var $=rt!==null?rt.key:null;if(typeof ot=="string"&&ot!==""||typeof ot=="number")return $!==null?null:h(j,rt,""+ot,st);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case va:return ot.key===$?g(j,rt,ot,st):null;case wa:return ot.key===$?_(j,rt,ot,st):null;case Ha:return $=ot._init,nt(j,rt,$(ot._payload),st)}if(eb(ot)||Ka(ot))return $!==null?null:_e(j,rt,ot,st,null);th(j,ot)}return null}function lt(j,rt,ot,st,$){if(typeof st=="string"&&st!==""||typeof st=="number")return j=j.get(ot)||null,h(rt,j,""+st,$);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case va:return j=j.get(st.key===null?ot:st.key)||null,g(rt,j,st,$);case wa:return j=j.get(st.key===null?ot:st.key)||null,_(rt,j,st,$);case Ha:var it=st._init;return lt(j,rt,ot,it(st._payload),$)}if(eb(st)||Ka(st))return j=j.get(ot)||null,_e(rt,j,st,$,null);th(rt,st)}return null}function tt(j,rt,ot,st){for(var $=null,it=null,ut=rt,pt=rt=0,mt=null;ut!==null&&pt<ot.length;pt++){ut.index>pt?(mt=ut,ut=null):mt=ut.sibling;var ht=nt(j,ut,ot[pt],st);if(ht===null){ut===null&&(ut=mt);break}e&&ut&&ht.alternate===null&&i(j,ut),rt=c(ht,rt,pt),it===null?$=ht:it.sibling=ht,it=ht,ut=mt}if(pt===ot.length)return s(j,ut),I&&tg(j,pt),$;if(ut===null){for(;pt<ot.length;pt++)ut=at(j,ot[pt],st),ut!==null&&(rt=c(ut,rt,pt),it===null?$=ut:it.sibling=ut,it=ut);return I&&tg(j,pt),$}for(ut=o(j,ut);pt<ot.length;pt++)mt=lt(ut,j,pt,ot[pt],st),mt!==null&&(e&&mt.alternate!==null&&ut.delete(mt.key===null?pt:mt.key),rt=c(mt,rt,pt),it===null?$=mt:it.sibling=mt,it=mt);return e&&ut.forEach(function(_t){return i(j,_t)}),I&&tg(j,pt),$}function b(j,rt,ot,st){var $=Ka(ot);if(typeof $!="function")throw Error(p(150));if(ot=$.call(ot),ot==null)throw Error(p(151));for(var it=$=null,ut=rt,pt=rt=0,mt=null,ht=ot.next();ut!==null&&!ht.done;pt++,ht=ot.next()){ut.index>pt?(mt=ut,ut=null):mt=ut.sibling;var _t=nt(j,ut,ht.value,st);if(_t===null){ut===null&&(ut=mt);break}e&&ut&&_t.alternate===null&&i(j,ut),rt=c(_t,rt,pt),it===null?$=_t:it.sibling=_t,it=_t,ut=mt}if(ht.done)return s(j,ut),I&&tg(j,pt),$;if(ut===null){for(;!ht.done;pt++,ht=ot.next())ht=at(j,ht.value,st),ht!==null&&(rt=c(ht,rt,pt),it===null?$=ht:it.sibling=ht,it=ht);return I&&tg(j,pt),$}for(ut=o(j,ut);!ht.done;pt++,ht=ot.next())ht=lt(ut,j,pt,ht.value,st),ht!==null&&(e&&ht.alternate!==null&&ut.delete(ht.key===null?pt:ht.key),rt=c(ht,rt,pt),it===null?$=ht:it.sibling=ht,it=ht);return e&&ut.forEach(function(Vt){return i(j,Vt)}),I&&tg(j,pt),$}function et(j,rt,ot,st){if(typeof ot=="object"&&ot!==null&&ot.type===ya&&ot.key===null&&(ot=ot.props.children),typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case va:e:{for(var $=ot.key,it=rt;it!==null;){if(it.key===$){if($=ot.type,$===ya){if(it.tag===7){s(j,it.sibling),rt=a(it,ot.props.children),rt.return=j,j=rt;break e}}else if(it.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Ha&&uh($)===it.type){s(j,it.sibling),rt=a(it,ot.props),rt.ref=sh(j,it,ot),rt.return=j,j=rt;break e}s(j,it);break}else i(j,it);it=it.sibling}ot.type===ya?(rt=Ah(ot.props.children,j.mode,st,ot.key),rt.return=j,j=rt):(st=yh(ot.type,ot.key,ot.props,null,j.mode,st),st.ref=sh(j,rt,ot),st.return=j,j=st)}return d(j);case wa:e:{for(it=ot.key;rt!==null;){if(rt.key===it)if(rt.tag===4&&rt.stateNode.containerInfo===ot.containerInfo&&rt.stateNode.implementation===ot.implementation){s(j,rt.sibling),rt=a(rt,ot.children||[]),rt.return=j,j=rt;break e}else{s(j,rt);break}else i(j,rt);rt=rt.sibling}rt=zh(ot,j.mode,st),rt.return=j,j=rt}return d(j);case Ha:return it=ot._init,et(j,rt,it(ot._payload),st)}if(eb(ot))return tt(j,rt,ot,st);if(Ka(ot))return b(j,rt,ot,st);th(j,ot)}return typeof ot=="string"&&ot!==""||typeof ot=="number"?(ot=""+ot,rt!==null&&rt.tag===6?(s(j,rt.sibling),rt=a(rt,ot),rt.return=j,j=rt):(s(j,rt),rt=xh(ot,j.mode,st),rt.return=j,j=rt),d(j)):s(j,rt)}return et}var Bh=vh$1(!0),Ch=vh$1(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(e){if(e===Dh)throw Error(p(174));return e}function Ih(e,i){switch(G(Gh,i),G(Fh,e),G(Eh,Dh),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:lb(null,"");break;default:e=e===8?i.parentNode:i,i=e.namespaceURI||null,e=e.tagName,i=lb(i,e)}E(Eh),G(Eh,i)}function Jh(){E(Eh),E(Fh),E(Gh)}function Kh(e){Hh(Gh.current);var i=Hh(Eh.current),s=lb(i,e.type);i!==s&&(G(Fh,e),G(Eh,s))}function Lh(e){Fh.current===e&&(E(Eh),E(Fh))}var M=Uf(0);function Mh(e){for(var i=e;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Nh=[];function Oh(){for(var e=0;e<Nh.length;e++)Nh[e]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N=null,O=null,P=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p(321))}function Wh(e,i){if(i===null)return!1;for(var s=0;s<i.length&&s<e.length;s++)if(!He(e[s],i[s]))return!1;return!0}function Xh(e,i,s,o,a,c){if(Rh=c,N=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Ph.current=e===null||e.memoizedState===null?Yh:Zh,e=s(o,a),Th){c=0;do{if(Th=!1,Uh=0,25<=c)throw Error(p(301));c+=1,P=O=null,i.updateQueue=null,Ph.current=$h,e=s(o,a)}while(Th)}if(Ph.current=ai,i=O!==null&&O.next!==null,Rh=0,P=O=N=null,Sh=!1,i)throw Error(p(300));return e}function bi(){var e=Uh!==0;return Uh=0,e}function ci(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P===null?N.memoizedState=P=e:P=P.next=e,P}function di(){if(O===null){var e=N.alternate;e=e!==null?e.memoizedState:null}else e=O.next;var i=P===null?N.memoizedState:P.next;if(i!==null)P=i,O=e;else{if(e===null)throw Error(p(310));O=e,e={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null},P===null?N.memoizedState=P=e:P=P.next=e}return P}function ei(e,i){return typeof i=="function"?i(e):i}function fi(e){var i=di(),s=i.queue;if(s===null)throw Error(p(311));s.lastRenderedReducer=e;var o=O,a=o.baseQueue,c=s.pending;if(c!==null){if(a!==null){var d=a.next;a.next=c.next,c.next=d}o.baseQueue=a=c,s.pending=null}if(a!==null){c=a.next,o=o.baseState;var h=d=null,g=null,_=c;do{var _e=_.lane;if((Rh&_e)===_e)g!==null&&(g=g.next={lane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),o=_.hasEagerState?_.eagerState:e(o,_.action);else{var at={lane:_e,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null};g===null?(h=g=at,d=o):g=g.next=at,N.lanes|=_e,hh|=_e}_=_.next}while(_!==null&&_!==c);g===null?d=o:g.next=h,He(o,i.memoizedState)||(Ug=!0),i.memoizedState=o,i.baseState=d,i.baseQueue=g,s.lastRenderedState=o}if(e=s.interleaved,e!==null){a=e;do c=a.lane,N.lanes|=c,hh|=c,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[i.memoizedState,s.dispatch]}function gi(e){var i=di(),s=i.queue;if(s===null)throw Error(p(311));s.lastRenderedReducer=e;var o=s.dispatch,a=s.pending,c=i.memoizedState;if(a!==null){s.pending=null;var d=a=a.next;do c=e(c,d.action),d=d.next;while(d!==a);He(c,i.memoizedState)||(Ug=!0),i.memoizedState=c,i.baseQueue===null&&(i.baseState=c),s.lastRenderedState=c}return[c,o]}function hi(){}function ii(e,i){var s=N,o=di(),a=i(),c=!He(o.memoizedState,a);if(c&&(o.memoizedState=a,Ug=!0),o=o.queue,ji(ki.bind(null,s,o,e),[e]),o.getSnapshot!==i||c||P!==null&&P.memoizedState.tag&1){if(s.flags|=2048,li(9,mi.bind(null,s,o,a,i),void 0,null),R===null)throw Error(p(349));Rh&30||ni(s,i,a)}return a}function ni(e,i,s){e.flags|=16384,e={getSnapshot:i,value:s},i=N.updateQueue,i===null?(i={lastEffect:null,stores:null},N.updateQueue=i,i.stores=[e]):(s=i.stores,s===null?i.stores=[e]:s.push(e))}function mi(e,i,s,o){i.value=s,i.getSnapshot=o,oi(i)&&pi(e)}function ki(e,i,s){return s(function(){oi(i)&&pi(e)})}function oi(e){var i=e.getSnapshot;e=e.value;try{var s=i();return!He(e,s)}catch{return!0}}function pi(e){var i=Zg(e,1);i!==null&&mh(i,e,1,-1)}function qi(e){var i=ci();return typeof e=="function"&&(e=e()),i.memoizedState=i.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:e},i.queue=e,e=e.dispatch=ri.bind(null,N,e),[i.memoizedState,e]}function li(e,i,s,o){return e={tag:e,create:i,destroy:s,deps:o,next:null},i=N.updateQueue,i===null?(i={lastEffect:null,stores:null},N.updateQueue=i,i.lastEffect=e.next=e):(s=i.lastEffect,s===null?i.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,i.lastEffect=e)),e}function si(){return di().memoizedState}function ti(e,i,s,o){var a=ci();N.flags|=e,a.memoizedState=li(1|i,s,void 0,o===void 0?null:o)}function ui(e,i,s,o){var a=di();o=o===void 0?null:o;var c=void 0;if(O!==null){var d=O.memoizedState;if(c=d.destroy,o!==null&&Wh(o,d.deps)){a.memoizedState=li(i,s,c,o);return}}N.flags|=e,a.memoizedState=li(1|i,s,c,o)}function vi(e,i){return ti(8390656,8,e,i)}function ji(e,i){return ui(2048,8,e,i)}function wi(e,i){return ui(4,2,e,i)}function xi(e,i){return ui(4,4,e,i)}function yi(e,i){if(typeof i=="function")return e=e(),i(e),function(){i(null)};if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function zi(e,i,s){return s=s!=null?s.concat([e]):null,ui(4,4,yi.bind(null,i,e),s)}function Ai(){}function Bi(e,i){var s=di();i=i===void 0?null:i;var o=s.memoizedState;return o!==null&&i!==null&&Wh(i,o[1])?o[0]:(s.memoizedState=[e,i],e)}function Ci(e,i){var s=di();i=i===void 0?null:i;var o=s.memoizedState;return o!==null&&i!==null&&Wh(i,o[1])?o[0]:(e=e(),s.memoizedState=[e,i],e)}function Di(e,i,s){return Rh&21?(He(s,i)||(s=yc(),N.lanes|=s,hh|=s,e.baseState=!0),i):(e.baseState&&(e.baseState=!1,Ug=!0),e.memoizedState=s)}function Ei(e,i){var s=C;C=s!==0&&4>s?s:4,e(!0);var o=Qh.transition;Qh.transition={};try{e(!1),i()}finally{C=s,Qh.transition=o}}function Fi(){return di().memoizedState}function Gi(e,i,s){var o=lh(e);if(s={lane:o,action:s,hasEagerState:!1,eagerState:null,next:null},Hi(e))Ii(i,s);else if(s=Yg(e,i,s,o),s!==null){var a=L();mh(s,e,o,a),Ji(s,i,o)}}function ri(e,i,s){var o=lh(e),a={lane:o,action:s,hasEagerState:!1,eagerState:null,next:null};if(Hi(e))Ii(i,a);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=i.lastRenderedReducer,c!==null))try{var d=i.lastRenderedState,h=c(d,s);if(a.hasEagerState=!0,a.eagerState=h,He(h,d)){var g=i.interleaved;g===null?(a.next=a,Xg(i)):(a.next=g.next,g.next=a),i.interleaved=a;return}}catch{}finally{}s=Yg(e,i,a,o),s!==null&&(a=L(),mh(s,e,o,a),Ji(s,i,o))}}function Hi(e){var i=e.alternate;return e===N||i!==null&&i===N}function Ii(e,i){Th=Sh=!0;var s=e.pending;s===null?i.next=i:(i.next=s.next,s.next=i),e.pending=i}function Ji(e,i,s){if(s&4194240){var o=i.lanes;o&=e.pendingLanes,s|=o,i.lanes=s,Cc(e,s)}}var ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(e,i){return ci().memoizedState=[e,i===void 0?null:i],e},useContext:Vg,useEffect:vi,useImperativeHandle:function(e,i,s){return s=s!=null?s.concat([e]):null,ti(4194308,4,yi.bind(null,i,e),s)},useLayoutEffect:function(e,i){return ti(4194308,4,e,i)},useInsertionEffect:function(e,i){return ti(4,2,e,i)},useMemo:function(e,i){var s=ci();return i=i===void 0?null:i,e=e(),s.memoizedState=[e,i],e},useReducer:function(e,i,s){var o=ci();return i=s!==void 0?s(i):i,o.memoizedState=o.baseState=i,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},o.queue=e,e=e.dispatch=Gi.bind(null,N,e),[o.memoizedState,e]},useRef:function(e){var i=ci();return e={current:e},i.memoizedState=e},useState:qi,useDebugValue:Ai,useDeferredValue:function(e){return ci().memoizedState=e},useTransition:function(){var e=qi(!1),i=e[0];return e=Ei.bind(null,e[1]),ci().memoizedState=e,[i,e]},useMutableSource:function(){},useSyncExternalStore:function(e,i,s){var o=N,a=ci();if(I){if(s===void 0)throw Error(p(407));s=s()}else{if(s=i(),R===null)throw Error(p(349));Rh&30||ni(o,i,s)}a.memoizedState=s;var c={value:s,getSnapshot:i};return a.queue=c,vi(ki.bind(null,o,c,e),[e]),o.flags|=2048,li(9,mi.bind(null,o,c,s,i),void 0,null),s},useId:function(){var e=ci(),i=R.identifierPrefix;if(I){var s=sg,o=rg;s=(o&~(1<<32-oc(o)-1)).toString(32)+s,i=":"+i+"R"+s,s=Uh++,0<s&&(i+="H"+s.toString(32)),i+=":"}else s=Vh++,i=":"+i+"r"+s.toString(32)+":";return e.memoizedState=i},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(e){var i=di();return Di(i,O.memoizedState,e)},useTransition:function(){var e=fi(ei)[0],i=di().memoizedState;return[e,i]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(e){var i=di();return O===null?i.memoizedState=e:Di(i,O.memoizedState,e)},useTransition:function(){var e=gi(ei)[0],i=di().memoizedState;return[e,i]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(e,i){try{var s="",o=i;do s+=Pa(o),o=o.return;while(o);var a=s}catch(c){a=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:i,stack:a,digest:null}}function Li(e,i,s){return{value:e,source:null,stack:s??null,digest:i??null}}function Mi(e,i){try{console.error(i.value)}catch(s){setTimeout(function(){throw s})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(e,i,s){s=ch(-1,s),s.tag=3,s.payload={element:null};var o=i.value;return s.callback=function(){Pi||(Pi=!0,Qi=o),Mi(e,i)},s}function Ri(e,i,s){s=ch(-1,s),s.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var a=i.value;s.payload=function(){return o(a)},s.callback=function(){Mi(e,i)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(s.callback=function(){Mi(e,i),typeof o!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var d=i.stack;this.componentDidCatch(i.value,{componentStack:d!==null?d:""})}),s}function Ti(e,i,s){var o=e.pingCache;if(o===null){o=e.pingCache=new Ni;var a=new Set;o.set(i,a)}else a=o.get(i),a===void 0&&(a=new Set,o.set(i,a));a.has(s)||(a.add(s),e=Ui.bind(null,e,i,s),i.then(e,e))}function Vi(e){do{var i;if((i=e.tag===13)&&(i=e.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return e;e=e.return}while(e!==null);return null}function Wi(e,i,s,o,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===i?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(i=ch(-1,1),i.tag=2,dh(s,i,1))),s.lanes|=1),e)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(e,i,s,o){i.child=e===null?Ch(i,null,s,o):Bh(i,e.child,s,o)}function Zi(e,i,s,o,a){s=s.render;var c=i.ref;return Tg(i,a),o=Xh(e,i,s,o,c,a),s=bi(),e!==null&&!Ug?(i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a,$i(e,i,a)):(I&&s&&vg(i),i.flags|=1,Yi(e,i,o,a),i.child)}function aj(e,i,s,o,a){if(e===null){var c=s.type;return typeof c=="function"&&!bj(c)&&c.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(i.tag=15,i.type=c,cj(e,i,c,o,a)):(e=yh(s.type,null,o,i,i.mode,a),e.ref=i.ref,e.return=i,i.child=e)}if(c=e.child,!(e.lanes&a)){var d=c.memoizedProps;if(s=s.compare,s=s!==null?s:Ie,s(d,o)&&e.ref===i.ref)return $i(e,i,a)}return i.flags|=1,e=wh(c,o),e.ref=i.ref,e.return=i,i.child=e}function cj(e,i,s,o,a){if(e!==null){var c=e.memoizedProps;if(Ie(c,o)&&e.ref===i.ref)if(Ug=!1,i.pendingProps=o=c,(e.lanes&a)!==0)e.flags&131072&&(Ug=!0);else return i.lanes=e.lanes,$i(e,i,a)}return dj(e,i,s,o,a)}function ej(e,i,s){var o=i.pendingProps,a=o.children,c=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=s;else{if(!(s&1073741824))return e=c!==null?c.baseLanes|s:s,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:e,cachePool:null,transitions:null},i.updateQueue=null,G(fj,gj),gj|=e,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=c!==null?c.baseLanes:s,G(fj,gj),gj|=o}else c!==null?(o=c.baseLanes|s,i.memoizedState=null):o=s,G(fj,gj),gj|=o;return Yi(e,i,a,s),i.child}function hj(e,i){var s=i.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(i.flags|=512,i.flags|=2097152)}function dj(e,i,s,o,a){var c=Zf(s)?Xf:H.current;return c=Yf(i,c),Tg(i,a),s=Xh(e,i,s,o,c,a),o=bi(),e!==null&&!Ug?(i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a,$i(e,i,a)):(I&&o&&vg(i),i.flags|=1,Yi(e,i,s,a),i.child)}function ij(e,i,s,o,a){if(Zf(s)){var c=!0;cg(i)}else c=!1;if(Tg(i,a),i.stateNode===null)jj(e,i),ph(i,s,o),rh(i,s,o,a),o=!0;else if(e===null){var d=i.stateNode,h=i.memoizedProps;d.props=h;var g=d.context,_=s.contextType;typeof _=="object"&&_!==null?_=Vg(_):(_=Zf(s)?Xf:H.current,_=Yf(i,_));var _e=s.getDerivedStateFromProps,at=typeof _e=="function"||typeof d.getSnapshotBeforeUpdate=="function";at||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(h!==o||g!==_)&&qh(i,d,o,_),$g=!1;var nt=i.memoizedState;d.state=nt,gh(i,o,d,a),g=i.memoizedState,h!==o||nt!==g||Wf.current||$g?(typeof _e=="function"&&(kh(i,s,_e,o),g=i.memoizedState),(h=$g||oh(i,s,h,o,nt,g,_))?(at||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=g),d.props=o,d.state=g,d.context=_,o=h):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,bh(e,i),h=i.memoizedProps,_=i.type===i.elementType?h:Lg(i.type,h),d.props=_,at=i.pendingProps,nt=d.context,g=s.contextType,typeof g=="object"&&g!==null?g=Vg(g):(g=Zf(s)?Xf:H.current,g=Yf(i,g));var lt=s.getDerivedStateFromProps;(_e=typeof lt=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(h!==at||nt!==g)&&qh(i,d,o,g),$g=!1,nt=i.memoizedState,d.state=nt,gh(i,o,d,a);var tt=i.memoizedState;h!==at||nt!==tt||Wf.current||$g?(typeof lt=="function"&&(kh(i,s,lt,o),tt=i.memoizedState),(_=$g||oh(i,s,_,o,nt,tt,g)||!1)?(_e||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,tt,g),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,tt,g)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||h===e.memoizedProps&&nt===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&nt===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=tt),d.props=o,d.state=tt,d.context=g,o=_):(typeof d.componentDidUpdate!="function"||h===e.memoizedProps&&nt===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&nt===e.memoizedState||(i.flags|=1024),o=!1)}return kj(e,i,s,o,c,a)}function kj(e,i,s,o,a,c){hj(e,i);var d=(i.flags&128)!==0;if(!o&&!d)return a&&dg(i,s,!1),$i(e,i,c);o=i.stateNode,Xi.current=i;var h=d&&typeof s.getDerivedStateFromError!="function"?null:o.render();return i.flags|=1,e!==null&&d?(i.child=Bh(i,e.child,null,c),i.child=Bh(i,null,h,c)):Yi(e,i,h,c),i.memoizedState=o.state,a&&dg(i,s,!0),i.child}function lj(e){var i=e.stateNode;i.pendingContext?ag(e,i.pendingContext,i.pendingContext!==i.context):i.context&&ag(e,i.context,!1),Ih(e,i.containerInfo)}function mj(e,i,s,o,a){return Ig(),Jg(a),i.flags|=256,Yi(e,i,s,o),i.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(e){return{baseLanes:e,cachePool:null,transitions:null}}function pj(e,i,s){var o=i.pendingProps,a=M.current,c=!1,d=(i.flags&128)!==0,h;if((h=d)||(h=e!==null&&e.memoizedState===null?!1:(a&2)!==0),h?(c=!0,i.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),G(M,a&1),e===null)return Eg(i),e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(i.mode&1?e.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(d=o.children,e=o.fallback,c?(o=i.mode,c=i.child,d={mode:"hidden",children:d},!(o&1)&&c!==null?(c.childLanes=0,c.pendingProps=d):c=qj(d,o,0,null),e=Ah(e,o,s,null),c.return=i,e.return=i,c.sibling=e,i.child=c,i.child.memoizedState=oj(s),i.memoizedState=nj,e):rj(i,d));if(a=e.memoizedState,a!==null&&(h=a.dehydrated,h!==null))return sj(e,i,d,o,h,a,s);if(c){c=o.fallback,d=i.mode,a=e.child,h=a.sibling;var g={mode:"hidden",children:o.children};return!(d&1)&&i.child!==a?(o=i.child,o.childLanes=0,o.pendingProps=g,i.deletions=null):(o=wh(a,g),o.subtreeFlags=a.subtreeFlags&14680064),h!==null?c=wh(h,c):(c=Ah(c,d,s,null),c.flags|=2),c.return=i,o.return=i,o.sibling=c,i.child=o,o=c,c=i.child,d=e.child.memoizedState,d=d===null?oj(s):{baseLanes:d.baseLanes|s,cachePool:null,transitions:d.transitions},c.memoizedState=d,c.childLanes=e.childLanes&~s,i.memoizedState=nj,o}return c=e.child,e=c.sibling,o=wh(c,{mode:"visible",children:o.children}),!(i.mode&1)&&(o.lanes=s),o.return=i,o.sibling=null,e!==null&&(s=i.deletions,s===null?(i.deletions=[e],i.flags|=16):s.push(e)),i.child=o,i.memoizedState=null,o}function rj(e,i){return i=qj({mode:"visible",children:i},e.mode,0,null),i.return=e,e.child=i}function tj(e,i,s,o){return o!==null&&Jg(o),Bh(i,e.child,null,s),e=rj(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function sj(e,i,s,o,a,c,d){if(s)return i.flags&256?(i.flags&=-257,o=Li(Error(p(422))),tj(e,i,d,o)):i.memoizedState!==null?(i.child=e.child,i.flags|=128,null):(c=o.fallback,a=i.mode,o=qj({mode:"visible",children:o.children},a,0,null),c=Ah(c,a,d,null),c.flags|=2,o.return=i,c.return=i,o.sibling=c,i.child=o,i.mode&1&&Bh(i,e.child,null,d),i.child.memoizedState=oj(d),i.memoizedState=nj,c);if(!(i.mode&1))return tj(e,i,d,null);if(a.data==="$!"){if(o=a.nextSibling&&a.nextSibling.dataset,o)var h=o.dgst;return o=h,c=Error(p(419)),o=Li(c,o,void 0),tj(e,i,d,o)}if(h=(d&e.childLanes)!==0,Ug||h){if(o=R,o!==null){switch(d&-d){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(o.suspendedLanes|d)?0:a,a!==0&&a!==c.retryLane&&(c.retryLane=a,Zg(e,a),mh(o,e,a,-1))}return uj(),o=Li(Error(p(421))),tj(e,i,d,o)}return a.data==="$?"?(i.flags|=128,i.child=e.child,i=vj.bind(null,e),a._reactRetry=i,null):(e=c.treeContext,yg=Lf(a.nextSibling),xg=i,I=!0,zg=null,e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=e.id,sg=e.overflow,qg=i),i=rj(i,o.children),i.flags|=4096,i)}function wj(e,i,s){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),Sg(e.return,i,s)}function xj(e,i,s,o,a){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:a}:(c.isBackwards=i,c.rendering=null,c.renderingStartTime=0,c.last=o,c.tail=s,c.tailMode=a)}function yj(e,i,s){var o=i.pendingProps,a=o.revealOrder,c=o.tail;if(Yi(e,i,o.children,s),o=M.current,o&2)o=o&1|2,i.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wj(e,s,i);else if(e.tag===19)wj(e,s,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break e;for(;e.sibling===null;){if(e.return===null||e.return===i)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(G(M,o),!(i.mode&1))i.memoizedState=null;else switch(a){case"forwards":for(s=i.child,a=null;s!==null;)e=s.alternate,e!==null&&Mh(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=i.child,i.child=null):(a=s.sibling,s.sibling=null),xj(i,!1,a,s,c);break;case"backwards":for(s=null,a=i.child,i.child=null;a!==null;){if(e=a.alternate,e!==null&&Mh(e)===null){i.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}xj(i,!0,s,null,c);break;case"together":xj(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function jj(e,i){!(i.mode&1)&&e!==null&&(e.alternate=null,i.alternate=null,i.flags|=2)}function $i(e,i,s){if(e!==null&&(i.dependencies=e.dependencies),hh|=i.lanes,!(s&i.childLanes))return null;if(e!==null&&i.child!==e.child)throw Error(p(153));if(i.child!==null){for(e=i.child,s=wh(e,e.pendingProps),i.child=s,s.return=i;e.sibling!==null;)e=e.sibling,s=s.sibling=wh(e,e.pendingProps),s.return=i;s.sibling=null}return i.child}function zj(e,i,s){switch(i.tag){case 3:lj(i),Ig();break;case 5:Kh(i);break;case 1:Zf(i.type)&&cg(i);break;case 4:Ih(i,i.stateNode.containerInfo);break;case 10:var o=i.type._context,a=i.memoizedProps.value;G(Mg,o._currentValue),o._currentValue=a;break;case 13:if(o=i.memoizedState,o!==null)return o.dehydrated!==null?(G(M,M.current&1),i.flags|=128,null):s&i.child.childLanes?pj(e,i,s):(G(M,M.current&1),e=$i(e,i,s),e!==null?e.sibling:null);G(M,M.current&1);break;case 19:if(o=(s&i.childLanes)!==0,e.flags&128){if(o)return yj(e,i,s);i.flags|=128}if(a=i.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),G(M,M.current),o)break;return null;case 22:case 23:return i.lanes=0,ej(e,i,s)}return $i(e,i,s)}var Aj,Bj,Cj,Dj;Aj=function(e,i){for(var s=i.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Bj=function(){};Cj=function(e,i,s,o){var a=e.memoizedProps;if(a!==o){e=i.stateNode,Hh(Eh.current);var c=null;switch(s){case"input":a=Ya(e,a),o=Ya(e,o),c=[];break;case"select":a=A({},a,{value:void 0}),o=A({},o,{value:void 0}),c=[];break;case"textarea":a=gb(e,a),o=gb(e,o),c=[];break;default:typeof a.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Bf)}ub(s,o);var d;s=null;for(_ in a)if(!o.hasOwnProperty(_)&&a.hasOwnProperty(_)&&a[_]!=null)if(_==="style"){var h=a[_];for(d in h)h.hasOwnProperty(d)&&(s||(s={}),s[d]="")}else _!=="dangerouslySetInnerHTML"&&_!=="children"&&_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(ea.hasOwnProperty(_)?c||(c=[]):(c=c||[]).push(_,null));for(_ in o){var g=o[_];if(h=a!=null?a[_]:void 0,o.hasOwnProperty(_)&&g!==h&&(g!=null||h!=null))if(_==="style")if(h){for(d in h)!h.hasOwnProperty(d)||g&&g.hasOwnProperty(d)||(s||(s={}),s[d]="");for(d in g)g.hasOwnProperty(d)&&h[d]!==g[d]&&(s||(s={}),s[d]=g[d])}else s||(c||(c=[]),c.push(_,s)),s=g;else _==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,h=h?h.__html:void 0,g!=null&&h!==g&&(c=c||[]).push(_,g)):_==="children"?typeof g!="string"&&typeof g!="number"||(c=c||[]).push(_,""+g):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&(ea.hasOwnProperty(_)?(g!=null&&_==="onScroll"&&D("scroll",e),c||h===g||(c=[])):(c=c||[]).push(_,g))}s&&(c=c||[]).push("style",s);var _=c;(i.updateQueue=_)&&(i.flags|=4)}};Dj=function(e,i,s,o){s!==o&&(i.flags|=4)};function Ej(e,i){if(!I)switch(e.tailMode){case"hidden":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function S(e){var i=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(i)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,o|=a.subtreeFlags&14680064,o|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,o|=a.subtreeFlags,o|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=o,e.childLanes=s,i}function Fj(e,i,s){var o=i.pendingProps;switch(wg(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(i),null;case 1:return Zf(i.type)&&$f(),S(i),null;case 3:return o=i.stateNode,Jh(),E(Wf),E(H),Oh(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Gg(i)?i.flags|=4:e===null||e.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(e,i),S(i),null;case 5:Lh(i);var a=Hh(Gh.current);if(s=i.type,e!==null&&i.stateNode!=null)Cj(e,i,s,o,a),e.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!o){if(i.stateNode===null)throw Error(p(166));return S(i),null}if(e=Hh(Eh.current),Gg(i)){o=i.stateNode,s=i.type;var c=i.memoizedProps;switch(o[Of]=i,o[Pf]=c,e=(i.mode&1)!==0,s){case"dialog":D("cancel",o),D("close",o);break;case"iframe":case"object":case"embed":D("load",o);break;case"video":case"audio":for(a=0;a<lf.length;a++)D(lf[a],o);break;case"source":D("error",o);break;case"img":case"image":case"link":D("error",o),D("load",o);break;case"details":D("toggle",o);break;case"input":Za(o,c),D("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!c.multiple},D("invalid",o);break;case"textarea":hb(o,c),D("invalid",o)}ub(s,c),a=null;for(var d in c)if(c.hasOwnProperty(d)){var h=c[d];d==="children"?typeof h=="string"?o.textContent!==h&&(c.suppressHydrationWarning!==!0&&Af(o.textContent,h,e),a=["children",h]):typeof h=="number"&&o.textContent!==""+h&&(c.suppressHydrationWarning!==!0&&Af(o.textContent,h,e),a=["children",""+h]):ea.hasOwnProperty(d)&&h!=null&&d==="onScroll"&&D("scroll",o)}switch(s){case"input":Va(o),db(o,c,!0);break;case"textarea":Va(o),jb(o);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(o.onclick=Bf)}o=a,i.updateQueue=o,o!==null&&(i.flags|=4)}else{d=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kb(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=d.createElement(s,{is:o.is}):(e=d.createElement(s),s==="select"&&(d=e,o.multiple?d.multiple=!0:o.size&&(d.size=o.size))):e=d.createElementNS(e,s),e[Of]=i,e[Pf]=o,Aj(e,i,!1,!1),i.stateNode=e;e:{switch(d=vb(s,o),s){case"dialog":D("cancel",e),D("close",e),a=o;break;case"iframe":case"object":case"embed":D("load",e),a=o;break;case"video":case"audio":for(a=0;a<lf.length;a++)D(lf[a],e);a=o;break;case"source":D("error",e),a=o;break;case"img":case"image":case"link":D("error",e),D("load",e),a=o;break;case"details":D("toggle",e),a=o;break;case"input":Za(e,o),a=Ya(e,o),D("invalid",e);break;case"option":a=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},a=A({},o,{value:void 0}),D("invalid",e);break;case"textarea":hb(e,o),a=gb(e,o),D("invalid",e);break;default:a=o}ub(s,a),h=a;for(c in h)if(h.hasOwnProperty(c)){var g=h[c];c==="style"?sb(e,g):c==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&nb(e,g)):c==="children"?typeof g=="string"?(s!=="textarea"||g!=="")&&ob(e,g):typeof g=="number"&&ob(e,""+g):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ea.hasOwnProperty(c)?g!=null&&c==="onScroll"&&D("scroll",e):g!=null&&ta(e,c,g,d))}switch(s){case"input":Va(e),db(e,o,!1);break;case"textarea":Va(e),jb(e);break;case"option":o.value!=null&&e.setAttribute("value",""+Sa(o.value));break;case"select":e.multiple=!!o.multiple,c=o.value,c!=null?fb(e,!!o.multiple,c,!1):o.defaultValue!=null&&fb(e,!!o.multiple,o.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Bf)}switch(s){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return S(i),null;case 6:if(e&&i.stateNode!=null)Dj(e,i,e.memoizedProps,o);else{if(typeof o!="string"&&i.stateNode===null)throw Error(p(166));if(s=Hh(Gh.current),Hh(Eh.current),Gg(i)){if(o=i.stateNode,s=i.memoizedProps,o[Of]=i,(c=o.nodeValue!==s)&&(e=xg,e!==null))switch(e.tag){case 3:Af(o.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Af(o.nodeValue,s,(e.mode&1)!==0)}c&&(i.flags|=4)}else o=(s.nodeType===9?s:s.ownerDocument).createTextNode(o),o[Of]=i,i.stateNode=o}return S(i),null;case 13:if(E(M),o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(I&&yg!==null&&i.mode&1&&!(i.flags&128))Hg(),Ig(),i.flags|=98560,c=!1;else if(c=Gg(i),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(p(318));if(c=i.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(p(317));c[Of]=i}else Ig(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;S(i),c=!1}else zg!==null&&(Gj(zg),zg=null),c=!0;if(!c)return i.flags&65536?i:null}return i.flags&128?(i.lanes=s,i):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(i.child.flags|=8192,i.mode&1&&(e===null||M.current&1?T===0&&(T=3):uj())),i.updateQueue!==null&&(i.flags|=4),S(i),null);case 4:return Jh(),Bj(e,i),e===null&&sf(i.stateNode.containerInfo),S(i),null;case 10:return Rg(i.type._context),S(i),null;case 17:return Zf(i.type)&&$f(),S(i),null;case 19:if(E(M),c=i.memoizedState,c===null)return S(i),null;if(o=(i.flags&128)!==0,d=c.rendering,d===null)if(o)Ej(c,!1);else{if(T!==0||e!==null&&e.flags&128)for(e=i.child;e!==null;){if(d=Mh(e),d!==null){for(i.flags|=128,Ej(c,!1),o=d.updateQueue,o!==null&&(i.updateQueue=o,i.flags|=4),i.subtreeFlags=0,o=s,s=i.child;s!==null;)c=s,e=o,c.flags&=14680066,d=c.alternate,d===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=d.childLanes,c.lanes=d.lanes,c.child=d.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=d.memoizedProps,c.memoizedState=d.memoizedState,c.updateQueue=d.updateQueue,c.type=d.type,e=d.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return G(M,M.current&1|2),i.child}e=e.sibling}c.tail!==null&&B()>Hj&&(i.flags|=128,o=!0,Ej(c,!1),i.lanes=4194304)}else{if(!o)if(e=Mh(d),e!==null){if(i.flags|=128,o=!0,s=e.updateQueue,s!==null&&(i.updateQueue=s,i.flags|=4),Ej(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!I)return S(i),null}else 2*B()-c.renderingStartTime>Hj&&s!==1073741824&&(i.flags|=128,o=!0,Ej(c,!1),i.lanes=4194304);c.isBackwards?(d.sibling=i.child,i.child=d):(s=c.last,s!==null?s.sibling=d:i.child=d,c.last=d)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=B(),i.sibling=null,s=M.current,G(M,o?s&1|2:s&1),i):(S(i),null);case 22:case 23:return Ij(),o=i.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(i.flags|=8192),o&&i.mode&1?gj&1073741824&&(S(i),i.subtreeFlags&6&&(i.flags|=8192)):S(i),null;case 24:return null;case 25:return null}throw Error(p(156,i.tag))}function Jj(e,i){switch(wg(i),i.tag){case 1:return Zf(i.type)&&$f(),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Jh(),E(Wf),E(H),Oh(),e=i.flags,e&65536&&!(e&128)?(i.flags=e&-65537|128,i):null;case 5:return Lh(i),null;case 13:if(E(M),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(p(340));Ig()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return E(M),null;case 4:return Jh(),null;case 10:return Rg(i.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Mj(e,i){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(o){W(e,i,o)}else s.current=null}function Nj(e,i,s){try{s()}catch(o){W(e,i,o)}}var Oj=!1;function Pj(e,i){if(Cf=dd,e=Me(),Ne(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var a=o.anchorOffset,c=o.focusNode;o=o.focusOffset;try{s.nodeType,c.nodeType}catch{s=null;break e}var d=0,h=-1,g=-1,_=0,_e=0,at=e,nt=null;t:for(;;){for(var lt;at!==s||a!==0&&at.nodeType!==3||(h=d+a),at!==c||o!==0&&at.nodeType!==3||(g=d+o),at.nodeType===3&&(d+=at.nodeValue.length),(lt=at.firstChild)!==null;)nt=at,at=lt;for(;;){if(at===e)break t;if(nt===s&&++_===a&&(h=d),nt===c&&++_e===o&&(g=d),(lt=at.nextSibling)!==null)break;at=nt,nt=at.parentNode}at=lt}s=h===-1||g===-1?null:{start:h,end:g}}else s=null}s=s||{start:0,end:0}}else s=null;for(Df={focusedElem:e,selectionRange:s},dd=!1,V=i;V!==null;)if(i=V,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,V=e;else for(;V!==null;){i=V;try{var tt=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(tt!==null){var b=tt.memoizedProps,et=tt.memoizedState,j=i.stateNode,rt=j.getSnapshotBeforeUpdate(i.elementType===i.type?b:Lg(i.type,b),et);j.__reactInternalSnapshotBeforeUpdate=rt}break;case 3:var ot=i.stateNode.containerInfo;ot.nodeType===1?ot.textContent="":ot.nodeType===9&&ot.documentElement&&ot.removeChild(ot.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(st){W(i,i.return,st)}if(e=i.sibling,e!==null){e.return=i.return,V=e;break}V=i.return}return tt=Oj,Oj=!1,tt}function Qj(e,i,s){var o=i.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var a=o=o.next;do{if((a.tag&e)===e){var c=a.destroy;a.destroy=void 0,c!==void 0&&Nj(i,s,c)}a=a.next}while(a!==o)}}function Rj(e,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&e)===e){var o=s.create;s.destroy=o()}s=s.next}while(s!==i)}}function Sj(e){var i=e.ref;if(i!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof i=="function"?i(e):i.current=e}}function Tj(e){var i=e.alternate;i!==null&&(e.alternate=null,Tj(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&(delete i[Of],delete i[Pf],delete i[of],delete i[Qf],delete i[Rf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Uj(e){return e.tag===5||e.tag===3||e.tag===4}function Vj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Uj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wj(e,i,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?s.nodeType===8?s.parentNode.insertBefore(e,i):s.insertBefore(e,i):(s.nodeType===8?(i=s.parentNode,i.insertBefore(e,s)):(i=s,i.appendChild(e)),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Bf));else if(o!==4&&(e=e.child,e!==null))for(Wj(e,i,s),e=e.sibling;e!==null;)Wj(e,i,s),e=e.sibling}function Xj(e,i,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?s.insertBefore(e,i):s.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Xj(e,i,s),e=e.sibling;e!==null;)Xj(e,i,s),e=e.sibling}var X=null,Yj=!1;function Zj(e,i,s){for(s=s.child;s!==null;)ak(e,i,s),s=s.sibling}function ak(e,i,s){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,s)}catch{}switch(s.tag){case 5:U||Mj(s,i);case 6:var o=X,a=Yj;X=null,Zj(e,i,s),X=o,Yj=a,X!==null&&(Yj?(e=X,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):X.removeChild(s.stateNode));break;case 18:X!==null&&(Yj?(e=X,s=s.stateNode,e.nodeType===8?Kf(e.parentNode,s):e.nodeType===1&&Kf(e,s),bd(e)):Kf(X,s.stateNode));break;case 4:o=X,a=Yj,X=s.stateNode.containerInfo,Yj=!0,Zj(e,i,s),X=o,Yj=a;break;case 0:case 11:case 14:case 15:if(!U&&(o=s.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){a=o=o.next;do{var c=a,d=c.destroy;c=c.tag,d!==void 0&&(c&2||c&4)&&Nj(s,i,d),a=a.next}while(a!==o)}Zj(e,i,s);break;case 1:if(!U&&(Mj(s,i),o=s.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=s.memoizedProps,o.state=s.memoizedState,o.componentWillUnmount()}catch(h){W(s,i,h)}Zj(e,i,s);break;case 21:Zj(e,i,s);break;case 22:s.mode&1?(U=(o=U)||s.memoizedState!==null,Zj(e,i,s),U=o):Zj(e,i,s);break;default:Zj(e,i,s)}}function bk(e){var i=e.updateQueue;if(i!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Lj),i.forEach(function(o){var a=ck.bind(null,e,o);s.has(o)||(s.add(o),o.then(a,a))})}}function dk(e,i){var s=i.deletions;if(s!==null)for(var o=0;o<s.length;o++){var a=s[o];try{var c=e,d=i,h=d;e:for(;h!==null;){switch(h.tag){case 5:X=h.stateNode,Yj=!1;break e;case 3:X=h.stateNode.containerInfo,Yj=!0;break e;case 4:X=h.stateNode.containerInfo,Yj=!0;break e}h=h.return}if(X===null)throw Error(p(160));ak(c,d,a),X=null,Yj=!1;var g=a.alternate;g!==null&&(g.return=null),a.return=null}catch(_){W(a,i,_)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)ek(i,e),i=i.sibling}function ek(e,i){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dk(i,e),fk(e),o&4){try{Qj(3,e,e.return),Rj(3,e)}catch(b){W(e,e.return,b)}try{Qj(5,e,e.return)}catch(b){W(e,e.return,b)}}break;case 1:dk(i,e),fk(e),o&512&&s!==null&&Mj(s,s.return);break;case 5:if(dk(i,e),fk(e),o&512&&s!==null&&Mj(s,s.return),e.flags&32){var a=e.stateNode;try{ob(a,"")}catch(b){W(e,e.return,b)}}if(o&4&&(a=e.stateNode,a!=null)){var c=e.memoizedProps,d=s!==null?s.memoizedProps:c,h=e.type,g=e.updateQueue;if(e.updateQueue=null,g!==null)try{h==="input"&&c.type==="radio"&&c.name!=null&&ab(a,c),vb(h,d);var _=vb(h,c);for(d=0;d<g.length;d+=2){var _e=g[d],at=g[d+1];_e==="style"?sb(a,at):_e==="dangerouslySetInnerHTML"?nb(a,at):_e==="children"?ob(a,at):ta(a,_e,at,_)}switch(h){case"input":bb(a,c);break;case"textarea":ib(a,c);break;case"select":var nt=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!c.multiple;var lt=c.value;lt!=null?fb(a,!!c.multiple,lt,!1):nt!==!!c.multiple&&(c.defaultValue!=null?fb(a,!!c.multiple,c.defaultValue,!0):fb(a,!!c.multiple,c.multiple?[]:"",!1))}a[Pf]=c}catch(b){W(e,e.return,b)}}break;case 6:if(dk(i,e),fk(e),o&4){if(e.stateNode===null)throw Error(p(162));a=e.stateNode,c=e.memoizedProps;try{a.nodeValue=c}catch(b){W(e,e.return,b)}}break;case 3:if(dk(i,e),fk(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{bd(i.containerInfo)}catch(b){W(e,e.return,b)}break;case 4:dk(i,e),fk(e);break;case 13:dk(i,e),fk(e),a=e.child,a.flags&8192&&(c=a.memoizedState!==null,a.stateNode.isHidden=c,!c||a.alternate!==null&&a.alternate.memoizedState!==null||(gk=B())),o&4&&bk(e);break;case 22:if(_e=s!==null&&s.memoizedState!==null,e.mode&1?(U=(_=U)||_e,dk(i,e),U=_):dk(i,e),fk(e),o&8192){if(_=e.memoizedState!==null,(e.stateNode.isHidden=_)&&!_e&&e.mode&1)for(V=e,_e=e.child;_e!==null;){for(at=V=_e;V!==null;){switch(nt=V,lt=nt.child,nt.tag){case 0:case 11:case 14:case 15:Qj(4,nt,nt.return);break;case 1:Mj(nt,nt.return);var tt=nt.stateNode;if(typeof tt.componentWillUnmount=="function"){o=nt,s=nt.return;try{i=o,tt.props=i.memoizedProps,tt.state=i.memoizedState,tt.componentWillUnmount()}catch(b){W(o,s,b)}}break;case 5:Mj(nt,nt.return);break;case 22:if(nt.memoizedState!==null){hk(at);continue}}lt!==null?(lt.return=nt,V=lt):hk(at)}_e=_e.sibling}e:for(_e=null,at=e;;){if(at.tag===5){if(_e===null){_e=at;try{a=at.stateNode,_?(c=a.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(h=at.stateNode,g=at.memoizedProps.style,d=g!=null&&g.hasOwnProperty("display")?g.display:null,h.style.display=rb("display",d))}catch(b){W(e,e.return,b)}}}else if(at.tag===6){if(_e===null)try{at.stateNode.nodeValue=_?"":at.memoizedProps}catch(b){W(e,e.return,b)}}else if((at.tag!==22&&at.tag!==23||at.memoizedState===null||at===e)&&at.child!==null){at.child.return=at,at=at.child;continue}if(at===e)break e;for(;at.sibling===null;){if(at.return===null||at.return===e)break e;_e===at&&(_e=null),at=at.return}_e===at&&(_e=null),at.sibling.return=at.return,at=at.sibling}}break;case 19:dk(i,e),fk(e),o&4&&bk(e);break;case 21:break;default:dk(i,e),fk(e)}}function fk(e){var i=e.flags;if(i&2){try{e:{for(var s=e.return;s!==null;){if(Uj(s)){var o=s;break e}s=s.return}throw Error(p(160))}switch(o.tag){case 5:var a=o.stateNode;o.flags&32&&(ob(a,""),o.flags&=-33);var c=Vj(e);Xj(e,c,a);break;case 3:case 4:var d=o.stateNode.containerInfo,h=Vj(e);Wj(e,h,d);break;default:throw Error(p(161))}}catch(g){W(e,e.return,g)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function ik(e,i,s){V=e,jk(e)}function jk(e,i,s){for(var o=(e.mode&1)!==0;V!==null;){var a=V,c=a.child;if(a.tag===22&&o){var d=a.memoizedState!==null||Kj;if(!d){var h=a.alternate,g=h!==null&&h.memoizedState!==null||U;h=Kj;var _=U;if(Kj=d,(U=g)&&!_)for(V=a;V!==null;)d=V,g=d.child,d.tag===22&&d.memoizedState!==null?kk(a):g!==null?(g.return=d,V=g):kk(a);for(;c!==null;)V=c,jk(c),c=c.sibling;V=a,Kj=h,U=_}lk(e)}else a.subtreeFlags&8772&&c!==null?(c.return=a,V=c):lk(e)}}function lk(e){for(;V!==null;){var i=V;if(i.flags&8772){var s=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:U||Rj(5,i);break;case 1:var o=i.stateNode;if(i.flags&4&&!U)if(s===null)o.componentDidMount();else{var a=i.elementType===i.type?s.memoizedProps:Lg(i.type,s.memoizedProps);o.componentDidUpdate(a,s.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var c=i.updateQueue;c!==null&&ih(i,c,o);break;case 3:var d=i.updateQueue;if(d!==null){if(s=null,i.child!==null)switch(i.child.tag){case 5:s=i.child.stateNode;break;case 1:s=i.child.stateNode}ih(i,d,s)}break;case 5:var h=i.stateNode;if(s===null&&i.flags&4){s=h;var g=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":g.autoFocus&&s.focus();break;case"img":g.src&&(s.src=g.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var _=i.alternate;if(_!==null){var _e=_.memoizedState;if(_e!==null){var at=_e.dehydrated;at!==null&&bd(at)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U||i.flags&512&&Sj(i)}catch(nt){W(i,i.return,nt)}}if(i===e){V=null;break}if(s=i.sibling,s!==null){s.return=i.return,V=s;break}V=i.return}}function hk(e){for(;V!==null;){var i=V;if(i===e){V=null;break}var s=i.sibling;if(s!==null){s.return=i.return,V=s;break}V=i.return}}function kk(e){for(;V!==null;){var i=V;try{switch(i.tag){case 0:case 11:case 15:var s=i.return;try{Rj(4,i)}catch(g){W(i,s,g)}break;case 1:var o=i.stateNode;if(typeof o.componentDidMount=="function"){var a=i.return;try{o.componentDidMount()}catch(g){W(i,a,g)}}var c=i.return;try{Sj(i)}catch(g){W(i,c,g)}break;case 5:var d=i.return;try{Sj(i)}catch(g){W(i,d,g)}}}catch(g){W(i,i.return,g)}if(i===e){V=null;break}var h=i.sibling;if(h!==null){h.return=i.return,V=h;break}V=i.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R=null,Y=null,Z=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return K&6?B():Bk!==-1?Bk:Bk=B()}function lh(e){return e.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(e=C,e!==0||(e=window.event,e=e===void 0?16:jd(e.type)),e):1}function mh(e,i,s,o){if(50<zk)throw zk=0,Ak=null,Error(p(185));Ac(e,s,o),(!(K&2)||e!==R)&&(e===R&&(!(K&2)&&(rk|=s),T===4&&Dk(e,Z)),Ek(e,o),s===1&&K===0&&!(i.mode&1)&&(Hj=B()+500,fg&&jg()))}function Ek(e,i){var s=e.callbackNode;wc(e,i);var o=uc(e,e===R?Z:0);if(o===0)s!==null&&bc(s),e.callbackNode=null,e.callbackPriority=0;else if(i=o&-o,e.callbackPriority!==i){if(s!=null&&bc(s),i===1)e.tag===0?ig(Fk.bind(null,e)):hg(Fk.bind(null,e)),Jf(function(){!(K&6)&&jg()}),s=null;else{switch(Dc(o)){case 1:s=fc;break;case 4:s=gc;break;case 16:s=hc;break;case 536870912:s=jc;break;default:s=hc}s=Gk(s,Hk.bind(null,e))}e.callbackPriority=i,e.callbackNode=s}}function Hk(e,i){if(Bk=-1,Ck=0,K&6)throw Error(p(327));var s=e.callbackNode;if(Ik()&&e.callbackNode!==s)return null;var o=uc(e,e===R?Z:0);if(o===0)return null;if(o&30||o&e.expiredLanes||i)i=Jk(e,o);else{i=o;var a=K;K|=2;var c=Kk();(R!==e||Z!==i)&&(vk=null,Hj=B()+500,Lk(e,i));do try{Mk();break}catch(h){Nk(e,h)}while(1);Qg(),nk.current=c,K=a,Y!==null?i=0:(R=null,Z=0,i=T)}if(i!==0){if(i===2&&(a=xc(e),a!==0&&(o=a,i=Ok(e,a))),i===1)throw s=qk,Lk(e,0),Dk(e,o),Ek(e,B()),s;if(i===6)Dk(e,o);else{if(a=e.current.alternate,!(o&30)&&!Pk(a)&&(i=Jk(e,o),i===2&&(c=xc(e),c!==0&&(o=c,i=Ok(e,c))),i===1))throw s=qk,Lk(e,0),Dk(e,o),Ek(e,B()),s;switch(e.finishedWork=a,e.finishedLanes=o,i){case 0:case 1:throw Error(p(345));case 2:Qk(e,uk,vk);break;case 3:if(Dk(e,o),(o&130023424)===o&&(i=gk+500-B(),10<i)){if(uc(e,0)!==0)break;if(a=e.suspendedLanes,(a&o)!==o){L(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Ff(Qk.bind(null,e,uk,vk),i);break}Qk(e,uk,vk);break;case 4:if(Dk(e,o),(o&4194240)===o)break;for(i=e.eventTimes,a=-1;0<o;){var d=31-oc(o);c=1<<d,d=i[d],d>a&&(a=d),o&=~c}if(o=a,o=B()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*mk(o/1960))-o,10<o){e.timeoutHandle=Ff(Qk.bind(null,e,uk,vk),o);break}Qk(e,uk,vk);break;case 5:Qk(e,uk,vk);break;default:throw Error(p(329))}}}return Ek(e,B()),e.callbackNode===s?Hk.bind(null,e):null}function Ok(e,i){var s=tk;return e.current.memoizedState.isDehydrated&&(Lk(e,i).flags|=256),e=Jk(e,i),e!==2&&(i=uk,uk=s,i!==null&&Gj(i)),e}function Gj(e){uk===null?uk=e:uk.push.apply(uk,e)}function Pk(e){for(var i=e;;){if(i.flags&16384){var s=i.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var o=0;o<s.length;o++){var a=s[o],c=a.getSnapshot;a=a.value;try{if(!He(c(),a))return!1}catch{return!1}}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Dk(e,i){for(i&=~sk,i&=~rk,e.suspendedLanes|=i,e.pingedLanes&=~i,e=e.expirationTimes;0<i;){var s=31-oc(i),o=1<<s;e[s]=-1,i&=~o}}function Fk(e){if(K&6)throw Error(p(327));Ik();var i=uc(e,0);if(!(i&1))return Ek(e,B()),null;var s=Jk(e,i);if(e.tag!==0&&s===2){var o=xc(e);o!==0&&(i=o,s=Ok(e,o))}if(s===1)throw s=qk,Lk(e,0),Dk(e,i),Ek(e,B()),s;if(s===6)throw Error(p(345));return e.finishedWork=e.current.alternate,e.finishedLanes=i,Qk(e,uk,vk),Ek(e,B()),null}function Rk(e,i){var s=K;K|=1;try{return e(i)}finally{K=s,K===0&&(Hj=B()+500,fg&&jg())}}function Sk(e){xk!==null&&xk.tag===0&&!(K&6)&&Ik();var i=K;K|=1;var s=pk.transition,o=C;try{if(pk.transition=null,C=1,e)return e()}finally{C=o,pk.transition=s,K=i,!(K&6)&&jg()}}function Ij(){gj=fj.current,E(fj)}function Lk(e,i){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Gf(s)),Y!==null)for(s=Y.return;s!==null;){var o=s;switch(wg(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&$f();break;case 3:Jh(),E(Wf),E(H),Oh();break;case 5:Lh(o);break;case 4:Jh();break;case 13:E(M);break;case 19:E(M);break;case 10:Rg(o.type._context);break;case 22:case 23:Ij()}s=s.return}if(R=e,Y=e=wh(e.current,null),Z=gj=i,T=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(i=0;i<Wg.length;i++)if(s=Wg[i],o=s.interleaved,o!==null){s.interleaved=null;var a=o.next,c=s.pending;if(c!==null){var d=c.next;c.next=a,o.next=d}s.pending=o}Wg=null}return e}function Nk(e,i){do{var s=Y;try{if(Qg(),Ph.current=ai,Sh){for(var o=N.memoizedState;o!==null;){var a=o.queue;a!==null&&(a.pending=null),o=o.next}Sh=!1}if(Rh=0,P=O=N=null,Th=!1,Uh=0,ok.current=null,s===null||s.return===null){T=1,qk=i,Y=null;break}e:{var c=e,d=s.return,h=s,g=i;if(i=Z,h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){var _=g,_e=h,at=_e.tag;if(!(_e.mode&1)&&(at===0||at===11||at===15)){var nt=_e.alternate;nt?(_e.updateQueue=nt.updateQueue,_e.memoizedState=nt.memoizedState,_e.lanes=nt.lanes):(_e.updateQueue=null,_e.memoizedState=null)}var lt=Vi(d);if(lt!==null){lt.flags&=-257,Wi(lt,d,h,c,i),lt.mode&1&&Ti(c,_,i),i=lt,g=_;var tt=i.updateQueue;if(tt===null){var b=new Set;b.add(g),i.updateQueue=b}else tt.add(g);break e}else{if(!(i&1)){Ti(c,_,i),uj();break e}g=Error(p(426))}}else if(I&&h.mode&1){var et=Vi(d);if(et!==null){!(et.flags&65536)&&(et.flags|=256),Wi(et,d,h,c,i),Jg(Ki(g,h));break e}}c=g=Ki(g,h),T!==4&&(T=2),tk===null?tk=[c]:tk.push(c),c=d;do{switch(c.tag){case 3:c.flags|=65536,i&=-i,c.lanes|=i;var j=Oi(c,g,i);fh(c,j);break e;case 1:h=g;var rt=c.type,ot=c.stateNode;if(!(c.flags&128)&&(typeof rt.getDerivedStateFromError=="function"||ot!==null&&typeof ot.componentDidCatch=="function"&&(Si===null||!Si.has(ot)))){c.flags|=65536,i&=-i,c.lanes|=i;var st=Ri(c,h,i);fh(c,st);break e}}c=c.return}while(c!==null)}Tk(s)}catch($){i=$,Y===s&&s!==null&&(Y=s=s.return);continue}break}while(1)}function Kk(){var e=nk.current;return nk.current=ai,e===null?ai:e}function uj(){(T===0||T===3||T===2)&&(T=4),R===null||!(hh&268435455)&&!(rk&268435455)||Dk(R,Z)}function Jk(e,i){var s=K;K|=2;var o=Kk();(R!==e||Z!==i)&&(vk=null,Lk(e,i));do try{Uk();break}catch(a){Nk(e,a)}while(1);if(Qg(),K=s,nk.current=o,Y!==null)throw Error(p(261));return R=null,Z=0,T}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc();)Vk(Y)}function Vk(e){var i=Wk(e.alternate,e,gj);e.memoizedProps=e.pendingProps,i===null?Tk(e):Y=i,ok.current=null}function Tk(e){var i=e;do{var s=i.alternate;if(e=i.return,i.flags&32768){if(s=Jj(s,i),s!==null){s.flags&=32767,Y=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{T=6,Y=null;return}}else if(s=Fj(s,i,gj),s!==null){Y=s;return}if(i=i.sibling,i!==null){Y=i;return}Y=i=e}while(i!==null);T===0&&(T=5)}function Qk(e,i,s){var o=C,a=pk.transition;try{pk.transition=null,C=1,Xk(e,i,s,o)}finally{pk.transition=a,C=o}return null}function Xk(e,i,s,o){do Ik();while(xk!==null);if(K&6)throw Error(p(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(p(177));e.callbackNode=null,e.callbackPriority=0;var c=s.lanes|s.childLanes;if(Bc(e,c),e===R&&(Y=R=null,Z=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),c=(s.flags&15990)!==0,s.subtreeFlags&15990||c){c=pk.transition,pk.transition=null;var d=C;C=1;var h=K;K|=4,ok.current=null,Pj(e,s),ek(s,e),Oe(Df),dd=!!Cf,Df=Cf=null,e.current=s,ik(s),dc(),K=h,C=d,pk.transition=c}else e.current=s;if(wk&&(wk=!1,xk=e,yk=a),c=e.pendingLanes,c===0&&(Si=null),mc(s.stateNode),Ek(e,B()),i!==null)for(o=e.onRecoverableError,s=0;s<i.length;s++)a=i[s],o(a.value,{componentStack:a.stack,digest:a.digest});if(Pi)throw Pi=!1,e=Qi,Qi=null,e;return yk&1&&e.tag!==0&&Ik(),c=e.pendingLanes,c&1?e===Ak?zk++:(zk=0,Ak=e):zk=0,jg(),null}function Ik(){if(xk!==null){var e=Dc(yk),i=pk.transition,s=C;try{if(pk.transition=null,C=16>e?16:e,xk===null)var o=!1;else{if(e=xk,xk=null,yk=0,K&6)throw Error(p(331));var a=K;for(K|=4,V=e.current;V!==null;){var c=V,d=c.child;if(V.flags&16){var h=c.deletions;if(h!==null){for(var g=0;g<h.length;g++){var _=h[g];for(V=_;V!==null;){var _e=V;switch(_e.tag){case 0:case 11:case 15:Qj(8,_e,c)}var at=_e.child;if(at!==null)at.return=_e,V=at;else for(;V!==null;){_e=V;var nt=_e.sibling,lt=_e.return;if(Tj(_e),_e===_){V=null;break}if(nt!==null){nt.return=lt,V=nt;break}V=lt}}}var tt=c.alternate;if(tt!==null){var b=tt.child;if(b!==null){tt.child=null;do{var et=b.sibling;b.sibling=null,b=et}while(b!==null)}}V=c}}if(c.subtreeFlags&2064&&d!==null)d.return=c,V=d;else e:for(;V!==null;){if(c=V,c.flags&2048)switch(c.tag){case 0:case 11:case 15:Qj(9,c,c.return)}var j=c.sibling;if(j!==null){j.return=c.return,V=j;break e}V=c.return}}var rt=e.current;for(V=rt;V!==null;){d=V;var ot=d.child;if(d.subtreeFlags&2064&&ot!==null)ot.return=d,V=ot;else e:for(d=rt;V!==null;){if(h=V,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:Rj(9,h)}}catch($){W(h,h.return,$)}if(h===d){V=null;break e}var st=h.sibling;if(st!==null){st.return=h.return,V=st;break e}V=h.return}}if(K=a,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,e)}catch{}o=!0}return o}finally{C=s,pk.transition=i}}return!1}function Yk(e,i,s){i=Ki(s,i),i=Oi(e,i,1),e=dh(e,i,1),i=L(),e!==null&&(Ac(e,1,i),Ek(e,i))}function W(e,i,s){if(e.tag===3)Yk(e,e,s);else for(;i!==null;){if(i.tag===3){Yk(i,e,s);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Si===null||!Si.has(o))){e=Ki(s,e),e=Ri(i,e,1),i=dh(i,e,1),e=L(),i!==null&&(Ac(i,1,e),Ek(i,e));break}}i=i.return}}function Ui(e,i,s){var o=e.pingCache;o!==null&&o.delete(i),i=L(),e.pingedLanes|=e.suspendedLanes&s,R===e&&(Z&s)===s&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-gk?Lk(e,0):sk|=s),Ek(e,i)}function Zk(e,i){i===0&&(e.mode&1?(i=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):i=1);var s=L();e=Zg(e,i),e!==null&&(Ac(e,i,s),Ek(e,s))}function vj(e){var i=e.memoizedState,s=0;i!==null&&(s=i.retryLane),Zk(e,s)}function ck(e,i){var s=0;switch(e.tag){case 13:var o=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(p(314))}o!==null&&o.delete(i),Zk(e,s)}var Wk;Wk=function(e,i,s){if(e!==null)if(e.memoizedProps!==i.pendingProps||Wf.current)Ug=!0;else{if(!(e.lanes&s)&&!(i.flags&128))return Ug=!1,zj(e,i,s);Ug=!!(e.flags&131072)}else Ug=!1,I&&i.flags&1048576&&ug(i,ng,i.index);switch(i.lanes=0,i.tag){case 2:var o=i.type;jj(e,i),e=i.pendingProps;var a=Yf(i,H.current);Tg(i,s),a=Xh(null,i,o,e,a,s);var c=bi();return i.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Zf(o)?(c=!0,cg(i)):c=!1,i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,ah(i),a.updater=nh,i.stateNode=a,a._reactInternals=i,rh(i,o,e,s),i=kj(null,i,o,!0,c,s)):(i.tag=0,I&&c&&vg(i),Yi(null,i,a,s),i=i.child),i;case 16:o=i.elementType;e:{switch(jj(e,i),e=i.pendingProps,a=o._init,o=a(o._payload),i.type=o,a=i.tag=$k(o),e=Lg(o,e),a){case 0:i=dj(null,i,o,e,s);break e;case 1:i=ij(null,i,o,e,s);break e;case 11:i=Zi(null,i,o,e,s);break e;case 14:i=aj(null,i,o,Lg(o.type,e),s);break e}throw Error(p(306,o,""))}return i;case 0:return o=i.type,a=i.pendingProps,a=i.elementType===o?a:Lg(o,a),dj(e,i,o,a,s);case 1:return o=i.type,a=i.pendingProps,a=i.elementType===o?a:Lg(o,a),ij(e,i,o,a,s);case 3:e:{if(lj(i),e===null)throw Error(p(387));o=i.pendingProps,c=i.memoizedState,a=c.element,bh(e,i),gh(i,o,null,s);var d=i.memoizedState;if(o=d.element,c.isDehydrated)if(c={element:o,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},i.updateQueue.baseState=c,i.memoizedState=c,i.flags&256){a=Ki(Error(p(423)),i),i=mj(e,i,o,s,a);break e}else if(o!==a){a=Ki(Error(p(424)),i),i=mj(e,i,o,s,a);break e}else for(yg=Lf(i.stateNode.containerInfo.firstChild),xg=i,I=!0,zg=null,s=Ch(i,null,o,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ig(),o===a){i=$i(e,i,s);break e}Yi(e,i,o,s)}i=i.child}return i;case 5:return Kh(i),e===null&&Eg(i),o=i.type,a=i.pendingProps,c=e!==null?e.memoizedProps:null,d=a.children,Ef(o,a)?d=null:c!==null&&Ef(o,c)&&(i.flags|=32),hj(e,i),Yi(e,i,d,s),i.child;case 6:return e===null&&Eg(i),null;case 13:return pj(e,i,s);case 4:return Ih(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=Bh(i,null,o,s):Yi(e,i,o,s),i.child;case 11:return o=i.type,a=i.pendingProps,a=i.elementType===o?a:Lg(o,a),Zi(e,i,o,a,s);case 7:return Yi(e,i,i.pendingProps,s),i.child;case 8:return Yi(e,i,i.pendingProps.children,s),i.child;case 12:return Yi(e,i,i.pendingProps.children,s),i.child;case 10:e:{if(o=i.type._context,a=i.pendingProps,c=i.memoizedProps,d=a.value,G(Mg,o._currentValue),o._currentValue=d,c!==null)if(He(c.value,d)){if(c.children===a.children&&!Wf.current){i=$i(e,i,s);break e}}else for(c=i.child,c!==null&&(c.return=i);c!==null;){var h=c.dependencies;if(h!==null){d=c.child;for(var g=h.firstContext;g!==null;){if(g.context===o){if(c.tag===1){g=ch(-1,s&-s),g.tag=2;var _=c.updateQueue;if(_!==null){_=_.shared;var _e=_.pending;_e===null?g.next=g:(g.next=_e.next,_e.next=g),_.pending=g}}c.lanes|=s,g=c.alternate,g!==null&&(g.lanes|=s),Sg(c.return,s,i),h.lanes|=s;break}g=g.next}}else if(c.tag===10)d=c.type===i.type?null:c.child;else if(c.tag===18){if(d=c.return,d===null)throw Error(p(341));d.lanes|=s,h=d.alternate,h!==null&&(h.lanes|=s),Sg(d,s,i),d=c.sibling}else d=c.child;if(d!==null)d.return=c;else for(d=c;d!==null;){if(d===i){d=null;break}if(c=d.sibling,c!==null){c.return=d.return,d=c;break}d=d.return}c=d}Yi(e,i,a.children,s),i=i.child}return i;case 9:return a=i.type,o=i.pendingProps.children,Tg(i,s),a=Vg(a),o=o(a),i.flags|=1,Yi(e,i,o,s),i.child;case 14:return o=i.type,a=Lg(o,i.pendingProps),a=Lg(o.type,a),aj(e,i,o,a,s);case 15:return cj(e,i,i.type,i.pendingProps,s);case 17:return o=i.type,a=i.pendingProps,a=i.elementType===o?a:Lg(o,a),jj(e,i),i.tag=1,Zf(o)?(e=!0,cg(i)):e=!1,Tg(i,s),ph(i,o,a),rh(i,o,a,s),kj(null,i,o,!0,e,s);case 19:return yj(e,i,s);case 22:return ej(e,i,s)}throw Error(p(156,i.tag))};function Gk(e,i){return ac(e,i)}function al(e,i,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(e,i,s,o){return new al(e,i,s,o)}function bj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $k(e){if(typeof e=="function")return bj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Da)return 11;if(e===Ga)return 14}return 2}function wh(e,i){var s=e.alternate;return s===null?(s=Bg(e.tag,i,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=i,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,i=e.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function yh(e,i,s,o,a,c){var d=2;if(o=e,typeof e=="function")bj(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case ya:return Ah(s.children,a,c,i);case za:d=8,a|=8;break;case Aa:return e=Bg(12,s,i,a|2),e.elementType=Aa,e.lanes=c,e;case Ea:return e=Bg(13,s,i,a),e.elementType=Ea,e.lanes=c,e;case Fa:return e=Bg(19,s,i,a),e.elementType=Fa,e.lanes=c,e;case Ia:return qj(s,a,c,i);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ba:d=10;break e;case Ca:d=9;break e;case Da:d=11;break e;case Ga:d=14;break e;case Ha:d=16,o=null;break e}throw Error(p(130,e==null?e:typeof e,""))}return i=Bg(d,s,i,a),i.elementType=e,i.type=o,i.lanes=c,i}function Ah(e,i,s,o){return e=Bg(7,e,o,i),e.lanes=s,e}function qj(e,i,s,o){return e=Bg(22,e,o,i),e.elementType=Ia,e.lanes=s,e.stateNode={isHidden:!1},e}function xh(e,i,s){return e=Bg(6,e,null,i),e.lanes=s,e}function zh(e,i,s){return i=Bg(4,e.children!==null?e.children:[],e.key,i),i.lanes=s,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function bl(e,i,s,o,a){this.tag=i,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=o,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function cl(e,i,s,o,a,c,d,h,g){return e=new bl(e,i,s,h,g),i===1?(i=1,c===!0&&(i|=8)):i=0,c=Bg(3,null,null,i),e.current=c,c.stateNode=e,c.memoizedState={element:o,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(c),e}function dl(e,i,s){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:o==null?null:""+o,children:e,containerInfo:i,implementation:s}}function el(e){if(!e)return Vf;e=e._reactInternals;e:{if(Vb(e)!==e||e.tag!==1)throw Error(p(170));var i=e;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Zf(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(p(171))}if(e.tag===1){var s=e.type;if(Zf(s))return bg(e,s,i)}return i}function fl(e,i,s,o,a,c,d,h,g){return e=cl(s,o,!0,e,a,c,d,h,g),e.context=el(null),s=e.current,o=L(),a=lh(s),c=ch(o,a),c.callback=i??null,dh(s,c,a),e.current.lanes=a,Ac(e,a,o),Ek(e,o),e}function gl(e,i,s,o){var a=i.current,c=L(),d=lh(a);return s=el(s),i.context===null?i.context=s:i.pendingContext=s,i=ch(c,d),i.payload={element:e},o=o===void 0?null:o,o!==null&&(i.callback=o),e=dh(a,i,d),e!==null&&(mh(e,a,d,c),eh(e,a,d)),d}function hl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function il(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<i?s:i}}function jl(e,i){il(e,i),(e=e.alternate)&&il(e,i)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(e){console.error(e)};function ml(e){this._internalRoot=e}nl.prototype.render=ml.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(p(409));gl(e,i,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Sk(function(){gl(null,e,null,null)}),i[uf]=null}};function nl(e){this._internalRoot=e}nl.prototype.unstable_scheduleHydration=function(e){if(e){var i=Hc();e={blockedOn:null,target:e,priority:i};for(var s=0;s<Qc.length&&i!==0&&i<Qc[s].priority;s++);Qc.splice(s,0,e),s===0&&Vc(e)}};function ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(e,i,s,o,a){if(a){if(typeof o=="function"){var c=o;o=function(){var _=hl(d);c.call(_)}}var d=fl(i,o,e,0,null,!1,!1,"",ql);return e._reactRootContainer=d,e[uf]=d.current,sf(e.nodeType===8?e.parentNode:e),Sk(),d}for(;a=e.lastChild;)e.removeChild(a);if(typeof o=="function"){var h=o;o=function(){var _=hl(g);h.call(_)}}var g=cl(e,0,!1,null,null,!1,!1,"",ql);return e._reactRootContainer=g,e[uf]=g.current,sf(e.nodeType===8?e.parentNode:e),Sk(function(){gl(i,g,s,o)}),g}function sl(e,i,s,o,a){var c=s._reactRootContainer;if(c){var d=c;if(typeof a=="function"){var h=a;a=function(){var g=hl(d);h.call(g)}}gl(i,d,e,a)}else d=rl(s,i,e,a,o);return hl(d)}Ec=function(e){switch(e.tag){case 3:var i=e.stateNode;if(i.current.memoizedState.isDehydrated){var s=tc(i.pendingLanes);s!==0&&(Cc(i,s|1),Ek(i,B()),!(K&6)&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var o=Zg(e,1);if(o!==null){var a=L();mh(o,e,1,a)}}),jl(e,1)}};Fc=function(e){if(e.tag===13){var i=Zg(e,134217728);if(i!==null){var s=L();mh(i,e,134217728,s)}jl(e,134217728)}};Gc=function(e){if(e.tag===13){var i=lh(e),s=Zg(e,i);if(s!==null){var o=L();mh(s,e,i,o)}jl(e,i)}};Hc=function(){return C};Ic=function(e,i){var s=C;try{return C=e,i()}finally{C=s}};yb=function(e,i,s){switch(i){case"input":if(bb(e,s),i=s.name,s.type==="radio"&&i!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<s.length;i++){var o=s[i];if(o!==e&&o.form===e.form){var a=Db(o);if(!a)throw Error(p(90));Wa(o),bb(o,a)}}}break;case"textarea":ib(e,s);break;case"select":i=s.value,i!=null&&fb(e,!!s.multiple,i,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zb(e),e===null?null:e.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(e,i){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(i))throw Error(p(200));return dl(e,i,null,s)};reactDom_production_min.createRoot=function(e,i){if(!ol(e))throw Error(p(299));var s=!1,o="",a=ll;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onRecoverableError!==void 0&&(a=i.onRecoverableError)),i=cl(e,1,!1,null,null,s,!1,o,a),e[uf]=i.current,sf(e.nodeType===8?e.parentNode:e),new ml(i)};reactDom_production_min.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(p(188)):(e=Object.keys(e).join(","),Error(p(268,e)));return e=Zb(i),e=e===null?null:e.stateNode,e};reactDom_production_min.flushSync=function(e){return Sk(e)};reactDom_production_min.hydrate=function(e,i,s){if(!pl(i))throw Error(p(200));return sl(null,e,i,!0,s)};reactDom_production_min.hydrateRoot=function(e,i,s){if(!ol(e))throw Error(p(405));var o=s!=null&&s.hydratedSources||null,a=!1,c="",d=ll;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),i=fl(i,null,e,1,s??null,a,!1,c,d),e[uf]=i.current,sf(e),o)for(e=0;e<o.length;e++)s=o[e],a=s._getVersion,a=a(s._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[s,a]:i.mutableSourceEagerHydrationData.push(s,a);return new nl(i)};reactDom_production_min.render=function(e,i,s){if(!pl(i))throw Error(p(200));return sl(null,e,i,!1,s)};reactDom_production_min.unmountComponentAtNode=function(e){if(!pl(e))throw Error(p(40));return e._reactRootContainer?(Sk(function(){sl(null,null,e,!1,function(){e._reactRootContainer=null,e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,i,s,o){if(!pl(s))throw Error(p(200));if(e==null||e._reactInternals===void 0)throw Error(p(38));return sl(e,i,s,!1,o)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";(function(e){function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(s){console.error(s)}}i(),e.exports=reactDom_production_min})(reactDom);var m=reactDomExports;client.createRoot=m.createRoot,client.hydrateRoot=m.hydrateRoot;function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdfExports={},pdf={get exports(){return pdfExports},set exports(e){pdfExports=e}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(i,s){module.exports=s()})(globalThis,()=>(()=>{var __webpack_modules__=[,(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.VerbosityLevel=i.Util=i.UnknownErrorException=i.UnexpectedResponseException=i.UNSUPPORTED_FEATURES=i.TextRenderingMode=i.StreamType=i.RenderingIntentFlag=i.PermissionFlag=i.PasswordResponses=i.PasswordException=i.PageActionEventType=i.OPS=i.MissingPDFException=i.LINE_FACTOR=i.LINE_DESCENT_FACTOR=i.InvalidPDFException=i.ImageKind=i.IDENTITY_MATRIX=i.FormatError=i.FontType=i.FeatureTest=i.FONT_IDENTITY_MATRIX=i.DocumentActionEventType=i.CMapCompressionType=i.BaseException=i.AnnotationType=i.AnnotationStateModelType=i.AnnotationReviewState=i.AnnotationReplyType=i.AnnotationMode=i.AnnotationMarkedState=i.AnnotationFlag=i.AnnotationFieldFlag=i.AnnotationEditorType=i.AnnotationEditorPrefix=i.AnnotationEditorParamsType=i.AnnotationBorderStyleType=i.AnnotationActionEventType=i.AbortException=void 0,i.arrayByteLength=Ht,i.arraysToBytes=Zt,i.assert=ft,i.bytesToString=xt,i.createPromiseCapability=tn,i.createValidAbsoluteUrl=St,i.escapeString=hn,i.getModificationDate=Gt,i.getVerbosityLevel=jt,i.info=$t,i.isArrayBuffer=Sn,i.isArrayEqual=Bn,i.isAscii=vn,i.objectFromMap=zt,i.objectSize=Xt,i.setVerbosityLevel=Et,i.shadow=bt,i.string32=Ut,i.stringToBytes=Rt,i.stringToPDFString=un,i.stringToUTF16BEString=yn,i.stringToUTF8String=Mn,i.unreachable=Ct,i.utf8StringToString=fn,i.warn=Kt,s(2);const o=[1,0,0,1,0,0];i.IDENTITY_MATRIX=o;const a=[.001,0,0,.001,0,0];i.FONT_IDENTITY_MATRIX=a;const c=1.35;i.LINE_FACTOR=c;const d=.35;i.LINE_DESCENT_FACTOR=d;const h={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};i.RenderingIntentFlag=h;const g={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};i.AnnotationMode=g;const _="pdfjs_internal_editor_";i.AnnotationEditorPrefix=_;const _e={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};i.AnnotationEditorType=_e;const at={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};i.AnnotationEditorParamsType=at;const nt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};i.PermissionFlag=nt;const lt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};i.TextRenderingMode=lt;const tt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};i.ImageKind=tt;const b={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};i.AnnotationType=b;const et={MARKED:"Marked",REVIEW:"Review"};i.AnnotationStateModelType=et;const j={MARKED:"Marked",UNMARKED:"Unmarked"};i.AnnotationMarkedState=j;const rt={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};i.AnnotationReviewState=rt;const ot={GROUP:"Group",REPLY:"R"};i.AnnotationReplyType=ot;const st={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};i.AnnotationFlag=st;const $={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};i.AnnotationFieldFlag=$;const it={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};i.AnnotationBorderStyleType=it;const ut={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};i.AnnotationActionEventType=ut;const pt={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};i.DocumentActionEventType=pt;const mt={O:"PageOpen",C:"PageClose"};i.PageActionEventType=mt;const ht={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};i.StreamType=ht;const _t={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};i.FontType=_t;const Vt={ERRORS:0,WARNINGS:1,INFOS:5};i.VerbosityLevel=Vt;const Wt={NONE:0,BINARY:1,STREAM:2};i.CMapCompressionType=Wt;const Nt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};i.OPS=Nt;const Lt={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};i.UNSUPPORTED_FEATURES=Lt;const kt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};i.PasswordResponses=kt;let Mt=Vt.WARNINGS;function Et(Bt){Number.isInteger(Bt)&&(Mt=Bt)}function jt(){return Mt}function $t(Bt){Mt>=Vt.INFOS&&console.log(`Info: ${Bt}`)}function Kt(Bt){Mt>=Vt.WARNINGS&&console.log(`Warning: ${Bt}`)}function Ct(Bt){throw new Error(Bt)}function ft(Bt,Dt){Bt||Ct(Dt)}function dt(Bt){if(!Bt)return!1;switch(Bt.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function St(Bt,Dt=null,Ft=null){if(!Bt)return null;try{if(Ft&&typeof Bt=="string"){if(Ft.addDefaultProtocol&&Bt.startsWith("www.")){const sn=Bt.match(/\./g);sn&&sn.length>=2&&(Bt=`http://${Bt}`)}if(Ft.tryConvertEncoding)try{Bt=Mn(Bt)}catch{}}const nn=Dt?new URL(Bt,Dt):new URL(Bt);if(dt(nn))return nn}catch{}return null}function bt(Bt,Dt,Ft){return Object.defineProperty(Bt,Dt,{value:Ft,enumerable:!0,configurable:!0,writable:!1}),Ft}const Tt=function(){function Dt(Ft,nn){this.constructor===Dt&&Ct("Cannot initialize BaseException."),this.message=Ft,this.name=nn}return Dt.prototype=new Error,Dt.constructor=Dt,Dt}();i.BaseException=Tt;class wt extends Tt{constructor(Dt,Ft){super(Dt,"PasswordException"),this.code=Ft}}i.PasswordException=wt;class Ot extends Tt{constructor(Dt,Ft){super(Dt,"UnknownErrorException"),this.details=Ft}}i.UnknownErrorException=Ot;class It extends Tt{constructor(Dt){super(Dt,"InvalidPDFException")}}i.InvalidPDFException=It;class ct extends Tt{constructor(Dt){super(Dt,"MissingPDFException")}}i.MissingPDFException=ct;class gt extends Tt{constructor(Dt,Ft){super(Dt,"UnexpectedResponseException"),this.status=Ft}}i.UnexpectedResponseException=gt;class yt extends Tt{constructor(Dt){super(Dt,"FormatError")}}i.FormatError=yt;class vt extends Tt{constructor(Dt){super(Dt,"AbortException")}}i.AbortException=vt;function xt(Bt){(typeof Bt!="object"||Bt===null||Bt.length===void 0)&&Ct("Invalid argument for bytesToString");const Dt=Bt.length,Ft=8192;if(Dt<Ft)return String.fromCharCode.apply(null,Bt);const nn=[];for(let sn=0;sn<Dt;sn+=Ft){const an=Math.min(sn+Ft,Dt),cn=Bt.subarray(sn,an);nn.push(String.fromCharCode.apply(null,cn))}return nn.join("")}function Rt(Bt){typeof Bt!="string"&&Ct("Invalid argument for stringToBytes");const Dt=Bt.length,Ft=new Uint8Array(Dt);for(let nn=0;nn<Dt;++nn)Ft[nn]=Bt.charCodeAt(nn)&255;return Ft}function Ht(Bt){if(Bt.length!==void 0)return Bt.length;if(Bt.byteLength!==void 0)return Bt.byteLength;Ct("Invalid argument for arrayByteLength")}function Zt(Bt){const Dt=Bt.length;if(Dt===1&&Bt[0]instanceof Uint8Array)return Bt[0];let Ft=0;for(let an=0;an<Dt;an++)Ft+=Ht(Bt[an]);let nn=0;const sn=new Uint8Array(Ft);for(let an=0;an<Dt;an++){let cn=Bt[an];cn instanceof Uint8Array||(typeof cn=="string"?cn=Rt(cn):cn=new Uint8Array(cn));const pn=cn.byteLength;sn.set(cn,nn),nn+=pn}return sn}function Ut(Bt){return String.fromCharCode(Bt>>24&255,Bt>>16&255,Bt>>8&255,Bt&255)}function Xt(Bt){return Object.keys(Bt).length}function zt(Bt){const Dt=Object.create(null);for(const[Ft,nn]of Bt)Dt[Ft]=nn;return Dt}function Yt(){const Bt=new Uint8Array(4);return Bt[0]=1,new Uint32Array(Bt.buffer,0,1)[0]===1}function en(){try{return new Function(""),!0}catch{return!1}}class Pt{static get isLittleEndian(){return bt(this,"isLittleEndian",Yt())}static get isEvalSupported(){return bt(this,"isEvalSupported",en())}static get isOffscreenCanvasSupported(){return bt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}}i.FeatureTest=Pt;const Jt=[...Array(256).keys()].map(Bt=>Bt.toString(16).padStart(2,"0"));class on{static makeHexColor(Dt,Ft,nn){return`#${Jt[Dt]}${Jt[Ft]}${Jt[nn]}`}static scaleMinMax(Dt,Ft){let nn;Dt[0]?(Dt[0]<0&&(nn=Ft[0],Ft[0]=Ft[1],Ft[1]=nn),Ft[0]*=Dt[0],Ft[1]*=Dt[0],Dt[3]<0&&(nn=Ft[2],Ft[2]=Ft[3],Ft[3]=nn),Ft[2]*=Dt[3],Ft[3]*=Dt[3]):(nn=Ft[0],Ft[0]=Ft[2],Ft[2]=nn,nn=Ft[1],Ft[1]=Ft[3],Ft[3]=nn,Dt[1]<0&&(nn=Ft[2],Ft[2]=Ft[3],Ft[3]=nn),Ft[2]*=Dt[1],Ft[3]*=Dt[1],Dt[2]<0&&(nn=Ft[0],Ft[0]=Ft[1],Ft[1]=nn),Ft[0]*=Dt[2],Ft[1]*=Dt[2]),Ft[0]+=Dt[4],Ft[1]+=Dt[4],Ft[2]+=Dt[5],Ft[3]+=Dt[5]}static transform(Dt,Ft){return[Dt[0]*Ft[0]+Dt[2]*Ft[1],Dt[1]*Ft[0]+Dt[3]*Ft[1],Dt[0]*Ft[2]+Dt[2]*Ft[3],Dt[1]*Ft[2]+Dt[3]*Ft[3],Dt[0]*Ft[4]+Dt[2]*Ft[5]+Dt[4],Dt[1]*Ft[4]+Dt[3]*Ft[5]+Dt[5]]}static applyTransform(Dt,Ft){const nn=Dt[0]*Ft[0]+Dt[1]*Ft[2]+Ft[4],sn=Dt[0]*Ft[1]+Dt[1]*Ft[3]+Ft[5];return[nn,sn]}static applyInverseTransform(Dt,Ft){const nn=Ft[0]*Ft[3]-Ft[1]*Ft[2],sn=(Dt[0]*Ft[3]-Dt[1]*Ft[2]+Ft[2]*Ft[5]-Ft[4]*Ft[3])/nn,an=(-Dt[0]*Ft[1]+Dt[1]*Ft[0]+Ft[4]*Ft[1]-Ft[5]*Ft[0])/nn;return[sn,an]}static getAxialAlignedBoundingBox(Dt,Ft){const nn=on.applyTransform(Dt,Ft),sn=on.applyTransform(Dt.slice(2,4),Ft),an=on.applyTransform([Dt[0],Dt[3]],Ft),cn=on.applyTransform([Dt[2],Dt[1]],Ft);return[Math.min(nn[0],sn[0],an[0],cn[0]),Math.min(nn[1],sn[1],an[1],cn[1]),Math.max(nn[0],sn[0],an[0],cn[0]),Math.max(nn[1],sn[1],an[1],cn[1])]}static inverseTransform(Dt){const Ft=Dt[0]*Dt[3]-Dt[1]*Dt[2];return[Dt[3]/Ft,-Dt[1]/Ft,-Dt[2]/Ft,Dt[0]/Ft,(Dt[2]*Dt[5]-Dt[4]*Dt[3])/Ft,(Dt[4]*Dt[1]-Dt[5]*Dt[0])/Ft]}static apply3dTransform(Dt,Ft){return[Dt[0]*Ft[0]+Dt[1]*Ft[1]+Dt[2]*Ft[2],Dt[3]*Ft[0]+Dt[4]*Ft[1]+Dt[5]*Ft[2],Dt[6]*Ft[0]+Dt[7]*Ft[1]+Dt[8]*Ft[2]]}static singularValueDecompose2dScale(Dt){const Ft=[Dt[0],Dt[2],Dt[1],Dt[3]],nn=Dt[0]*Ft[0]+Dt[1]*Ft[2],sn=Dt[0]*Ft[1]+Dt[1]*Ft[3],an=Dt[2]*Ft[0]+Dt[3]*Ft[2],cn=Dt[2]*Ft[1]+Dt[3]*Ft[3],pn=(nn+cn)/2,An=Math.sqrt((nn+cn)**2-4*(nn*cn-an*sn))/2,mn=pn+An||1,dn=pn-An||1;return[Math.sqrt(mn),Math.sqrt(dn)]}static normalizeRect(Dt){const Ft=Dt.slice(0);return Dt[0]>Dt[2]&&(Ft[0]=Dt[2],Ft[2]=Dt[0]),Dt[1]>Dt[3]&&(Ft[1]=Dt[3],Ft[3]=Dt[1]),Ft}static intersect(Dt,Ft){const nn=Math.max(Math.min(Dt[0],Dt[2]),Math.min(Ft[0],Ft[2])),sn=Math.min(Math.max(Dt[0],Dt[2]),Math.max(Ft[0],Ft[2]));if(nn>sn)return null;const an=Math.max(Math.min(Dt[1],Dt[3]),Math.min(Ft[1],Ft[3])),cn=Math.min(Math.max(Dt[1],Dt[3]),Math.max(Ft[1],Ft[3]));return an>cn?null:[nn,an,sn,cn]}static bezierBoundingBox(Dt,Ft,nn,sn,an,cn,pn,An){const mn=[],dn=[[],[]];let bn,xn,Pn,gn,En,wn,Fn,Ln;for(let On=0;On<2;++On){if(On===0?(xn=6*Dt-12*nn+6*an,bn=-3*Dt+9*nn-9*an+3*pn,Pn=3*nn-3*Dt):(xn=6*Ft-12*sn+6*cn,bn=-3*Ft+9*sn-9*cn+3*An,Pn=3*sn-3*Ft),Math.abs(bn)<1e-12){if(Math.abs(xn)<1e-12)continue;gn=-Pn/xn,0<gn&&gn<1&&mn.push(gn);continue}Fn=xn*xn-4*Pn*bn,Ln=Math.sqrt(Fn),!(Fn<0)&&(En=(-xn+Ln)/(2*bn),0<En&&En<1&&mn.push(En),wn=(-xn-Ln)/(2*bn),0<wn&&wn<1&&mn.push(wn))}let Rn=mn.length,Tn;const kn=Rn;for(;Rn--;)gn=mn[Rn],Tn=1-gn,dn[0][Rn]=Tn*Tn*Tn*Dt+3*Tn*Tn*gn*nn+3*Tn*gn*gn*an+gn*gn*gn*pn,dn[1][Rn]=Tn*Tn*Tn*Ft+3*Tn*Tn*gn*sn+3*Tn*gn*gn*cn+gn*gn*gn*An;return dn[0][kn]=Dt,dn[1][kn]=Ft,dn[0][kn+1]=pn,dn[1][kn+1]=An,dn[0].length=dn[1].length=kn+2,[Math.min(...dn[0]),Math.min(...dn[1]),Math.max(...dn[0]),Math.max(...dn[1])]}}i.Util=on;const ln=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function un(Bt){if(Bt[0]>=""){let Ft;if(Bt[0]===""&&Bt[1]===""?Ft="utf-16be":Bt[0]===""&&Bt[1]===""?Ft="utf-16le":Bt[0]===""&&Bt[1]===""&&Bt[2]===""&&(Ft="utf-8"),Ft)try{const nn=new TextDecoder(Ft,{fatal:!0}),sn=Rt(Bt);return nn.decode(sn)}catch(nn){Kt(`stringToPDFString: "${nn}".`)}}const Dt=[];for(let Ft=0,nn=Bt.length;Ft<nn;Ft++){const sn=ln[Bt.charCodeAt(Ft)];Dt.push(sn?String.fromCharCode(sn):Bt.charAt(Ft))}return Dt.join("")}function hn(Bt){return Bt.replace(/([()\\\n\r])/g,Dt=>Dt===`
`?"\\n":Dt==="\r"?"\\r":`\\${Dt}`)}function vn(Bt){return/^[\x00-\x7F]*$/.test(Bt)}function yn(Bt){const Dt=[""];for(let Ft=0,nn=Bt.length;Ft<nn;Ft++){const sn=Bt.charCodeAt(Ft);Dt.push(String.fromCharCode(sn>>8&255),String.fromCharCode(sn&255))}return Dt.join("")}function Mn(Bt){return decodeURIComponent(escape(Bt))}function fn(Bt){return unescape(encodeURIComponent(Bt))}function Sn(Bt){return typeof Bt=="object"&&Bt!==null&&Bt.byteLength!==void 0}function Bn(Bt,Dt){if(Bt.length!==Dt.length)return!1;for(let Ft=0,nn=Bt.length;Ft<nn;Ft++)if(Bt[Ft]!==Dt[Ft])return!1;return!0}function Gt(Bt=new Date){return[Bt.getUTCFullYear().toString(),(Bt.getUTCMonth()+1).toString().padStart(2,"0"),Bt.getUTCDate().toString().padStart(2,"0"),Bt.getUTCHours().toString().padStart(2,"0"),Bt.getUTCMinutes().toString().padStart(2,"0"),Bt.getUTCSeconds().toString().padStart(2,"0")].join("")}function tn(){const Bt=Object.create(null);let Dt=!1;return Object.defineProperty(Bt,"settled",{get(){return Dt}}),Bt.promise=new Promise(function(Ft,nn){Bt.resolve=function(sn){Dt=!0,Ft(sn)},Bt.reject=function(sn){Dt=!0,nn(sn)}}),Bt}},(e,i,s)=>{s(3)},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.isNodeJS=void 0;const s=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");i.isNodeJS=s},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var e,s,o,a,c,d,h,g,_,Xn,at,nt;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(5),_display_utils=__w_pdfjs_require__(8),_font_loader=__w_pdfjs_require__(11),_canvas=__w_pdfjs_require__(12),_worker_options=__w_pdfjs_require__(15),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(16),_metadata=__w_pdfjs_require__(17),_optional_content_config=__w_pdfjs_require__(18),_transport_stream=__w_pdfjs_require__(19),_xfa_text=__w_pdfjs_require__(20);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:tt,NodeCMapReaderFactory:b,NodeStandardFontDataFactory:et}=__w_pdfjs_require__(21);exports.DefaultCanvasFactory=DefaultCanvasFactory=tt,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=b,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=et}let createPDFNetworkStream;function setPDFNetworkStreamFactory(tt){createPDFNetworkStream=tt}function getDocument(tt){const b=new PDFDocumentLoadingTask;let et;if(typeof tt=="string"||tt instanceof URL)et={url:tt};else if((0,_util.isArrayBuffer)(tt))et={data:tt};else if(tt instanceof PDFDataRangeTransport)et={range:tt};else{if(typeof tt!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!tt.url&&!tt.data&&!tt.range)throw new Error("Invalid parameter object: need either .data, .range or .url");et=tt}const j=Object.create(null);let rt=null,ot=null;for(const $ in et){const it=et[$];switch($){case"url":if(typeof window<"u")try{j[$]=new URL(it,window.location).href;continue}catch(ut){(0,_util.warn)(`Cannot create valid URL: "${ut}".`)}else if(typeof it=="string"||it instanceof URL){j[$]=it.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":rt=it;continue;case"worker":ot=it;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&it instanceof Buffer)j[$]=new Uint8Array(it);else{if(it instanceof Uint8Array)break;if(typeof it=="string")j[$]=(0,_util.stringToBytes)(it);else if(typeof it=="object"&&it!==null&&!isNaN(it.length))j[$]=new Uint8Array(it);else if((0,_util.isArrayBuffer)(it))j[$]=new Uint8Array(it);else throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}continue}j[$]=it}if(j.CMapReaderFactory=j.CMapReaderFactory||DefaultCMapReaderFactory,j.StandardFontDataFactory=j.StandardFontDataFactory||DefaultStandardFontDataFactory,j.ignoreErrors=j.stopAtErrors!==!0,j.fontExtraProperties=j.fontExtraProperties===!0,j.pdfBug=j.pdfBug===!0,j.enableXfa=j.enableXfa===!0,(!Number.isInteger(j.rangeChunkSize)||j.rangeChunkSize<1)&&(j.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),(typeof j.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(j.docBaseUrl))&&(j.docBaseUrl=null),(!Number.isInteger(j.maxImageSize)||j.maxImageSize<-1)&&(j.maxImageSize=-1),typeof j.cMapUrl!="string"&&(j.cMapUrl=null),typeof j.standardFontDataUrl!="string"&&(j.standardFontDataUrl=null),typeof j.useWorkerFetch!="boolean"&&(j.useWorkerFetch=j.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&j.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),typeof j.isEvalSupported!="boolean"&&(j.isEvalSupported=!0),typeof j.disableFontFace!="boolean"&&(j.disableFontFace=_is_node.isNodeJS),typeof j.useSystemFonts!="boolean"&&(j.useSystemFonts=!_is_node.isNodeJS&&!j.disableFontFace),(typeof j.ownerDocument!="object"||j.ownerDocument===null)&&(j.ownerDocument=globalThis.document),typeof j.disableRange!="boolean"&&(j.disableRange=!1),typeof j.disableStream!="boolean"&&(j.disableStream=!1),typeof j.disableAutoFetch!="boolean"&&(j.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(j.verbosity),!ot){const $={verbosity:j.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};ot=$.port?PDFWorker.fromPort($):new PDFWorker($),b._worker=ot}const st=b.docId;return ot.promise.then(function(){if(b.destroyed)throw new Error("Loading aborted");const $=_fetchDocument(ot,j,rt,st),it=new Promise(function(ut){let pt;rt?pt=new _transport_stream.PDFDataTransportStream({length:j.length,initialData:j.initialData,progressiveDone:j.progressiveDone,contentDispositionFilename:j.contentDispositionFilename,disableRange:j.disableRange,disableStream:j.disableStream},rt):j.data||(pt=createPDFNetworkStream({url:j.url,length:j.length,httpHeaders:j.httpHeaders,withCredentials:j.withCredentials,rangeChunkSize:j.rangeChunkSize,disableRange:j.disableRange,disableStream:j.disableStream})),ut(pt)});return Promise.all([$,it]).then(function([ut,pt]){if(b.destroyed)throw new Error("Loading aborted");const mt=new _message_handler.MessageHandler(st,ut,ot.port),ht=new WorkerTransport(mt,b,pt,j);b._transport=ht,mt.send("Ready",null)})}).catch(b._capability.reject),b}async function _fetchDocument(tt,b,et,j){if(tt.destroyed)throw new Error("Worker was destroyed");et&&(b.length=et.length,b.initialData=et.initialData,b.progressiveDone=et.progressiveDone,b.contentDispositionFilename=et.contentDispositionFilename);const rt=await tt.messageHandler.sendWithPromise("GetDocRequest",{docId:j,apiVersion:"2.16.105",source:{data:b.data,url:b.url,password:b.password,disableAutoFetch:b.disableAutoFetch,rangeChunkSize:b.rangeChunkSize,length:b.length},maxImageSize:b.maxImageSize,disableFontFace:b.disableFontFace,docBaseUrl:b.docBaseUrl,ignoreErrors:b.ignoreErrors,isEvalSupported:b.isEvalSupported,fontExtraProperties:b.fontExtraProperties,enableXfa:b.enableXfa,useSystemFonts:b.useSystemFonts,cMapUrl:b.useWorkerFetch?b.cMapUrl:null,standardFontDataUrl:b.useWorkerFetch?b.standardFontDataUrl:null});if(b.data&&(b.data=null),tt.destroyed)throw new Error("Worker was destroyed");return rt}const i=class{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${qn(i,e)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){var b;this.destroyed=!0,await((b=this._transport)==null?void 0:b.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};let PDFDocumentLoadingTask=i;e=new WeakMap,qt(PDFDocumentLoadingTask,e,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(b,et,j=!1,rt=null){this.length=b,this.initialData=et,this.progressiveDone=j,this.contentDispositionFilename=rt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(b){this._rangeListeners.push(b)}addProgressListener(b){this._progressListeners.push(b)}addProgressiveReadListener(b){this._progressiveReadListeners.push(b)}addProgressiveDoneListener(b){this._progressiveDoneListeners.push(b)}onDataRange(b,et){for(const j of this._rangeListeners)j(b,et)}onDataProgress(b,et){this._readyCapability.promise.then(()=>{for(const j of this._progressListeners)j(b,et)})}onDataProgressiveRead(b){this._readyCapability.promise.then(()=>{for(const et of this._progressiveReadListeners)et(b)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const b of this._progressiveDoneListeners)b()})}transportReady(){this._readyCapability.resolve()}requestDataRange(b,et){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(b,et){this._pdfInfo=b,this._transport=et,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:async()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),this.stats||{streamTypes:{},fontTypes:{}})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(b){return this._transport.getPage(b)}getPageIndex(b){return this._transport.getPageIndex(b)}getDestinations(){return this._transport.getDestinations()}getDestination(b){return this._transport.getDestination(b)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(b=!1){return this._transport.startCleanup(b||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(b,et,j,rt,ot=!1){this._pageIndex=b,this._pageInfo=et,this._ownerDocument=rt,this._transport=j,this._stats=ot?new _display_utils.StatTimer:null,this._pdfBug=ot,this.commonObjs=j.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:b,rotation:et=this.rotate,offsetX:j=0,offsetY:rt=0,dontFlip:ot=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:b,rotation:et,offsetX:j,offsetY:rt,dontFlip:ot})}getAnnotations({intent:b="display"}={}){const et=this._transport.getRenderingIntent(b);let j=this._annotationPromises.get(et.cacheKey);return j||(j=this._transport.getAnnotations(this._pageIndex,et.renderingIntent),this._annotationPromises.set(et.cacheKey,j),j=j.then(rt=>{for(const ot of rt)ot.titleObj!==void 0&&Object.defineProperty(ot,"title",{get(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),ot.titleObj.str}}),ot.contentsObj!==void 0&&Object.defineProperty(ot,"contents",{get(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),ot.contentsObj.str}});return rt})),j}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}async getXfa(){var b;return((b=this._transport._htmlForXfa)==null?void 0:b.children[this._pageIndex])||null}render({canvasContext:b,viewport:et,intent:j="display",annotationMode:rt=_util.AnnotationMode.ENABLE,transform:ot=null,imageLayer:st=null,canvasFactory:$=null,background:it=null,optionalContentConfigPromise:ut=null,annotationCanvasMap:pt=null,pageColors:mt=null,printAnnotationStorage:ht=null}){var Et,jt;((Et=arguments[0])==null?void 0:Et.renderInteractiveForms)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),arguments[0].renderInteractiveForms===!0&&rt===_util.AnnotationMode.ENABLE&&(rt=_util.AnnotationMode.ENABLE_FORMS)),((jt=arguments[0])==null?void 0:jt.includeAnnotationStorage)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),arguments[0].includeAnnotationStorage===!0&&rt===_util.AnnotationMode.ENABLE&&(rt=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const _t=this._transport.getRenderingIntent(j,rt,ht);this.pendingCleanup=!1,ut||(ut=this._transport.getOptionalContentConfig());let Vt=this._intentStates.get(_t.cacheKey);Vt||(Vt=Object.create(null),this._intentStates.set(_t.cacheKey,Vt)),Vt.streamReaderCancelTimeout&&(clearTimeout(Vt.streamReaderCancelTimeout),Vt.streamReaderCancelTimeout=null);const Wt=$||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),Nt=!!(_t.renderingIntent&_util.RenderingIntentFlag.PRINT);Vt.displayReadyCapability||(Vt.displayReadyCapability=(0,_util.createPromiseCapability)(),Vt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(_t));const Lt=$t=>{Vt.renderTasks.delete(kt),(this.cleanupAfterRender||Nt)&&(this.pendingCleanup=!0),this._tryCleanup(),$t?(kt.capability.reject($t),this._abortOperatorList({intentState:Vt,reason:$t instanceof Error?$t:new Error($t)})):kt.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},kt=new InternalRenderTask({callback:Lt,params:{canvasContext:b,viewport:et,transform:ot,imageLayer:st,background:it},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:pt,operatorList:Vt.operatorList,pageIndex:this._pageIndex,canvasFactory:Wt,useRequestAnimationFrame:!Nt,pdfBug:this._pdfBug,pageColors:mt});(Vt.renderTasks||(Vt.renderTasks=new Set)).add(kt);const Mt=kt.task;return Promise.all([Vt.displayReadyCapability.promise,ut]).then(([$t,Kt])=>{if(this.pendingCleanup){Lt();return}this._stats&&this._stats.time("Rendering"),kt.initializeGraphics({transparency:$t,optionalContentConfig:Kt}),kt.operatorListChanged()}).catch(Lt),Mt}getOperatorList({intent:b="display",annotationMode:et=_util.AnnotationMode.ENABLE,printAnnotationStorage:j=null}={}){function rt(){st.operatorList.lastChunk&&(st.opListReadCapability.resolve(st.operatorList),st.renderTasks.delete($))}const ot=this._transport.getRenderingIntent(b,et,j,!0);let st=this._intentStates.get(ot.cacheKey);st||(st=Object.create(null),this._intentStates.set(ot.cacheKey,st));let $;return st.opListReadCapability||($=Object.create(null),$.operatorListChanged=rt,st.opListReadCapability=(0,_util.createPromiseCapability)(),(st.renderTasks||(st.renderTasks=new Set)).add($),st.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(ot)),st.opListReadCapability.promise}streamTextContent({disableCombineTextItems:b=!1,includeMarkedContent:et=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:b!==!0,includeMarkedContent:et===!0},{highWaterMark:100,size(rt){return rt.items.length}})}getTextContent(b={}){if(this._transport._htmlForXfa)return this.getXfa().then(j=>_xfa_text.XfaText.textContent(j));const et=this.streamTextContent(b);return new Promise(function(j,rt){function ot(){st.read().then(function({value:it,done:ut}){if(ut){j($);return}Object.assign($.styles,it.styles),$.items.push(...it.items),ot()},rt)}const st=et.getReader(),$={items:[],styles:Object.create(null)};ot()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const b=[];for(const et of this._intentStates.values())if(this._abortOperatorList({intentState:et,reason:new Error("Page was destroyed."),force:!0}),!et.opListReadCapability)for(const j of et.renderTasks)b.push(j.completed),j.cancel();this.objs.clear();for(const et of this._bitmaps)et.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(b)}cleanup(b=!1){return this.pendingCleanup=!0,this._tryCleanup(b)}_tryCleanup(b=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:et,operatorList:j}of this._intentStates.values())if(et.size>0||!j.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,b&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const et of this._bitmaps)et.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(b,et){const j=this._intentStates.get(et);j&&(this._stats&&this._stats.timeEnd("Page Request"),j.displayReadyCapability&&j.displayReadyCapability.resolve(b))}_renderPageChunk(b,et){for(let j=0,rt=b.length;j<rt;j++)et.operatorList.fnArray.push(b.fnArray[j]),et.operatorList.argsArray.push(b.argsArray[j]);et.operatorList.lastChunk=b.lastChunk,et.operatorList.separateAnnots=b.separateAnnots;for(const j of et.renderTasks)j.operatorListChanged();b.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:b,cacheKey:et,annotationStorageMap:j}){const ot=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:b,cacheKey:et,annotationStorage:j}).getReader(),st=this._intentStates.get(et);st.streamReader=ot;const $=()=>{ot.read().then(({value:it,done:ut})=>{if(ut){st.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(it,st),$())},it=>{if(st.streamReader=null,!this._transport.destroyed){if(st.operatorList){st.operatorList.lastChunk=!0;for(const ut of st.renderTasks)ut.operatorListChanged();this._tryCleanup()}if(st.displayReadyCapability)st.displayReadyCapability.reject(it);else if(st.opListReadCapability)st.opListReadCapability.reject(it);else throw it}})};$()}_abortOperatorList({intentState:b,reason:et,force:j=!1}){if(b.streamReader){if(!j){if(b.renderTasks.size>0)return;if(et instanceof _display_utils.RenderingCancelledException){b.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:b,reason:et,force:!0}),b.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(b.streamReader.cancel(new _util.AbortException(et.message)).catch(()=>{}),b.streamReader=null,!this._transport.destroyed){for(const[rt,ot]of this._intentStates)if(ot===b){this._intentStates.delete(rt);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(b,et){const j={data:structuredClone(b,et)};this._deferred.then(()=>{for(const rt of this._listeners)rt.call(this,j)})}addEventListener(b,et){this._listeners.push(et)}removeEventListener(b,et){const j=this._listeners.indexOf(et);this._listeners.splice(j,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const tt=(s=document==null?void 0:document.currentScript)==null?void 0:s.src;tt&&(PDFWorkerUtil.fallbackWorkerSrc=tt.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(tt,b){let et;try{if(et=new URL(tt),!et.origin||et.origin==="null")return!1}catch{return!1}const j=new URL(b,et);return et.origin===j.origin},PDFWorkerUtil.createCDNWrapper=function(tt){const b=`importScripts("${tt}");`;return URL.createObjectURL(new Blob([b]))}}const _PDFWorker=class{constructor({name:tt=null,port:b=null,verbosity:et=(0,_util.getVerbosityLevel)()}={}){if(b&&At(_PDFWorker,o).has(b))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=tt,this.destroyed=!1,this.verbosity=et,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,b){At(_PDFWorker,o).set(b,this),this._initializeFromPort(b);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(tt){this._port=tt,this._messageHandler=new _message_handler.MessageHandler("main","worker",tt),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:tt}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,tt)||(tt=PDFWorkerUtil.createCDNWrapper(new URL(tt,window.location).href));const b=new Worker(tt),et=new _message_handler.MessageHandler("main","worker",b),j=()=>{b.removeEventListener("error",rt),et.destroy(),b.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},rt=()=>{this._webWorker||j()};b.addEventListener("error",rt),et.on("test",st=>{if(b.removeEventListener("error",rt),this.destroyed){j();return}st?(this._messageHandler=et,this._port=b,this._webWorker=b,this._readyCapability.resolve(),et.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),et.destroy(),b.terminate())}),et.on("ready",st=>{if(b.removeEventListener("error",rt),this.destroyed){j();return}try{ot()}catch{this._setupFakeWorker()}});const ot=()=>{const st=new Uint8Array;et.send("test",st,[st.buffer])};ot();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(tt=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const b=new LoopbackPort;this._port=b;const et=`fake${PDFWorkerUtil.fakeWorkerId++}`,j=new _message_handler.MessageHandler(et+"_worker",et,b);tt.setup(j,b);const rt=new _message_handler.MessageHandler(et,et+"_worker",b);this._messageHandler=rt,this._readyCapability.resolve(),rt.send("configure",{verbosity:this.verbosity})}).catch(tt=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${tt.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),At(_PDFWorker,o).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(tt){if(!(tt!=null&&tt.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return At(this,o).has(tt.port)?At(this,o).get(tt.port):new _PDFWorker(tt)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var tt;try{return((tt=globalThis.pdfjsWorker)==null?void 0:tt.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;o=new WeakMap,qt(PDFWorker,o,new WeakMap),exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(b,et,j,rt){qt(this,a,null);qt(this,c,new Map);qt(this,d,new Map);qt(this,h,null);this.messageHandler=b,this.loadingTask=et,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:et.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:rt.ownerDocument,styleElement:rt.styleElement}),this._params=rt,rt.useWorkerFetch||(this.CMapReaderFactory=new rt.CMapReaderFactory({baseUrl:rt.cMapUrl,isCompressed:rt.cMapPacked}),this.StandardFontDataFactory=new rt.StandardFontDataFactory({baseUrl:rt.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=j,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return At(this,a)}getRenderingIntent(b,et=_util.AnnotationMode.ENABLE,j=null,rt=!1){let ot=_util.RenderingIntentFlag.DISPLAY,st=null;switch(b){case"any":ot=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":ot=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${b}`)}switch(et){case _util.AnnotationMode.DISABLE:ot+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:ot+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:ot+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,st=(ot&_util.RenderingIntentFlag.PRINT&&j instanceof _annotation_storage.PrintAnnotationStorage?j:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${et}`)}return rt&&(ot+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:ot,cacheKey:`${ot}_${_annotation_storage.AnnotationStorage.getHash(st)}`,annotationStorageMap:st}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const b=[];for(const j of At(this,c).values())b.push(j._destroy());At(this,c).clear(),At(this,d).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const et=this.messageHandler.sendWithPromise("Terminate",null);return b.push(et),Promise.all(b).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),rn(this,h,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:b,loadingTask:et}=this;b.on("GetReader",(j,rt)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=ot=>{this._lastProgress={loaded:ot.loaded,total:ot.total}},rt.onPull=()=>{this._fullReader.read().then(function({value:ot,done:st}){if(st){rt.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(ot),"GetReader - expected an ArrayBuffer."),rt.enqueue(new Uint8Array(ot),1,[ot])}).catch(ot=>{rt.error(ot)})},rt.onCancel=ot=>{this._fullReader.cancel(ot),rt.ready.catch(st=>{if(!this.destroyed)throw st})}}),b.on("ReaderHeadersReady",j=>{const rt=(0,_util.createPromiseCapability)(),ot=this._fullReader;return ot.headersReady.then(()=>{var st;(!ot.isStreamingSupported||!ot.isRangeSupported)&&(this._lastProgress&&((st=et.onProgress)==null||st.call(et,this._lastProgress)),ot.onProgress=$=>{var it;(it=et.onProgress)==null||it.call(et,{loaded:$.loaded,total:$.total})}),rt.resolve({isStreamingSupported:ot.isStreamingSupported,isRangeSupported:ot.isRangeSupported,contentLength:ot.contentLength})},rt.reject),rt.promise}),b.on("GetRangeReader",(j,rt)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const ot=this._networkStream.getRangeReader(j.begin,j.end);if(!ot){rt.close();return}rt.onPull=()=>{ot.read().then(function({value:st,done:$}){if($){rt.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(st),"GetRangeReader - expected an ArrayBuffer."),rt.enqueue(new Uint8Array(st),1,[st])}).catch(st=>{rt.error(st)})},rt.onCancel=st=>{ot.cancel(st),rt.ready.catch($=>{if(!this.destroyed)throw $})}}),b.on("GetDoc",({pdfInfo:j})=>{this._numPages=j.numPages,this._htmlForXfa=j.htmlForXfa,delete j.htmlForXfa,et._capability.resolve(new PDFDocumentProxy(j,this))}),b.on("DocException",function(j){let rt;switch(j.name){case"PasswordException":rt=new _util.PasswordException(j.message,j.code);break;case"InvalidPDFException":rt=new _util.InvalidPDFException(j.message);break;case"MissingPDFException":rt=new _util.MissingPDFException(j.message);break;case"UnexpectedResponseException":rt=new _util.UnexpectedResponseException(j.message,j.status);break;case"UnknownErrorException":rt=new _util.UnknownErrorException(j.message,j.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}et._capability.reject(rt)}),b.on("PasswordRequest",j=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),et.onPassword){const rt=ot=>{ot instanceof Error?this._passwordCapability.reject(ot):this._passwordCapability.resolve({password:ot})};try{et.onPassword(rt,j.code)}catch(ot){this._passwordCapability.reject(ot)}}else this._passwordCapability.reject(new _util.PasswordException(j.message,j.code));return this._passwordCapability.promise}),b.on("DataLoaded",j=>{var rt;(rt=et.onProgress)==null||rt.call(et,{loaded:j.length,total:j.length}),this.downloadInfoCapability.resolve(j)}),b.on("StartRenderPage",j=>{if(this.destroyed)return;At(this,c).get(j.pageIndex)._startRenderPage(j.transparency,j.cacheKey)}),b.on("commonobj",([j,rt,ot])=>{var st;if(!this.destroyed&&!this.commonObjs.has(j))switch(rt){case"Font":const $=this._params;if("error"in ot){const pt=ot.error;(0,_util.warn)(`Error during font loading: ${pt}`),this.commonObjs.resolve(j,pt);break}let it=null;$.pdfBug&&((st=globalThis.FontInspector)!=null&&st.enabled)&&(it={registerFont(pt,mt){globalThis.FontInspector.fontAdded(pt,mt)}});const ut=new _font_loader.FontFaceObject(ot,{isEvalSupported:$.isEvalSupported,disableFontFace:$.disableFontFace,ignoreErrors:$.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:it});this.fontLoader.bind(ut).catch(pt=>b.sendWithPromise("FontFallback",{id:j})).finally(()=>{!$.fontExtraProperties&&ut.data&&(ut.data=null),this.commonObjs.resolve(j,ut)});break;case"FontPath":case"Image":this.commonObjs.resolve(j,ot);break;default:throw new Error(`Got unknown common object type ${rt}`)}}),b.on("obj",([j,rt,ot,st])=>{var it;if(this.destroyed)return;const $=At(this,c).get(rt);if(!$.objs.has(j))switch(ot){case"Image":$.objs.resolve(j,st);const ut=8e6;if(st){let pt;if(st.bitmap){const{bitmap:mt,width:ht,height:_t}=st;pt=ht*_t*4,$._bitmaps.add(mt)}else pt=((it=st.data)==null?void 0:it.length)||0;pt>ut&&($.cleanupAfterRender=!0)}break;case"Pattern":$.objs.resolve(j,st);break;default:throw new Error(`Got unknown object type ${ot}`)}}),b.on("DocProgress",j=>{var rt;this.destroyed||(rt=et.onProgress)==null||rt.call(et,{loaded:j.loaded,total:j.total})}),b.on("DocStats",j=>{this.destroyed||rn(this,a,Object.freeze({streamTypes:Object.freeze(j.streamTypes),fontTypes:Object.freeze(j.fontTypes)}))}),b.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),b.on("FetchBuiltInCMap",j=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(j):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),b.on("FetchStandardFontData",j=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(j):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:b}){var et,j;this.destroyed||(j=(et=this.loadingTask).onUnsupportedFeature)==null||j.call(et,b)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(b){if(!Number.isInteger(b)||b<=0||b>this._numPages)return Promise.reject(new Error("Invalid page request."));const et=b-1,j=At(this,d).get(et);if(j)return j;const rt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:et}).then(ot=>{if(this.destroyed)throw new Error("Transport destroyed");const st=new PDFPageProxy(et,ot,this,this._params.ownerDocument,this._params.pdfBug);return At(this,c).set(et,st),st});return At(this,d).set(et,rt),rt}getPageIndex(b){return typeof b!="object"||b===null||!Number.isInteger(b.num)||b.num<0||!Number.isInteger(b.gen)||b.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:b.num,gen:b.gen})}getAnnotations(b,et){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:b,intent:et})}saveDocument(){var b;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:((b=this._fullReader)==null?void 0:b.filename)??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(b){return typeof b!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:b})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(b){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:b})}getStructTree(b){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:b})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(b=>new _optional_content_config.OptionalContentConfig(b))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return At(this,h)||rn(this,h,this.messageHandler.sendWithPromise("GetMetadata",null).then(b=>{var et,j;return{info:b[0],metadata:b[1]?new _metadata.Metadata(b[1]):null,contentDispositionFilename:((et=this._fullReader)==null?void 0:et.filename)??null,contentLength:((j=this._fullReader)==null?void 0:j.contentLength)??null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(b=!1){if(await this.messageHandler.sendWithPromise("Cleanup",null),!this.destroyed){for(const et of At(this,c).values())if(!et.cleanup())throw new Error(`startCleanup: Page ${et.pageNumber} is currently rendering.`);this.commonObjs.clear(),b||this.fontLoader.clear(),rn(this,h,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){const b=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:b.disableAutoFetch,enableXfa:b.enableXfa})}}a=new WeakMap,c=new WeakMap,d=new WeakMap,h=new WeakMap;class PDFObjects{constructor(){qt(this,_);qt(this,g,Object.create(null))}get(b,et=null){if(et){const rt=Qt(this,_,Xn).call(this,b);return rt.capability.promise.then(()=>et(rt.data)),null}const j=At(this,g)[b];if(!(j!=null&&j.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${b}.`);return j.data}has(b){const et=At(this,g)[b];return(et==null?void 0:et.capability.settled)||!1}resolve(b,et=null){const j=Qt(this,_,Xn).call(this,b);j.data=et,j.capability.resolve()}clear(){rn(this,g,Object.create(null))}}g=new WeakMap,_=new WeakSet,Xn=function(b){const et=At(this,g)[b];return et||(At(this,g)[b]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(b){qt(this,at,null);rn(this,at,b),this.onContinue=null}get promise(){return At(this,at).capability.promise}cancel(){At(this,at).cancel()}get separateAnnots(){const{separateAnnots:b}=At(this,at).operatorList;if(!b)return!1;const{annotationCanvasMap:et}=At(this,at);return b.form||b.canvas&&(et==null?void 0:et.size)>0}}at=new WeakMap,exports.RenderTask=RenderTask;const lt=class{constructor({callback:b,params:et,objs:j,commonObjs:rt,annotationCanvasMap:ot,operatorList:st,pageIndex:$,canvasFactory:it,useRequestAnimationFrame:ut=!1,pdfBug:pt=!1,pageColors:mt=null}){this.callback=b,this.params=et,this.objs=j,this.commonObjs=rt,this.annotationCanvasMap=ot,this.operatorListIdx=null,this.operatorList=st,this._pageIndex=$,this.canvasFactory=it,this._pdfBug=pt,this.pageColors=mt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=ut===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=et.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:b=!1,optionalContentConfig:et}){var it;if(this.cancelled)return;if(this._canvas){if(At(lt,nt).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");At(lt,nt).add(this._canvas)}this._pdfBug&&((it=globalThis.StepperManager)!=null&&it.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:j,viewport:rt,transform:ot,imageLayer:st,background:$}=this.params;this.gfx=new _canvas.CanvasGraphics(j,this.commonObjs,this.objs,this.canvasFactory,st,et,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:ot,viewport:rt,transparency:b,background:$}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(b=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&At(lt,nt).delete(this._canvas),this.callback(b||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&At(lt,nt).delete(this._canvas),this.callback())))}};let InternalRenderTask=lt;nt=new WeakMap,qt(InternalRenderTask,nt,new WeakSet);const version="2.16.105";exports.version=version;const build="172ccdbe5";exports.build=build},(e,i,s)=>{var g,dr,_e;Object.defineProperty(i,"__esModule",{value:!0}),i.PrintAnnotationStorage=i.AnnotationStorage=void 0;var o=s(1),a=s(6),c=s(10);class d{constructor(){qt(this,g);this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(nt,lt){const tt=this._storage.get(nt);return tt===void 0?lt:Object.assign(lt,tt)}getRawValue(nt){return this._storage.get(nt)}remove(nt){if(this._storage.delete(nt),this._storage.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const lt of this._storage.values())if(lt instanceof a.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(nt,lt){const tt=this._storage.get(nt);let b=!1;if(tt!==void 0)for(const[et,j]of Object.entries(lt))tt[et]!==j&&(b=!0,tt[et]=j);else b=!0,this._storage.set(nt,lt);b&&Qt(this,g,dr).call(this),lt instanceof a.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(lt.constructor._type)}has(nt){return this._storage.has(nt)}getAll(){return this._storage.size>0?(0,o.objectFromMap)(this._storage):null}get size(){return this._storage.size}resetModified(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new h(this)}get serializable(){if(this._storage.size===0)return null;const nt=new Map;for(const[lt,tt]of this._storage){const b=tt instanceof a.AnnotationEditor?tt.serialize():tt;b&&nt.set(lt,b)}return nt}static getHash(nt){if(!nt)return"";const lt=new c.MurmurHash3_64;for(const[tt,b]of nt)lt.update(`${tt}:${JSON.stringify(b)}`);return lt.hexdigest()}}g=new WeakSet,dr=function(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())},i.AnnotationStorage=d;class h extends d{constructor(lt){super();qt(this,_e,null);rn(this,_e,structuredClone(lt.serializable))}get print(){(0,o.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return At(this,_e)}}_e=new WeakMap,i.PrintAnnotationStorage=h},(e,i,s)=>{var d,h,g,_,_e,at;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditor=void 0;var o=s(7),a=s(1);const nt=class{constructor(tt){qt(this,d,this.focusin.bind(this));qt(this,h,this.focusout.bind(this));qt(this,g,!1);qt(this,_,!1);qt(this,_e,!1);qt(this,at,nt._zIndex++);this.constructor===nt&&(0,a.unreachable)("Cannot initialize AnnotationEditor."),this.parent=tt.parent,this.id=tt.id,this.width=this.height=null,this.pageIndex=tt.parent.pageIndex,this.name=tt.name,this.div=null;const[b,et]=this.parent.viewportBaseDimensions;this.x=tt.x/b,this.y=tt.y/et,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,a.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=At(this,at)}focusin(tt){At(this,g)?rn(this,g,!1):this.parent.setSelected(this)}focusout(tt){if(!this.isAttachedToDOM)return;const b=tt.relatedTarget;b!=null&&b.closest(`#${this.id}`)||(tt.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(tt){const b=this.parent.div.getBoundingClientRect();this.startX=tt.clientX-b.x,this.startY=tt.clientY-b.y,tt.dataTransfer.setData("text/plain",this.id),tt.dataTransfer.effectAllowed="move"}setAt(tt,b,et,j){const[rt,ot]=this.parent.viewportBaseDimensions;[et,j]=this.screenToPageTranslation(et,j),this.x=(tt+et)/rt,this.y=(b+j)/ot,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(tt,b){const[et,j]=this.parent.viewportBaseDimensions;[tt,b]=this.screenToPageTranslation(tt,b),this.x+=tt/et,this.y+=b/j,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(tt,b){const{rotation:et}=this.parent.viewport;switch(et){case 90:return[b,-tt];case 180:return[-tt,-b];case 270:return[-b,tt];default:return[tt,b]}}setDims(tt,b){const[et,j]=this.parent.viewportBaseDimensions;this.div.style.width=`${100*tt/et}%`,this.div.style.height=`${100*b/j}%`}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",At(this,d)),this.div.addEventListener("focusout",At(this,h));const[tt,b]=this.getInitialTranslation();return this.translate(tt,b),(0,o.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(tt){const b=o.KeyboardManager.platform.isMac;if(tt.button!==0||tt.ctrlKey&&b){tt.preventDefault();return}tt.ctrlKey&&!b||tt.shiftKey||tt.metaKey&&b?this.parent.toggleSelected(this):this.parent.setSelected(this),rn(this,g,!0)}getRect(tt,b){const[et,j]=this.parent.viewportBaseDimensions,[rt,ot]=this.parent.pageDimensions,st=rt*tt/et,$=ot*b/j,it=this.x*rt,ut=this.y*ot,pt=this.width*rt,mt=this.height*ot;switch(this.rotation){case 0:return[it+st,ot-ut-$-mt,it+st+pt,ot-ut-$];case 90:return[it+$,ot-ut+st,it+$+mt,ot-ut+st+pt];case 180:return[it-st-pt,ot-ut+$,it-st,ot-ut+$+mt];case 270:return[it-$-mt,ot-ut-st-pt,it-$,ot-ut-st];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(tt,b){const[et,j,rt,ot]=tt,st=rt-et,$=ot-j;switch(this.rotation){case 0:return[et,b-ot,st,$];case 90:return[et,b-j,$,st];case 180:return[rt,b-j,st,$];case 270:return[rt,b-ot,$,st];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){rn(this,_e,!0)}disableEditMode(){rn(this,_e,!1)}isInEditMode(){return At(this,_e)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var tt;(tt=this.div)==null||tt.addEventListener("focusin",At(this,d))}serialize(){(0,a.unreachable)("An editor must be serializable")}static deserialize(tt,b){const et=new this.prototype.constructor({parent:b,id:b.getNextId()});et.rotation=tt.rotation;const[j,rt]=b.pageDimensions,[ot,st,$,it]=et.getRectInCurrentCoords(tt.rect,rt);return et.x=ot/j,et.y=st/rt,et.width=$/j,et.height=it/rt,et}remove(){this.div.removeEventListener("focusin",At(this,d)),this.div.removeEventListener("focusout",At(this,h)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var tt;(tt=this.div)==null||tt.classList.add("selectedEditor")}unselect(){var tt;(tt=this.div)==null||tt.classList.remove("selectedEditor")}updateParams(tt,b){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return At(this,_)}set isEditing(tt){rn(this,_,tt),tt?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};let c=nt;d=new WeakMap,h=new WeakMap,g=new WeakMap,_=new WeakMap,_e=new WeakMap,at=new WeakMap,_n(c,"_colorManager",new o.ColorManager),_n(c,"_zIndex",1),i.AnnotationEditor=c},(e,i,s)=>{var lt,tt,b,et,j,rt,hr,$,ut,pt,mt,ht,_t,Vt,Wt,Nt,Lt,kt,Mt,Et,jt,$t,Kt,Ct,ft,dt,fr,bt,Kn,wt,Cn,It,jn,gt,pr,vt,gr,Rt,Yn,Zt,Vn,Xt,Un;Object.defineProperty(i,"__esModule",{value:!0}),i.KeyboardManager=i.CommandManager=i.ColorManager=i.AnnotationEditorUIManager=void 0,i.bindEvents=c,i.opacityToHex=d;var o=s(1),a=s(8);function c(en,Pt,Jt){for(const on of Jt)Pt.addEventListener(on,en[on].bind(en))}function d(en){return Math.round(Math.min(255,Math.max(1,255*en))).toString(16).padStart(2,"0")}class h{constructor(){qt(this,lt,0)}getId(){return`${o.AnnotationEditorPrefix}${qn(this,lt)._++}`}}lt=new WeakMap;class g{constructor(Pt=128){qt(this,tt,[]);qt(this,b,!1);qt(this,et,void 0);qt(this,j,-1);rn(this,et,Pt)}add({cmd:Pt,undo:Jt,mustExec:on,type:ln=NaN,overwriteIfSameType:un=!1,keepUndo:hn=!1}){if(on&&Pt(),At(this,b))return;const vn={cmd:Pt,undo:Jt,type:ln};if(At(this,j)===-1){At(this,tt).length>0&&(At(this,tt).length=0),rn(this,j,0),At(this,tt).push(vn);return}if(un&&At(this,tt)[At(this,j)].type===ln){hn&&(vn.undo=At(this,tt)[At(this,j)].undo),At(this,tt)[At(this,j)]=vn;return}const yn=At(this,j)+1;yn===At(this,et)?At(this,tt).splice(0,1):(rn(this,j,yn),yn<At(this,tt).length&&At(this,tt).splice(yn)),At(this,tt).push(vn)}undo(){At(this,j)!==-1&&(rn(this,b,!0),At(this,tt)[At(this,j)].undo(),rn(this,b,!1),rn(this,j,At(this,j)-1))}redo(){At(this,j)<At(this,tt).length-1&&(rn(this,j,At(this,j)+1),rn(this,b,!0),At(this,tt)[At(this,j)].cmd(),rn(this,b,!1))}hasSomethingToUndo(){return At(this,j)!==-1}hasSomethingToRedo(){return At(this,j)<At(this,tt).length-1}destroy(){rn(this,tt,null)}}tt=new WeakMap,b=new WeakMap,et=new WeakMap,j=new WeakMap,i.CommandManager=g;const st=class{constructor(Pt){qt(this,rt);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const Jt=st.platform.isMac;for(const[on,ln]of Pt)for(const un of on){const hn=un.startsWith("mac+");Jt&&hn?(this.callbacks.set(un.slice(4),ln),this.allKeys.add(un.split("+").at(-1))):!Jt&&!hn&&(this.callbacks.set(un,ln),this.allKeys.add(un.split("+").at(-1)))}}static get platform(){const Pt=typeof navigator<"u"?navigator.platform:"";return(0,o.shadow)(this,"platform",{isWin:Pt.includes("Win"),isMac:Pt.includes("Mac")})}exec(Pt,Jt){if(!this.allKeys.has(Jt.key))return;const on=this.callbacks.get(Qt(this,rt,hr).call(this,Jt));on&&(on.bind(Pt)(),Jt.stopPropagation(),Jt.preventDefault())}};let _=st;rt=new WeakSet,hr=function(Pt){Pt.altKey&&this.buffer.push("alt"),Pt.ctrlKey&&this.buffer.push("ctrl"),Pt.metaKey&&this.buffer.push("meta"),Pt.shiftKey&&this.buffer.push("shift"),this.buffer.push(Pt.key);const Jt=this.buffer.join("+");return this.buffer.length=0,Jt},i.KeyboardManager=_;class _e{constructor(){qt(this,$,null)}copy(Pt){Pt&&(Array.isArray(Pt)?rn(this,$,Pt.map(Jt=>Jt.serialize())):rn(this,$,[Pt.serialize()]),rn(this,$,At(this,$).filter(Jt=>!!Jt)),At(this,$).length===0&&rn(this,$,null))}paste(){return At(this,$)}isEmpty(){return At(this,$)===null}destroy(){rn(this,$,null)}}$=new WeakMap;const it=class{get _colors(){const Pt=new Map([["CanvasText",null],["Canvas",null]]);return(0,a.getColorValues)(Pt),(0,o.shadow)(this,"_colors",Pt)}convert(Pt){const Jt=(0,a.getRGB)(Pt);if(!window.matchMedia("(forced-colors: active)").matches)return Jt;for(const[on,ln]of this._colors)if(ln.every((un,hn)=>un===Jt[hn]))return it._colorsMapping.get(on);return Jt}getHexCode(Pt){const Jt=this._colors.get(Pt);return Jt?o.Util.makeHexColor(...Jt):Pt}};let at=it;_n(at,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]])),i.ColorManager=at;const Yt=class{constructor(Pt,Jt){qt(this,dt);qt(this,bt);qt(this,wt);qt(this,It);qt(this,gt);qt(this,vt);qt(this,Rt);qt(this,Zt);qt(this,Xt);qt(this,ut,null);qt(this,pt,new Map);qt(this,mt,new Map);qt(this,ht,new _e);qt(this,_t,new g);qt(this,Vt,0);qt(this,Wt,null);qt(this,Nt,null);qt(this,Lt,new h);qt(this,kt,!1);qt(this,Mt,o.AnnotationEditorType.NONE);qt(this,Et,new Set);qt(this,jt,this.keydown.bind(this));qt(this,$t,this.onEditingAction.bind(this));qt(this,Kt,this.onPageChanging.bind(this));qt(this,Ct,{isEditing:!1,isEmpty:!0,hasEmptyClipboard:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});qt(this,ft,null);rn(this,ft,Pt),rn(this,Nt,Jt),At(this,Nt)._on("editingaction",At(this,$t)),At(this,Nt)._on("pagechanging",At(this,Kt))}destroy(){Qt(this,bt,Kn).call(this),At(this,Nt)._off("editingaction",At(this,$t)),At(this,Nt)._off("pagechanging",At(this,Kt));for(const Pt of At(this,mt).values())Pt.destroy();At(this,mt).clear(),At(this,pt).clear(),rn(this,ut,null),At(this,Et).clear(),At(this,ht).destroy(),At(this,_t).destroy()}onPageChanging({pageNumber:Pt}){rn(this,Vt,Pt-1)}focusMainContainer(){At(this,ft).focus()}keydown(Pt){var Jt;(Jt=this.getActive())!=null&&Jt.shouldGetKeyboardEvents()||Yt._keyboardManager.exec(this,Pt)}onEditingAction(Pt){["undo","redo","cut","copy","paste","delete","selectAll"].includes(Pt.name)&&this[Pt.name]()}setEditingState(Pt){Pt?(Qt(this,dt,fr).call(this),Qt(this,wt,Cn).call(this,{isEditing:At(this,Mt)!==o.AnnotationEditorType.NONE,isEmpty:Qt(this,Zt,Vn).call(this),hasSomethingToUndo:At(this,_t).hasSomethingToUndo(),hasSomethingToRedo:At(this,_t).hasSomethingToRedo(),hasSelectedEditor:!1,hasEmptyClipboard:At(this,ht).isEmpty()})):(Qt(this,bt,Kn).call(this),Qt(this,wt,Cn).call(this,{isEditing:!1}))}registerEditorTypes(Pt){rn(this,Wt,Pt);for(const Jt of At(this,Wt))Qt(this,It,jn).call(this,Jt.defaultPropertiesToUpdate)}getId(){return At(this,Lt).getId()}addLayer(Pt){At(this,mt).set(Pt.pageIndex,Pt),At(this,kt)?Pt.enable():Pt.disable()}removeLayer(Pt){At(this,mt).delete(Pt.pageIndex)}updateMode(Pt){if(rn(this,Mt,Pt),Pt===o.AnnotationEditorType.NONE)this.setEditingState(!1),Qt(this,vt,gr).call(this);else{this.setEditingState(!0),Qt(this,gt,pr).call(this);for(const Jt of At(this,mt).values())Jt.updateMode(Pt)}}updateToolbar(Pt){Pt!==At(this,Mt)&&At(this,Nt).dispatch("switchannotationeditormode",{source:this,mode:Pt})}updateParams(Pt,Jt){for(const on of At(this,Et))on.updateParams(Pt,Jt);for(const on of At(this,Wt))on.updateDefaultParams(Pt,Jt)}getEditors(Pt){const Jt=[];for(const on of At(this,pt).values())on.pageIndex===Pt&&Jt.push(on);return Jt}getEditor(Pt){return At(this,pt).get(Pt)}addEditor(Pt){At(this,pt).set(Pt.id,Pt)}removeEditor(Pt){At(this,pt).delete(Pt.id),this.unselect(Pt)}setActiveEditor(Pt){At(this,ut)!==Pt&&(rn(this,ut,Pt),Pt&&Qt(this,It,jn).call(this,Pt.propertiesToUpdate))}toggleSelected(Pt){if(At(this,Et).has(Pt)){At(this,Et).delete(Pt),Pt.unselect(),Qt(this,wt,Cn).call(this,{hasSelectedEditor:this.hasSelection});return}At(this,Et).add(Pt),Pt.select(),Qt(this,It,jn).call(this,Pt.propertiesToUpdate),Qt(this,wt,Cn).call(this,{hasSelectedEditor:!0})}setSelected(Pt){for(const Jt of At(this,Et))Jt!==Pt&&Jt.unselect();At(this,Et).clear(),At(this,Et).add(Pt),Pt.select(),Qt(this,It,jn).call(this,Pt.propertiesToUpdate),Qt(this,wt,Cn).call(this,{hasSelectedEditor:!0})}isSelected(Pt){return At(this,Et).has(Pt)}unselect(Pt){Pt.unselect(),At(this,Et).delete(Pt),Qt(this,wt,Cn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return At(this,Et).size!==0}undo(){At(this,_t).undo(),Qt(this,wt,Cn).call(this,{hasSomethingToUndo:At(this,_t).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Qt(this,Zt,Vn).call(this)})}redo(){At(this,_t).redo(),Qt(this,wt,Cn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:At(this,_t).hasSomethingToRedo(),isEmpty:Qt(this,Zt,Vn).call(this)})}addCommands(Pt){At(this,_t).add(Pt),Qt(this,wt,Cn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Qt(this,Zt,Vn).call(this)})}delete(){if(At(this,ut)&&At(this,ut).commitOrRemove(),!this.hasSelection)return;const Pt=[...At(this,Et)],Jt=()=>{for(const ln of Pt)ln.remove()},on=()=>{for(const ln of Pt)Qt(this,Rt,Yn).call(this,ln)};this.addCommands({cmd:Jt,undo:on,mustExec:!0})}copy(){if(At(this,ut)&&At(this,ut).commitOrRemove(),this.hasSelection){const Pt=[];for(const Jt of At(this,Et))Jt.isEmpty()||Pt.push(Jt);if(Pt.length===0)return;At(this,ht).copy(Pt),Qt(this,wt,Cn).call(this,{hasEmptyClipboard:!1})}}cut(){this.copy(),this.delete()}paste(){if(At(this,ht).isEmpty())return;this.unselectAll();const Pt=At(this,mt).get(At(this,Vt)),Jt=At(this,ht).paste().map(un=>Pt.deserialize(un)),on=()=>{for(const un of Jt)Qt(this,Rt,Yn).call(this,un);Qt(this,Xt,Un).call(this,Jt)},ln=()=>{for(const un of Jt)un.remove()};this.addCommands({cmd:on,undo:ln,mustExec:!0})}selectAll(){for(const Pt of At(this,Et))Pt.commit();Qt(this,Xt,Un).call(this,At(this,pt).values())}unselectAll(){if(At(this,ut)){At(this,ut).commitOrRemove();return}if(Qt(this,Xt,Un).size!==0){for(const Pt of At(this,Et))Pt.unselect();At(this,Et).clear(),Qt(this,wt,Cn).call(this,{hasSelectedEditor:!1})}}isActive(Pt){return At(this,ut)===Pt}getActive(){return At(this,ut)}getMode(){return At(this,Mt)}};let nt=Yt;ut=new WeakMap,pt=new WeakMap,mt=new WeakMap,ht=new WeakMap,_t=new WeakMap,Vt=new WeakMap,Wt=new WeakMap,Nt=new WeakMap,Lt=new WeakMap,kt=new WeakMap,Mt=new WeakMap,Et=new WeakMap,jt=new WeakMap,$t=new WeakMap,Kt=new WeakMap,Ct=new WeakMap,ft=new WeakMap,dt=new WeakSet,fr=function(){At(this,ft).addEventListener("keydown",At(this,jt))},bt=new WeakSet,Kn=function(){At(this,ft).removeEventListener("keydown",At(this,jt))},wt=new WeakSet,Cn=function(Pt){Object.entries(Pt).some(([on,ln])=>At(this,Ct)[on]!==ln)&&At(this,Nt).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(At(this,Ct),Pt)})},It=new WeakSet,jn=function(Pt){At(this,Nt).dispatch("annotationeditorparamschanged",{source:this,details:Pt})},gt=new WeakSet,pr=function(){if(!At(this,kt)){rn(this,kt,!0);for(const Pt of At(this,mt).values())Pt.enable()}},vt=new WeakSet,gr=function(){if(this.unselectAll(),At(this,kt)){rn(this,kt,!1);for(const Pt of At(this,mt).values())Pt.disable()}},Rt=new WeakSet,Yn=function(Pt){const Jt=At(this,mt).get(Pt.pageIndex);Jt?Jt.addOrRebuild(Pt):this.addEditor(Pt)},Zt=new WeakSet,Vn=function(){if(At(this,pt).size===0)return!0;if(At(this,pt).size===1)for(const Pt of At(this,pt).values())return Pt.isEmpty();return!1},Xt=new WeakSet,Un=function(Pt){At(this,Et).clear();for(const Jt of Pt)Jt.isEmpty()||(At(this,Et).add(Jt),Jt.select());Qt(this,wt,Cn).call(this,{hasSelectedEditor:!0})},_n(nt,"_keyboardManager",new _([[["ctrl+a","mac+meta+a"],Yt.prototype.selectAll],[["ctrl+c","mac+meta+c"],Yt.prototype.copy],[["ctrl+v","mac+meta+v"],Yt.prototype.paste],[["ctrl+x","mac+meta+x"],Yt.prototype.cut],[["ctrl+z","mac+meta+z"],Yt.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],Yt.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],Yt.prototype.delete],[["Escape","mac+Escape"],Yt.prototype.unselectAll]])),i.AnnotationEditorUIManager=nt},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.StatTimer=i.RenderingCancelledException=i.PixelsPerInch=i.PageViewport=i.PDFDateString=i.DOMStandardFontDataFactory=i.DOMSVGFactory=i.DOMCanvasFactory=i.DOMCMapReaderFactory=i.AnnotationPrefix=void 0,i.deprecated=it,i.getColorValues=_t,i.getCurrentTransform=Vt,i.getCurrentTransformInverse=Wt,i.getFilenameFromUrl=j,i.getPdfFilenameFromUrl=rt,i.getRGB=ht,i.getXfaPageViewport=mt,i.isDataScheme=b,i.isPdfFile=et,i.isValidFetchUrl=st,i.loadScript=$;var o=s(9),a=s(1);const c="http://www.w3.org/2000/svg",d="pdfjs_internal_id_";i.AnnotationPrefix=d;const Nt=class{};let h=Nt;_n(h,"CSS",96),_n(h,"PDF",72),_n(h,"PDF_TO_CSS_UNITS",Nt.CSS/Nt.PDF),i.PixelsPerInch=h;class g extends o.BaseCanvasFactory{constructor({ownerDocument:kt=globalThis.document}={}){super(),this._document=kt}_createCanvas(kt,Mt){const Et=this._document.createElement("canvas");return Et.width=kt,Et.height=Mt,Et}}i.DOMCanvasFactory=g;async function _(Lt,kt=!1){if(st(Lt,document.baseURI)){const Mt=await fetch(Lt);if(!Mt.ok)throw new Error(Mt.statusText);return kt?new Uint8Array(await Mt.arrayBuffer()):(0,a.stringToBytes)(await Mt.text())}return new Promise((Mt,Et)=>{const jt=new XMLHttpRequest;jt.open("GET",Lt,!0),kt&&(jt.responseType="arraybuffer"),jt.onreadystatechange=()=>{if(jt.readyState===XMLHttpRequest.DONE){if(jt.status===200||jt.status===0){let $t;if(kt&&jt.response?$t=new Uint8Array(jt.response):!kt&&jt.responseText&&($t=(0,a.stringToBytes)(jt.responseText)),$t){Mt($t);return}}Et(new Error(jt.statusText))}},jt.send(null)})}class _e extends o.BaseCMapReaderFactory{_fetchData(kt,Mt){return _(kt,this.isCompressed).then(Et=>({cMapData:Et,compressionType:Mt}))}}i.DOMCMapReaderFactory=_e;class at extends o.BaseStandardFontDataFactory{_fetchData(kt){return _(kt,!0)}}i.DOMStandardFontDataFactory=at;class nt extends o.BaseSVGFactory{_createSVG(kt){return document.createElementNS(c,kt)}}i.DOMSVGFactory=nt;class lt{constructor({viewBox:kt,scale:Mt,rotation:Et,offsetX:jt=0,offsetY:$t=0,dontFlip:Kt=!1}){this.viewBox=kt,this.scale=Mt,this.rotation=Et,this.offsetX=jt,this.offsetY=$t;const Ct=(kt[2]+kt[0])/2,ft=(kt[3]+kt[1])/2;let dt,St,bt,Tt;switch(Et%=360,Et<0&&(Et+=360),Et){case 180:dt=-1,St=0,bt=0,Tt=1;break;case 90:dt=0,St=1,bt=1,Tt=0;break;case 270:dt=0,St=-1,bt=-1,Tt=0;break;case 0:dt=1,St=0,bt=0,Tt=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Kt&&(bt=-bt,Tt=-Tt);let wt,Ot,It,ct;dt===0?(wt=Math.abs(ft-kt[1])*Mt+jt,Ot=Math.abs(Ct-kt[0])*Mt+$t,It=Math.abs(kt[3]-kt[1])*Mt,ct=Math.abs(kt[2]-kt[0])*Mt):(wt=Math.abs(Ct-kt[0])*Mt+jt,Ot=Math.abs(ft-kt[1])*Mt+$t,It=Math.abs(kt[2]-kt[0])*Mt,ct=Math.abs(kt[3]-kt[1])*Mt),this.transform=[dt*Mt,St*Mt,bt*Mt,Tt*Mt,wt-dt*Mt*Ct-bt*Mt*ft,Ot-St*Mt*Ct-Tt*Mt*ft],this.width=It,this.height=ct}clone({scale:kt=this.scale,rotation:Mt=this.rotation,offsetX:Et=this.offsetX,offsetY:jt=this.offsetY,dontFlip:$t=!1}={}){return new lt({viewBox:this.viewBox.slice(),scale:kt,rotation:Mt,offsetX:Et,offsetY:jt,dontFlip:$t})}convertToViewportPoint(kt,Mt){return a.Util.applyTransform([kt,Mt],this.transform)}convertToViewportRectangle(kt){const Mt=a.Util.applyTransform([kt[0],kt[1]],this.transform),Et=a.Util.applyTransform([kt[2],kt[3]],this.transform);return[Mt[0],Mt[1],Et[0],Et[1]]}convertToPdfPoint(kt,Mt){return a.Util.applyInverseTransform([kt,Mt],this.transform)}}i.PageViewport=lt;class tt extends a.BaseException{constructor(kt,Mt){super(kt,"RenderingCancelledException"),this.type=Mt}}i.RenderingCancelledException=tt;function b(Lt){const kt=Lt.length;let Mt=0;for(;Mt<kt&&Lt[Mt].trim()==="";)Mt++;return Lt.substring(Mt,Mt+5).toLowerCase()==="data:"}function et(Lt){return typeof Lt=="string"&&/\.pdf$/i.test(Lt)}function j(Lt){const kt=Lt.indexOf("#"),Mt=Lt.indexOf("?"),Et=Math.min(kt>0?kt:Lt.length,Mt>0?Mt:Lt.length);return Lt.substring(Lt.lastIndexOf("/",Et)+1,Et)}function rt(Lt,kt="document.pdf"){if(typeof Lt!="string")return kt;if(b(Lt))return(0,a.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),kt;const Mt=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Et=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,jt=Mt.exec(Lt);let $t=Et.exec(jt[1])||Et.exec(jt[2])||Et.exec(jt[3]);if($t&&($t=$t[0],$t.includes("%")))try{$t=Et.exec(decodeURIComponent($t))[0]}catch{}return $t||kt}class ot{constructor(){this.started=Object.create(null),this.times=[]}time(kt){kt in this.started&&(0,a.warn)(`Timer is already running for ${kt}`),this.started[kt]=Date.now()}timeEnd(kt){kt in this.started||(0,a.warn)(`Timer has not been started for ${kt}`),this.times.push({name:kt,start:this.started[kt],end:Date.now()}),delete this.started[kt]}toString(){const kt=[];let Mt=0;for(const Et of this.times){const jt=Et.name;jt.length>Mt&&(Mt=jt.length)}for(const Et of this.times){const jt=Et.end-Et.start;kt.push(`${Et.name.padEnd(Mt)} ${jt}ms
`)}return kt.join("")}}i.StatTimer=ot;function st(Lt,kt){try{const{protocol:Mt}=kt?new URL(Lt,kt):new URL(Lt);return Mt==="http:"||Mt==="https:"}catch{return!1}}function $(Lt,kt=!1){return new Promise((Mt,Et)=>{const jt=document.createElement("script");jt.src=Lt,jt.onload=function($t){kt&&jt.remove(),Mt($t)},jt.onerror=function(){Et(new Error(`Cannot load script at: ${jt.src}`))},(document.head||document.documentElement).append(jt)})}function it(Lt){console.log("Deprecated API usage: "+Lt)}let ut;class pt{static toDateObject(kt){if(!kt||typeof kt!="string")return null;ut||(ut=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Mt=ut.exec(kt);if(!Mt)return null;const Et=parseInt(Mt[1],10);let jt=parseInt(Mt[2],10);jt=jt>=1&&jt<=12?jt-1:0;let $t=parseInt(Mt[3],10);$t=$t>=1&&$t<=31?$t:1;let Kt=parseInt(Mt[4],10);Kt=Kt>=0&&Kt<=23?Kt:0;let Ct=parseInt(Mt[5],10);Ct=Ct>=0&&Ct<=59?Ct:0;let ft=parseInt(Mt[6],10);ft=ft>=0&&ft<=59?ft:0;const dt=Mt[7]||"Z";let St=parseInt(Mt[8],10);St=St>=0&&St<=23?St:0;let bt=parseInt(Mt[9],10)||0;return bt=bt>=0&&bt<=59?bt:0,dt==="-"?(Kt+=St,Ct+=bt):dt==="+"&&(Kt-=St,Ct-=bt),new Date(Date.UTC(Et,jt,$t,Kt,Ct,ft))}}i.PDFDateString=pt;function mt(Lt,{scale:kt=1,rotation:Mt=0}){const{width:Et,height:jt}=Lt.attributes.style,$t=[0,0,parseInt(Et),parseInt(jt)];return new lt({viewBox:$t,scale:kt,rotation:Mt})}function ht(Lt){if(Lt.startsWith("#")){const kt=parseInt(Lt.slice(1),16);return[(kt&16711680)>>16,(kt&65280)>>8,kt&255]}return Lt.startsWith("rgb(")?Lt.slice(4,-1).split(",").map(kt=>parseInt(kt)):Lt.startsWith("rgba(")?Lt.slice(5,-1).split(",").map(kt=>parseInt(kt)).slice(0,3):((0,a.warn)(`Not a valid color format: "${Lt}"`),[0,0,0])}function _t(Lt){const kt=document.createElement("span");kt.style.visibility="hidden",document.body.append(kt);for(const Mt of Lt.keys()){kt.style.color=Mt;const Et=window.getComputedStyle(kt).color;Lt.set(Mt,ht(Et))}kt.remove()}function Vt(Lt){const{a:kt,b:Mt,c:Et,d:jt,e:$t,f:Kt}=Lt.getTransform();return[kt,Mt,Et,jt,$t,Kt]}function Wt(Lt){const{a:kt,b:Mt,c:Et,d:jt,e:$t,f:Kt}=Lt.getTransform().invertSelf();return[kt,Mt,Et,jt,$t,Kt]}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BaseStandardFontDataFactory=i.BaseSVGFactory=i.BaseCanvasFactory=i.BaseCMapReaderFactory=void 0;var o=s(1);class a{constructor(){this.constructor===a&&(0,o.unreachable)("Cannot initialize BaseCanvasFactory.")}create(_,_e){if(_<=0||_e<=0)throw new Error("Invalid canvas size");const at=this._createCanvas(_,_e);return{canvas:at,context:at.getContext("2d")}}reset(_,_e,at){if(!_.canvas)throw new Error("Canvas is not specified");if(_e<=0||at<=0)throw new Error("Invalid canvas size");_.canvas.width=_e,_.canvas.height=at}destroy(_){if(!_.canvas)throw new Error("Canvas is not specified");_.canvas.width=0,_.canvas.height=0,_.canvas=null,_.context=null}_createCanvas(_,_e){(0,o.unreachable)("Abstract method `_createCanvas` called.")}}i.BaseCanvasFactory=a;class c{constructor({baseUrl:_=null,isCompressed:_e=!1}){this.constructor===c&&(0,o.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=_,this.isCompressed=_e}async fetch({name:_}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!_)throw new Error("CMap name must be specified.");const _e=this.baseUrl+_+(this.isCompressed?".bcmap":""),at=this.isCompressed?o.CMapCompressionType.BINARY:o.CMapCompressionType.NONE;return this._fetchData(_e,at).catch(nt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${_e}`)})}_fetchData(_,_e){(0,o.unreachable)("Abstract method `_fetchData` called.")}}i.BaseCMapReaderFactory=c;class d{constructor({baseUrl:_=null}){this.constructor===d&&(0,o.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=_}async fetch({filename:_}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!_)throw new Error("Font filename must be specified.");const _e=`${this.baseUrl}${_}`;return this._fetchData(_e).catch(at=>{throw new Error(`Unable to load font data at: ${_e}`)})}_fetchData(_){(0,o.unreachable)("Abstract method `_fetchData` called.")}}i.BaseStandardFontDataFactory=d;class h{constructor(){this.constructor===h&&(0,o.unreachable)("Cannot initialize BaseSVGFactory.")}create(_,_e,at=!1){if(_<=0||_e<=0)throw new Error("Invalid SVG dimensions");const nt=this._createSVG("svg:svg");return nt.setAttribute("version","1.1"),at||(nt.setAttribute("width",`${_}px`),nt.setAttribute("height",`${_e}px`)),nt.setAttribute("preserveAspectRatio","none"),nt.setAttribute("viewBox",`0 0 ${_} ${_e}`),nt}createElement(_){if(typeof _!="string")throw new Error("Invalid SVG element type");return this._createSVG(_)}_createSVG(_){(0,o.unreachable)("Abstract method `_createSVG` called.")}}i.BaseSVGFactory=h},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.MurmurHash3_64=void 0;var o=s(1);const a=3285377520,c=4294901760,d=65535;class h{constructor(_){this.h1=_?_&4294967295:a,this.h2=_?_&4294967295:a}update(_){let _e,at;if(typeof _=="string"){_e=new Uint8Array(_.length*2),at=0;for(let ut=0,pt=_.length;ut<pt;ut++){const mt=_.charCodeAt(ut);mt<=255?_e[at++]=mt:(_e[at++]=mt>>>8,_e[at++]=mt&255)}}else if((0,o.isArrayBuffer)(_))_e=_.slice(),at=_e.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const nt=at>>2,lt=at-nt*4,tt=new Uint32Array(_e.buffer,0,nt);let b=0,et=0,j=this.h1,rt=this.h2;const ot=3432918353,st=461845907,$=ot&d,it=st&d;for(let ut=0;ut<nt;ut++)ut&1?(b=tt[ut],b=b*ot&c|b*$&d,b=b<<15|b>>>17,b=b*st&c|b*it&d,j^=b,j=j<<13|j>>>19,j=j*5+3864292196):(et=tt[ut],et=et*ot&c|et*$&d,et=et<<15|et>>>17,et=et*st&c|et*it&d,rt^=et,rt=rt<<13|rt>>>19,rt=rt*5+3864292196);switch(b=0,lt){case 3:b^=_e[nt*4+2]<<16;case 2:b^=_e[nt*4+1]<<8;case 1:b^=_e[nt*4],b=b*ot&c|b*$&d,b=b<<15|b>>>17,b=b*st&c|b*it&d,nt&1?j^=b:rt^=b}this.h1=j,this.h2=rt}hexdigest(){let _=this.h1,_e=this.h2;_^=_e>>>1,_=_*3981806797&c|_*36045&d,_e=_e*4283543511&c|((_e<<16|_>>>16)*2950163797&c)>>>16,_^=_e>>>1,_=_*444984403&c|_*60499&d,_e=_e*3301882366&c|((_e<<16|_>>>16)*3120437893&c)>>>16,_^=_e>>>1;const at=(_>>>0).toString(16),nt=(_e>>>0).toString(16);return at.padStart(8,"0")+nt.padStart(8,"0")}}i.MurmurHash3_64=h},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.FontLoader=i.FontFaceObject=void 0;var o=s(1);class a{constructor({docId:g,onUnsupportedFeature:_,ownerDocument:_e=globalThis.document,styleElement:at=null}){this.constructor===a&&(0,o.unreachable)("Cannot initialize BaseFontLoader."),this.docId=g,this._onUnsupportedFeature=_,this._document=_e,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(g){this.nativeFontFaces.push(g),this._document.fonts.add(g)}insertRule(g){let _=this.styleElement;_||(_=this.styleElement=this._document.createElement("style"),_.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].append(_));const _e=_.sheet;_e.insertRule(g,_e.cssRules.length)}clear(){for(const g of this.nativeFontFaces)this._document.fonts.delete(g);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(g){if(g.attached||g.missingFile)return;if(g.attached=!0,this.isFontLoadingAPISupported){const _e=g.createNativeFontFace();if(_e){this.addNativeFontFace(_e);try{await _e.loaded}catch(at){throw this._onUnsupportedFeature({featureId:o.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,o.warn)(`Failed to load font '${_e.family}': '${at}'.`),g.disableFontFace=!0,at}}return}const _=g.createFontFaceRule();if(_){if(this.insertRule(_),this.isSyncFontLoadingSupported)return;await new Promise(_e=>{const at=this._queueLoadingCallback(_e);this._prepareFontLoadEvent([_],[g],at)})}}_queueLoadingCallback(g){(0,o.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var _;const g=!!((_=this._document)!=null&&_.fonts);return(0,o.shadow)(this,"isFontLoadingAPISupported",g)}get isSyncFontLoadingSupported(){(0,o.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,o.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(g,_,_e){(0,o.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let c;i.FontLoader=c,i.FontLoader=c=class extends a{constructor(g){super(g),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let g=!1;if(typeof navigator>"u")g=!0;else{const _=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(_==null?void 0:_[1])>=14&&(g=!0)}return(0,o.shadow)(this,"isSyncFontLoadingSupported",g)}_queueLoadingCallback(g){function _(){for((0,o.assert)(!at.done,"completeRequest() cannot be called twice."),at.done=!0;_e.requests.length>0&&_e.requests[0].done;){const nt=_e.requests.shift();setTimeout(nt.callback,0)}}const _e=this.loadingContext,at={id:`pdfjs-font-loading-${_e.nextRequestId++}`,done:!1,complete:_,callback:g};return _e.requests.push(at),at}get _loadTestFont(){const g=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,o.shadow)(this,"_loadTestFont",g())}_prepareFontLoadEvent(g,_,_e){function at(Wt,Nt){return Wt.charCodeAt(Nt)<<24|Wt.charCodeAt(Nt+1)<<16|Wt.charCodeAt(Nt+2)<<8|Wt.charCodeAt(Nt+3)&255}function nt(Wt,Nt,Lt,kt){const Mt=Wt.substring(0,Nt),Et=Wt.substring(Nt+Lt);return Mt+kt+Et}let lt,tt;const b=this._document.createElement("canvas");b.width=1,b.height=1;const et=b.getContext("2d");let j=0;function rt(Wt,Nt){if(j++,j>30){(0,o.warn)("Load test font never loaded."),Nt();return}if(et.font="30px "+Wt,et.fillText(".",0,20),et.getImageData(0,0,1,1).data[3]>0){Nt();return}setTimeout(rt.bind(null,Wt,Nt))}const ot=`lt${Date.now()}${this.loadTestFontId++}`;let st=this._loadTestFont;st=nt(st,976,ot.length,ot);const it=16,ut=1482184792;let pt=at(st,it);for(lt=0,tt=ot.length-3;lt<tt;lt+=4)pt=pt-ut+at(ot,lt)|0;lt<ot.length&&(pt=pt-ut+at(ot+"XXX",lt)|0),st=nt(st,it,4,(0,o.string32)(pt));const mt=`url(data:font/opentype;base64,${btoa(st)});`,ht=`@font-face {font-family:"${ot}";src:${mt}}`;this.insertRule(ht);const _t=[];for(const Wt of _)_t.push(Wt.loadedName);_t.push(ot);const Vt=this._document.createElement("div");Vt.style.visibility="hidden",Vt.style.width=Vt.style.height="10px",Vt.style.position="absolute",Vt.style.top=Vt.style.left="0px";for(const Wt of _t){const Nt=this._document.createElement("span");Nt.textContent="Hi",Nt.style.fontFamily=Wt,Vt.append(Nt)}this._document.body.append(Vt),rt(ot,()=>{Vt.remove(),_e.complete()})}};class d{constructor(g,{isEvalSupported:_=!0,disableFontFace:_e=!1,ignoreErrors:at=!1,onUnsupportedFeature:nt,fontRegistry:lt=null}){this.compiledGlyphs=Object.create(null);for(const tt in g)this[tt]=g[tt];this.isEvalSupported=_!==!1,this.disableFontFace=_e===!0,this.ignoreErrors=at===!0,this._onUnsupportedFeature=nt,this.fontRegistry=lt}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let g;if(!this.cssFontInfo)g=new FontFace(this.loadedName,this.data,{});else{const _={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(_.style=`oblique ${this.cssFontInfo.italicAngle}deg`),g=new FontFace(this.cssFontInfo.fontFamily,this.data,_)}return this.fontRegistry&&this.fontRegistry.registerFont(this),g}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const g=(0,o.bytesToString)(this.data),_=`url(data:${this.mimetype};base64,${btoa(g)});`;let _e;if(!this.cssFontInfo)_e=`@font-face {font-family:"${this.loadedName}";src:${_}}`;else{let at=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(at+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),_e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${at}src:${_}}`}return this.fontRegistry&&this.fontRegistry.registerFont(this,_),_e}getPathGenerator(g,_){if(this.compiledGlyphs[_]!==void 0)return this.compiledGlyphs[_];let _e;try{_e=g.get(this.loadedName+"_path_"+_)}catch(at){if(!this.ignoreErrors)throw at;return this._onUnsupportedFeature({featureId:o.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,o.warn)(`getPathGenerator - ignoring character: "${at}".`),this.compiledGlyphs[_]=function(nt,lt){}}if(this.isEvalSupported&&o.FeatureTest.isEvalSupported){const at=[];for(const nt of _e){const lt=nt.args!==void 0?nt.args.join(","):"";at.push("c.",nt.cmd,"(",lt,`);
`)}return this.compiledGlyphs[_]=new Function("c","size",at.join(""))}return this.compiledGlyphs[_]=function(at,nt){for(const lt of _e)lt.cmd==="scale"&&(lt.args=[nt,-nt]),at[lt.cmd].apply(at,lt.args)}}}i.FontFaceObject=d},(e,i,s)=>{var jt,Qn;Object.defineProperty(i,"__esModule",{value:!0}),i.CanvasGraphics=void 0;var o=s(8),a=s(1),c=s(13),d=s(14),h=s(3);const g=16,_=100,_e=4096,at=15,nt=10,lt=h.isNodeJS&&typeof Path2D>"u"?-1:1e3,tt=16;function b(Ct,ft){if(Ct._removeMirroring)throw new Error("Context is already forwarding operations.");Ct.__originalSave=Ct.save,Ct.__originalRestore=Ct.restore,Ct.__originalRotate=Ct.rotate,Ct.__originalScale=Ct.scale,Ct.__originalTranslate=Ct.translate,Ct.__originalTransform=Ct.transform,Ct.__originalSetTransform=Ct.setTransform,Ct.__originalResetTransform=Ct.resetTransform,Ct.__originalClip=Ct.clip,Ct.__originalMoveTo=Ct.moveTo,Ct.__originalLineTo=Ct.lineTo,Ct.__originalBezierCurveTo=Ct.bezierCurveTo,Ct.__originalRect=Ct.rect,Ct.__originalClosePath=Ct.closePath,Ct.__originalBeginPath=Ct.beginPath,Ct._removeMirroring=()=>{Ct.save=Ct.__originalSave,Ct.restore=Ct.__originalRestore,Ct.rotate=Ct.__originalRotate,Ct.scale=Ct.__originalScale,Ct.translate=Ct.__originalTranslate,Ct.transform=Ct.__originalTransform,Ct.setTransform=Ct.__originalSetTransform,Ct.resetTransform=Ct.__originalResetTransform,Ct.clip=Ct.__originalClip,Ct.moveTo=Ct.__originalMoveTo,Ct.lineTo=Ct.__originalLineTo,Ct.bezierCurveTo=Ct.__originalBezierCurveTo,Ct.rect=Ct.__originalRect,Ct.closePath=Ct.__originalClosePath,Ct.beginPath=Ct.__originalBeginPath,delete Ct._removeMirroring},Ct.save=function(){ft.save(),this.__originalSave()},Ct.restore=function(){ft.restore(),this.__originalRestore()},Ct.translate=function(St,bt){ft.translate(St,bt),this.__originalTranslate(St,bt)},Ct.scale=function(St,bt){ft.scale(St,bt),this.__originalScale(St,bt)},Ct.transform=function(St,bt,Tt,wt,Ot,It){ft.transform(St,bt,Tt,wt,Ot,It),this.__originalTransform(St,bt,Tt,wt,Ot,It)},Ct.setTransform=function(St,bt,Tt,wt,Ot,It){ft.setTransform(St,bt,Tt,wt,Ot,It),this.__originalSetTransform(St,bt,Tt,wt,Ot,It)},Ct.resetTransform=function(){ft.resetTransform(),this.__originalResetTransform()},Ct.rotate=function(St){ft.rotate(St),this.__originalRotate(St)},Ct.clip=function(St){ft.clip(St),this.__originalClip(St)},Ct.moveTo=function(dt,St){ft.moveTo(dt,St),this.__originalMoveTo(dt,St)},Ct.lineTo=function(dt,St){ft.lineTo(dt,St),this.__originalLineTo(dt,St)},Ct.bezierCurveTo=function(dt,St,bt,Tt,wt,Ot){ft.bezierCurveTo(dt,St,bt,Tt,wt,Ot),this.__originalBezierCurveTo(dt,St,bt,Tt,wt,Ot)},Ct.rect=function(dt,St,bt,Tt){ft.rect(dt,St,bt,Tt),this.__originalRect(dt,St,bt,Tt)},Ct.closePath=function(){ft.closePath(),this.__originalClosePath()},Ct.beginPath=function(){ft.beginPath(),this.__originalBeginPath()}}class et{constructor(ft){this.canvasFactory=ft,this.cache=Object.create(null)}getCanvas(ft,dt,St){let bt;return this.cache[ft]!==void 0?(bt=this.cache[ft],this.canvasFactory.reset(bt,dt,St)):(bt=this.canvasFactory.create(dt,St),this.cache[ft]=bt),bt}delete(ft){delete this.cache[ft]}clear(){for(const ft in this.cache){const dt=this.cache[ft];this.canvasFactory.destroy(dt),delete this.cache[ft]}}}function j(Ct,ft,dt,St,bt,Tt,wt,Ot,It,ct){const[gt,yt,vt,xt,Rt,Ht]=(0,o.getCurrentTransform)(Ct);if(yt===0&&vt===0){const Xt=wt*gt+Rt,zt=Math.round(Xt),Yt=Ot*xt+Ht,en=Math.round(Yt),Pt=(wt+It)*gt+Rt,Jt=Math.abs(Math.round(Pt)-zt)||1,on=(Ot+ct)*xt+Ht,ln=Math.abs(Math.round(on)-en)||1;return Ct.setTransform(Math.sign(gt),0,0,Math.sign(xt),zt,en),Ct.drawImage(ft,dt,St,bt,Tt,0,0,Jt,ln),Ct.setTransform(gt,yt,vt,xt,Rt,Ht),[Jt,ln]}if(gt===0&&xt===0){const Xt=Ot*vt+Rt,zt=Math.round(Xt),Yt=wt*yt+Ht,en=Math.round(Yt),Pt=(Ot+ct)*vt+Rt,Jt=Math.abs(Math.round(Pt)-zt)||1,on=(wt+It)*yt+Ht,ln=Math.abs(Math.round(on)-en)||1;return Ct.setTransform(0,Math.sign(yt),Math.sign(vt),0,zt,en),Ct.drawImage(ft,dt,St,bt,Tt,0,0,ln,Jt),Ct.setTransform(gt,yt,vt,xt,Rt,Ht),[ln,Jt]}Ct.drawImage(ft,dt,St,bt,Tt,wt,Ot,It,ct);const Zt=Math.hypot(gt,yt),Ut=Math.hypot(vt,xt);return[Zt*It,Ut*ct]}function rt(Ct){const{width:ft,height:dt}=Ct;if(ft>lt||dt>lt)return null;const St=1e3,bt=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Tt=ft+1;let wt=new Uint8Array(Tt*(dt+1)),Ot,It,ct;const gt=ft+7&-8;let yt=new Uint8Array(gt*dt),vt=0;for(const Ut of Ct.data){let Xt=128;for(;Xt>0;)yt[vt++]=Ut&Xt?0:255,Xt>>=1}let xt=0;for(vt=0,yt[vt]!==0&&(wt[0]=1,++xt),It=1;It<ft;It++)yt[vt]!==yt[vt+1]&&(wt[It]=yt[vt]?2:1,++xt),vt++;for(yt[vt]!==0&&(wt[It]=2,++xt),Ot=1;Ot<dt;Ot++){vt=Ot*gt,ct=Ot*Tt,yt[vt-gt]!==yt[vt]&&(wt[ct]=yt[vt]?1:8,++xt);let Ut=(yt[vt]?4:0)+(yt[vt-gt]?8:0);for(It=1;It<ft;It++)Ut=(Ut>>2)+(yt[vt+1]?4:0)+(yt[vt-gt+1]?8:0),bt[Ut]&&(wt[ct+It]=bt[Ut],++xt),vt++;if(yt[vt-gt]!==yt[vt]&&(wt[ct+It]=yt[vt]?2:4,++xt),xt>St)return null}for(vt=gt*(dt-1),ct=Ot*Tt,yt[vt]!==0&&(wt[ct]=8,++xt),It=1;It<ft;It++)yt[vt]!==yt[vt+1]&&(wt[ct+It]=yt[vt]?4:8,++xt),vt++;if(yt[vt]!==0&&(wt[ct+It]=4,++xt),xt>St)return null;const Rt=new Int32Array([0,Tt,-1,0,-Tt,0,0,0,1]),Ht=new Path2D;for(Ot=0;xt&&Ot<=dt;Ot++){let Ut=Ot*Tt;const Xt=Ut+ft;for(;Ut<Xt&&!wt[Ut];)Ut++;if(Ut===Xt)continue;Ht.moveTo(Ut%Tt,Ot);const zt=Ut;let Yt=wt[Ut];do{const en=Rt[Yt];do Ut+=en;while(!wt[Ut]);const Pt=wt[Ut];Pt!==5&&Pt!==10?(Yt=Pt,wt[Ut]=0):(Yt=Pt&51*Yt>>4,wt[Ut]&=Yt>>2|Yt<<2),Ht.lineTo(Ut%Tt,Ut/Tt|0),wt[Ut]||--xt}while(zt!==Ut);--Ot}return yt=null,wt=null,function(Ut){Ut.save(),Ut.scale(1/ft,-1/dt),Ut.translate(0,-dt),Ut.fill(Ht),Ut.beginPath(),Ut.restore()}}class ot{constructor(ft,dt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=a.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=a.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,ft,dt])}clone(){const ft=Object.create(this);return ft.clipBox=this.clipBox.slice(),ft}setCurrentPoint(ft,dt){this.x=ft,this.y=dt}updatePathMinMax(ft,dt,St){[dt,St]=a.Util.applyTransform([dt,St],ft),this.minX=Math.min(this.minX,dt),this.minY=Math.min(this.minY,St),this.maxX=Math.max(this.maxX,dt),this.maxY=Math.max(this.maxY,St)}updateRectMinMax(ft,dt){const St=a.Util.applyTransform(dt,ft),bt=a.Util.applyTransform(dt.slice(2),ft);this.minX=Math.min(this.minX,St[0],bt[0]),this.minY=Math.min(this.minY,St[1],bt[1]),this.maxX=Math.max(this.maxX,St[0],bt[0]),this.maxY=Math.max(this.maxY,St[1],bt[1])}updateScalingPathMinMax(ft,dt){a.Util.scaleMinMax(ft,dt),this.minX=Math.min(this.minX,dt[0]),this.maxX=Math.max(this.maxX,dt[1]),this.minY=Math.min(this.minY,dt[2]),this.maxY=Math.max(this.maxY,dt[3])}updateCurvePathMinMax(ft,dt,St,bt,Tt,wt,Ot,It,ct,gt){const yt=a.Util.bezierBoundingBox(dt,St,bt,Tt,wt,Ot,It,ct);if(gt){gt[0]=Math.min(gt[0],yt[0],yt[2]),gt[1]=Math.max(gt[1],yt[0],yt[2]),gt[2]=Math.min(gt[2],yt[1],yt[3]),gt[3]=Math.max(gt[3],yt[1],yt[3]);return}this.updateRectMinMax(ft,yt)}getPathBoundingBox(ft=c.PathType.FILL,dt=null){const St=[this.minX,this.minY,this.maxX,this.maxY];if(ft===c.PathType.STROKE){dt||(0,a.unreachable)("Stroke bounding box must include transform.");const bt=a.Util.singularValueDecompose2dScale(dt),Tt=bt[0]*this.lineWidth/2,wt=bt[1]*this.lineWidth/2;St[0]-=Tt,St[1]-=wt,St[2]+=Tt,St[3]+=wt}return St}updateClipFromPath(){const ft=a.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(ft||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(ft){this.clipBox=ft,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(ft=c.PathType.FILL,dt=null){return a.Util.intersect(this.clipBox,this.getPathBoundingBox(ft,dt))}}function st(Ct,ft,dt=null){if(typeof ImageData<"u"&&ft instanceof ImageData){Ct.putImageData(ft,0,0);return}const St=ft.height,bt=ft.width,Tt=St%tt,wt=(St-Tt)/tt,Ot=Tt===0?wt:wt+1,It=Ct.createImageData(bt,tt);let ct=0,gt;const yt=ft.data,vt=It.data;let xt,Rt,Ht,Zt,Ut,Xt,zt,Yt;if(dt)switch(dt.length){case 1:Ut=dt[0],Xt=dt[0],zt=dt[0],Yt=dt[0];break;case 4:Ut=dt[0],Xt=dt[1],zt=dt[2],Yt=dt[3];break}if(ft.kind===a.ImageKind.GRAYSCALE_1BPP){const en=yt.byteLength,Pt=new Uint32Array(vt.buffer,0,vt.byteLength>>2),Jt=Pt.length,on=bt+7>>3;let ln=4294967295,un=a.FeatureTest.isLittleEndian?4278190080:255;for(Yt&&Yt[0]===255&&Yt[255]===0&&([ln,un]=[un,ln]),xt=0;xt<Ot;xt++){for(Ht=xt<wt?tt:Tt,gt=0,Rt=0;Rt<Ht;Rt++){const hn=en-ct;let vn=0;const yn=hn>on?bt:hn*8-7,Mn=yn&-8;let fn=0,Sn=0;for(;vn<Mn;vn+=8)Sn=yt[ct++],Pt[gt++]=Sn&128?ln:un,Pt[gt++]=Sn&64?ln:un,Pt[gt++]=Sn&32?ln:un,Pt[gt++]=Sn&16?ln:un,Pt[gt++]=Sn&8?ln:un,Pt[gt++]=Sn&4?ln:un,Pt[gt++]=Sn&2?ln:un,Pt[gt++]=Sn&1?ln:un;for(;vn<yn;vn++)fn===0&&(Sn=yt[ct++],fn=128),Pt[gt++]=Sn&fn?ln:un,fn>>=1}for(;gt<Jt;)Pt[gt++]=0;Ct.putImageData(It,0,xt*tt)}}else if(ft.kind===a.ImageKind.RGBA_32BPP){const en=!!(Ut||Xt||zt);for(Rt=0,Zt=bt*tt*4,xt=0;xt<wt;xt++){if(vt.set(yt.subarray(ct,ct+Zt)),ct+=Zt,en)for(let Pt=0;Pt<Zt;Pt+=4)Ut&&(vt[Pt+0]=Ut[vt[Pt+0]]),Xt&&(vt[Pt+1]=Xt[vt[Pt+1]]),zt&&(vt[Pt+2]=zt[vt[Pt+2]]);Ct.putImageData(It,0,Rt),Rt+=tt}if(xt<Ot){if(Zt=bt*Tt*4,vt.set(yt.subarray(ct,ct+Zt)),en)for(let Pt=0;Pt<Zt;Pt+=4)Ut&&(vt[Pt+0]=Ut[vt[Pt+0]]),Xt&&(vt[Pt+1]=Xt[vt[Pt+1]]),zt&&(vt[Pt+2]=zt[vt[Pt+2]]);Ct.putImageData(It,0,Rt)}}else if(ft.kind===a.ImageKind.RGB_24BPP){const en=!!(Ut||Xt||zt);for(Ht=tt,Zt=bt*Ht,xt=0;xt<Ot;xt++){for(xt>=wt&&(Ht=Tt,Zt=bt*Ht),gt=0,Rt=Zt;Rt--;)vt[gt++]=yt[ct++],vt[gt++]=yt[ct++],vt[gt++]=yt[ct++],vt[gt++]=255;if(en)for(let Pt=0;Pt<gt;Pt+=4)Ut&&(vt[Pt+0]=Ut[vt[Pt+0]]),Xt&&(vt[Pt+1]=Xt[vt[Pt+1]]),zt&&(vt[Pt+2]=zt[vt[Pt+2]]);Ct.putImageData(It,0,xt*tt)}}else throw new Error(`bad image kind: ${ft.kind}`)}function $(Ct,ft){if(ft.bitmap){Ct.drawImage(ft.bitmap,0,0);return}const dt=ft.height,St=ft.width,bt=dt%tt,Tt=(dt-bt)/tt,wt=bt===0?Tt:Tt+1,Ot=Ct.createImageData(St,tt);let It=0;const ct=ft.data,gt=Ot.data;for(let yt=0;yt<wt;yt++){const vt=yt<Tt?tt:bt;({srcPos:It}=(0,d.applyMaskImageData)({src:ct,srcPos:It,dest:gt,width:St,height:vt})),Ct.putImageData(Ot,0,yt*tt)}}function it(Ct,ft){const dt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let St=0,bt=dt.length;St<bt;St++){const Tt=dt[St];Ct[Tt]!==void 0&&(ft[Tt]=Ct[Tt])}Ct.setLineDash!==void 0&&(ft.setLineDash(Ct.getLineDash()),ft.lineDashOffset=Ct.lineDashOffset)}function ut(Ct,ft){Ct.strokeStyle=Ct.fillStyle=ft||"#000000",Ct.fillRule="nonzero",Ct.globalAlpha=1,Ct.lineWidth=1,Ct.lineCap="butt",Ct.lineJoin="miter",Ct.miterLimit=10,Ct.globalCompositeOperation="source-over",Ct.font="10px sans-serif",Ct.setLineDash!==void 0&&(Ct.setLineDash([]),Ct.lineDashOffset=0)}function pt(Ct,ft,dt,St){const bt=Ct.length;for(let Tt=3;Tt<bt;Tt+=4){const wt=Ct[Tt];if(wt===0)Ct[Tt-3]=ft,Ct[Tt-2]=dt,Ct[Tt-1]=St;else if(wt<255){const Ot=255-wt;Ct[Tt-3]=Ct[Tt-3]*wt+ft*Ot>>8,Ct[Tt-2]=Ct[Tt-2]*wt+dt*Ot>>8,Ct[Tt-1]=Ct[Tt-1]*wt+St*Ot>>8}}}function mt(Ct,ft,dt){const St=Ct.length,bt=1/255;for(let Tt=3;Tt<St;Tt+=4){const wt=dt?dt[Ct[Tt]]:Ct[Tt];ft[Tt]=ft[Tt]*wt*bt|0}}function ht(Ct,ft,dt){const St=Ct.length;for(let bt=3;bt<St;bt+=4){const Tt=Ct[bt-3]*77+Ct[bt-2]*152+Ct[bt-1]*28;ft[bt]=dt?ft[bt]*dt[Tt>>8]>>8:ft[bt]*Tt>>16}}function _t(Ct,ft,dt,St,bt,Tt,wt,Ot,It,ct,gt){const yt=!!Tt,vt=yt?Tt[0]:0,xt=yt?Tt[1]:0,Rt=yt?Tt[2]:0;let Ht;bt==="Luminosity"?Ht=ht:Ht=mt;const Ut=Math.min(St,Math.ceil(1048576/dt));for(let Xt=0;Xt<St;Xt+=Ut){const zt=Math.min(Ut,St-Xt),Yt=Ct.getImageData(Ot-ct,Xt+(It-gt),dt,zt),en=ft.getImageData(Ot,Xt+It,dt,zt);yt&&pt(Yt.data,vt,xt,Rt),Ht(Yt.data,en.data,wt),ft.putImageData(en,Ot,Xt+It)}}function Vt(Ct,ft,dt,St){const bt=St[0],Tt=St[1],wt=St[2]-bt,Ot=St[3]-Tt;wt===0||Ot===0||(_t(ft.context,dt,wt,Ot,ft.subtype,ft.backdrop,ft.transferMap,bt,Tt,ft.offsetX,ft.offsetY),Ct.save(),Ct.globalAlpha=1,Ct.globalCompositeOperation="source-over",Ct.setTransform(1,0,0,1,0,0),Ct.drawImage(dt.canvas,0,0),Ct.restore())}function Wt(Ct,ft){const dt=a.Util.singularValueDecompose2dScale(Ct);dt[0]=Math.fround(dt[0]),dt[1]=Math.fround(dt[1]);const St=Math.fround((globalThis.devicePixelRatio||1)*o.PixelsPerInch.PDF_TO_CSS_UNITS);return ft!==void 0?ft:dt[0]<=St||dt[1]<=St}const Nt=["butt","round","square"],Lt=["miter","round","bevel"],kt={},Mt={},Kt=class{constructor(ft,dt,St,bt,Tt,wt,Ot,It){qt(this,jt);this.ctx=ft,this.current=new ot(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=dt,this.objs=St,this.canvasFactory=bt,this.imageLayer=Tt,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=wt,this.cachedCanvases=new et(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Ot,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(It==null?void 0:It.background)||null,this.foregroundColor=(It==null?void 0:It.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(ft,dt=null){return typeof ft=="string"?ft.startsWith("g_")?this.commonObjs.get(ft):this.objs.get(ft):dt}beginDrawing({transform:ft,viewport:dt,transparency:St=!1,background:bt=null}){const Tt=this.ctx.canvas.width,wt=this.ctx.canvas.height,Ot=bt||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const It=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const ct=this.backgroundColor=this.ctx.fillStyle;let gt=!0,yt=Ot;if(this.ctx.fillStyle=Ot,yt=this.ctx.fillStyle,gt=typeof yt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(yt),It==="#000000"&&ct==="#ffffff"||It===ct||!gt)this.foregroundColor=this.backgroundColor=null;else{const[vt,xt,Rt]=(0,o.getRGB)(yt),Ht=Ut=>(Ut/=255,Ut<=.03928?Ut/12.92:((Ut+.055)/1.055)**2.4),Zt=Math.round(.2126*Ht(vt)+.7152*Ht(xt)+.0722*Ht(Rt));this.selectColor=(Ut,Xt,zt)=>{const Yt=.2126*Ht(Ut)+.7152*Ht(Xt)+.0722*Ht(zt);return Math.round(Yt)===Zt?ct:It}}}if(this.ctx.fillStyle=this.backgroundColor||Ot,this.ctx.fillRect(0,0,Tt,wt),this.ctx.restore(),St){const It=this.cachedCanvases.getCanvas("transparent",Tt,wt);this.compositeCtx=this.ctx,this.transparentCanvas=It.canvas,this.ctx=It.context,this.ctx.save(),this.ctx.transform(...(0,o.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),ut(this.ctx,this.foregroundColor),ft&&(this.ctx.transform(...ft),this.outputScaleX=ft[0],this.outputScaleY=ft[0]),this.ctx.transform(...dt.transform),this.viewportScale=dt.scale,this.baseTransform=(0,o.getCurrentTransform)(this.ctx),this.imageLayer&&((0,o.deprecated)("The `imageLayer` functionality will be removed in the future."),this.imageLayer.beginLayout())}executeOperatorList(ft,dt,St,bt){const Tt=ft.argsArray,wt=ft.fnArray;let Ot=dt||0;const It=Tt.length;if(It===Ot)return Ot;const ct=It-Ot>nt&&typeof St=="function",gt=ct?Date.now()+at:0;let yt=0;const vt=this.commonObjs,xt=this.objs;let Rt;for(;;){if(bt!==void 0&&Ot===bt.nextBreakPoint)return bt.breakIt(Ot,St),Ot;if(Rt=wt[Ot],Rt!==a.OPS.dependency)this[Rt].apply(this,Tt[Ot]);else for(const Ht of Tt[Ot]){const Zt=Ht.startsWith("g_")?vt:xt;if(!Zt.has(Ht))return Zt.get(Ht,St),Ot}if(Ot++,Ot===It)return Ot;if(ct&&++yt>nt){if(Date.now()>gt)return St(),Ot;yt=0}}}endDrawing(){Qt(this,jt,Qn).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const ft of this._cachedBitmapsMap.values()){for(const dt of ft.values())typeof HTMLCanvasElement<"u"&&dt instanceof HTMLCanvasElement&&(dt.width=dt.height=0);ft.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(ft,dt){const St=ft.width,bt=ft.height;let Tt=Math.max(Math.hypot(dt[0],dt[1]),1),wt=Math.max(Math.hypot(dt[2],dt[3]),1),Ot=St,It=bt,ct="prescale1",gt,yt;for(;Tt>2&&Ot>1||wt>2&&It>1;){let vt=Ot,xt=It;Tt>2&&Ot>1&&(vt=Math.ceil(Ot/2),Tt/=Ot/vt),wt>2&&It>1&&(xt=Math.ceil(It/2),wt/=It/xt),gt=this.cachedCanvases.getCanvas(ct,vt,xt),yt=gt.context,yt.clearRect(0,0,vt,xt),yt.drawImage(ft,0,0,Ot,It,0,0,vt,xt),ft=gt.canvas,Ot=vt,It=xt,ct=ct==="prescale1"?"prescale2":"prescale1"}return{img:ft,paintWidth:Ot,paintHeight:It}}_createMaskCanvas(ft){const dt=this.ctx,{width:St,height:bt}=ft,Tt=this.current.fillColor,wt=this.current.patternFill,Ot=(0,o.getCurrentTransform)(dt);let It,ct,gt,yt;if((ft.bitmap||ft.data)&&ft.count>1){const Jt=ft.bitmap||ft.data.buffer,on=Ot.slice(0,4);ct=JSON.stringify(wt?on:[on,Tt]),It=this._cachedBitmapsMap.get(Jt),It||(It=new Map,this._cachedBitmapsMap.set(Jt,It));const ln=It.get(ct);if(ln&&!wt){const un=Math.round(Math.min(Ot[0],Ot[2])+Ot[4]),hn=Math.round(Math.min(Ot[1],Ot[3])+Ot[5]);return{canvas:ln,offsetX:un,offsetY:hn}}gt=ln}gt||(yt=this.cachedCanvases.getCanvas("maskCanvas",St,bt),$(yt.context,ft));let vt=a.Util.transform(Ot,[1/St,0,0,-1/bt,0,0]);vt=a.Util.transform(vt,[1,0,0,1,0,-bt]);const xt=a.Util.applyTransform([0,0],vt),Rt=a.Util.applyTransform([St,bt],vt),Ht=a.Util.normalizeRect([xt[0],xt[1],Rt[0],Rt[1]]),Zt=Math.round(Ht[2]-Ht[0])||1,Ut=Math.round(Ht[3]-Ht[1])||1,Xt=this.cachedCanvases.getCanvas("fillCanvas",Zt,Ut),zt=Xt.context,Yt=Math.min(xt[0],Rt[0]),en=Math.min(xt[1],Rt[1]);zt.translate(-Yt,-en),zt.transform(...vt),gt||(gt=this._scaleImage(yt.canvas,(0,o.getCurrentTransformInverse)(zt)),gt=gt.img,It&&wt&&It.set(ct,gt)),zt.imageSmoothingEnabled=Wt((0,o.getCurrentTransform)(zt),ft.interpolate),j(zt,gt,0,0,gt.width,gt.height,0,0,St,bt),zt.globalCompositeOperation="source-in";const Pt=a.Util.transform((0,o.getCurrentTransformInverse)(zt),[1,0,0,1,-Yt,-en]);return zt.fillStyle=wt?Tt.getPattern(dt,this,Pt,c.PathType.FILL):Tt,zt.fillRect(0,0,St,bt),It&&!wt&&(this.cachedCanvases.delete("fillCanvas"),It.set(ct,Xt.canvas)),{canvas:Xt.canvas,offsetX:Math.round(Yt),offsetY:Math.round(en)}}setLineWidth(ft){ft!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=ft,this.ctx.lineWidth=ft}setLineCap(ft){this.ctx.lineCap=Nt[ft]}setLineJoin(ft){this.ctx.lineJoin=Lt[ft]}setMiterLimit(ft){this.ctx.miterLimit=ft}setDash(ft,dt){const St=this.ctx;St.setLineDash!==void 0&&(St.setLineDash(ft),St.lineDashOffset=dt)}setRenderingIntent(ft){}setFlatness(ft){}setGState(ft){for(let dt=0,St=ft.length;dt<St;dt++){const bt=ft[dt],Tt=bt[0],wt=bt[1];switch(Tt){case"LW":this.setLineWidth(wt);break;case"LC":this.setLineCap(wt);break;case"LJ":this.setLineJoin(wt);break;case"ML":this.setMiterLimit(wt);break;case"D":this.setDash(wt[0],wt[1]);break;case"RI":this.setRenderingIntent(wt);break;case"FL":this.setFlatness(wt);break;case"Font":this.setFont(wt[0],wt[1]);break;case"CA":this.current.strokeAlpha=bt[1];break;case"ca":this.current.fillAlpha=bt[1],this.ctx.globalAlpha=bt[1];break;case"BM":this.ctx.globalCompositeOperation=wt;break;case"SMask":this.current.activeSMask=wt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=wt}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const ft=this.inSMaskMode;this.current.activeSMask&&!ft?this.beginSMaskMode():!this.current.activeSMask&&ft&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const ft=this.ctx.canvas.width,dt=this.ctx.canvas.height,St="smaskGroupAt"+this.groupLevel,bt=this.cachedCanvases.getCanvas(St,ft,dt);this.suspendedCtx=this.ctx,this.ctx=bt.context;const Tt=this.ctx;Tt.setTransform(...(0,o.getCurrentTransform)(this.suspendedCtx)),it(this.suspendedCtx,Tt),b(Tt,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),it(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(ft){if(!this.current.activeSMask)return;ft?(ft[0]=Math.floor(ft[0]),ft[1]=Math.floor(ft[1]),ft[2]=Math.ceil(ft[2]),ft[3]=Math.ceil(ft[3])):ft=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const dt=this.current.activeSMask,St=this.suspendedCtx;Vt(St,dt,this.ctx,ft),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(it(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const ft=this.current;this.stateStack.push(ft),this.current=ft.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),it(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(ft,dt,St,bt,Tt,wt){this.ctx.transform(ft,dt,St,bt,Tt,wt),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(ft,dt,St){const bt=this.ctx,Tt=this.current;let wt=Tt.x,Ot=Tt.y,It,ct;const gt=(0,o.getCurrentTransform)(bt),yt=gt[0]===0&&gt[3]===0||gt[1]===0&&gt[2]===0,vt=yt?St.slice(0):null;for(let xt=0,Rt=0,Ht=ft.length;xt<Ht;xt++)switch(ft[xt]|0){case a.OPS.rectangle:wt=dt[Rt++],Ot=dt[Rt++];const Zt=dt[Rt++],Ut=dt[Rt++],Xt=wt+Zt,zt=Ot+Ut;bt.moveTo(wt,Ot),Zt===0||Ut===0?bt.lineTo(Xt,zt):(bt.lineTo(Xt,Ot),bt.lineTo(Xt,zt),bt.lineTo(wt,zt)),yt||Tt.updateRectMinMax(gt,[wt,Ot,Xt,zt]),bt.closePath();break;case a.OPS.moveTo:wt=dt[Rt++],Ot=dt[Rt++],bt.moveTo(wt,Ot),yt||Tt.updatePathMinMax(gt,wt,Ot);break;case a.OPS.lineTo:wt=dt[Rt++],Ot=dt[Rt++],bt.lineTo(wt,Ot),yt||Tt.updatePathMinMax(gt,wt,Ot);break;case a.OPS.curveTo:It=wt,ct=Ot,wt=dt[Rt+4],Ot=dt[Rt+5],bt.bezierCurveTo(dt[Rt],dt[Rt+1],dt[Rt+2],dt[Rt+3],wt,Ot),Tt.updateCurvePathMinMax(gt,It,ct,dt[Rt],dt[Rt+1],dt[Rt+2],dt[Rt+3],wt,Ot,vt),Rt+=6;break;case a.OPS.curveTo2:It=wt,ct=Ot,bt.bezierCurveTo(wt,Ot,dt[Rt],dt[Rt+1],dt[Rt+2],dt[Rt+3]),Tt.updateCurvePathMinMax(gt,It,ct,wt,Ot,dt[Rt],dt[Rt+1],dt[Rt+2],dt[Rt+3],vt),wt=dt[Rt+2],Ot=dt[Rt+3],Rt+=4;break;case a.OPS.curveTo3:It=wt,ct=Ot,wt=dt[Rt+2],Ot=dt[Rt+3],bt.bezierCurveTo(dt[Rt],dt[Rt+1],wt,Ot,wt,Ot),Tt.updateCurvePathMinMax(gt,It,ct,dt[Rt],dt[Rt+1],wt,Ot,wt,Ot,vt),Rt+=4;break;case a.OPS.closePath:bt.closePath();break}yt&&Tt.updateScalingPathMinMax(gt,vt),Tt.setCurrentPoint(wt,Ot)}closePath(){this.ctx.closePath()}stroke(ft){ft=typeof ft<"u"?ft:!0;const dt=this.ctx,St=this.current.strokeColor;dt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof St=="object"&&(St!=null&&St.getPattern)?(dt.save(),dt.strokeStyle=St.getPattern(dt,this,(0,o.getCurrentTransformInverse)(dt),c.PathType.STROKE),this.rescaleAndStroke(!1),dt.restore()):this.rescaleAndStroke(!0)),ft&&this.consumePath(this.current.getClippedPathBoundingBox()),dt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(ft){ft=typeof ft<"u"?ft:!0;const dt=this.ctx,St=this.current.fillColor,bt=this.current.patternFill;let Tt=!1;bt&&(dt.save(),dt.fillStyle=St.getPattern(dt,this,(0,o.getCurrentTransformInverse)(dt),c.PathType.FILL),Tt=!0);const wt=this.current.getClippedPathBoundingBox();this.contentVisible&&wt!==null&&(this.pendingEOFill?(dt.fill("evenodd"),this.pendingEOFill=!1):dt.fill()),Tt&&dt.restore(),ft&&this.consumePath(wt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=kt}eoClip(){this.pendingClip=Mt}beginText(){this.current.textMatrix=a.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const ft=this.pendingTextPaths,dt=this.ctx;if(ft===void 0){dt.beginPath();return}dt.save(),dt.beginPath();for(const St of ft)dt.setTransform(...St.transform),dt.translate(St.x,St.y),St.addToPath(dt,St.fontSize);dt.restore(),dt.clip(),dt.beginPath(),delete this.pendingTextPaths}setCharSpacing(ft){this.current.charSpacing=ft}setWordSpacing(ft){this.current.wordSpacing=ft}setHScale(ft){this.current.textHScale=ft/100}setLeading(ft){this.current.leading=-ft}setFont(ft,dt){const St=this.commonObjs.get(ft),bt=this.current;if(!St)throw new Error(`Can't find font for ${ft}`);if(bt.fontMatrix=St.fontMatrix||a.FONT_IDENTITY_MATRIX,(bt.fontMatrix[0]===0||bt.fontMatrix[3]===0)&&(0,a.warn)("Invalid font matrix for font "+ft),dt<0?(dt=-dt,bt.fontDirection=-1):bt.fontDirection=1,this.current.font=St,this.current.fontSize=dt,St.isType3Font)return;const Tt=St.loadedName||"sans-serif";let wt="normal";St.black?wt="900":St.bold&&(wt="bold");const Ot=St.italic?"italic":"normal",It=`"${Tt}", ${St.fallbackName}`;let ct=dt;dt<g?ct=g:dt>_&&(ct=_),this.current.fontSizeScale=dt/ct,this.ctx.font=`${Ot} ${wt} ${ct}px ${It}`}setTextRenderingMode(ft){this.current.textRenderingMode=ft}setTextRise(ft){this.current.textRise=ft}moveText(ft,dt){this.current.x=this.current.lineX+=ft,this.current.y=this.current.lineY+=dt}setLeadingMoveText(ft,dt){this.setLeading(-dt),this.moveText(ft,dt)}setTextMatrix(ft,dt,St,bt,Tt,wt){this.current.textMatrix=[ft,dt,St,bt,Tt,wt],this.current.textMatrixScale=Math.hypot(ft,dt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(ft,dt,St,bt){const Tt=this.ctx,wt=this.current,Ot=wt.font,It=wt.textRenderingMode,ct=wt.fontSize/wt.fontSizeScale,gt=It&a.TextRenderingMode.FILL_STROKE_MASK,yt=!!(It&a.TextRenderingMode.ADD_TO_PATH_FLAG),vt=wt.patternFill&&!Ot.missingFile;let xt;(Ot.disableFontFace||yt||vt)&&(xt=Ot.getPathGenerator(this.commonObjs,ft)),Ot.disableFontFace||vt?(Tt.save(),Tt.translate(dt,St),Tt.beginPath(),xt(Tt,ct),bt&&Tt.setTransform(...bt),(gt===a.TextRenderingMode.FILL||gt===a.TextRenderingMode.FILL_STROKE)&&Tt.fill(),(gt===a.TextRenderingMode.STROKE||gt===a.TextRenderingMode.FILL_STROKE)&&Tt.stroke(),Tt.restore()):((gt===a.TextRenderingMode.FILL||gt===a.TextRenderingMode.FILL_STROKE)&&Tt.fillText(ft,dt,St),(gt===a.TextRenderingMode.STROKE||gt===a.TextRenderingMode.FILL_STROKE)&&Tt.strokeText(ft,dt,St)),yt&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,o.getCurrentTransform)(Tt),x:dt,y:St,fontSize:ct,addToPath:xt})}get isFontSubpixelAAEnabled(){const{context:ft}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);ft.scale(1.5,1),ft.fillText("I",0,10);const dt=ft.getImageData(0,0,10,10).data;let St=!1;for(let bt=3;bt<dt.length;bt+=4)if(dt[bt]>0&&dt[bt]<255){St=!0;break}return(0,a.shadow)(this,"isFontSubpixelAAEnabled",St)}showText(ft){const dt=this.current,St=dt.font;if(St.isType3Font)return this.showType3Text(ft);const bt=dt.fontSize;if(bt===0)return;const Tt=this.ctx,wt=dt.fontSizeScale,Ot=dt.charSpacing,It=dt.wordSpacing,ct=dt.fontDirection,gt=dt.textHScale*ct,yt=ft.length,vt=St.vertical,xt=vt?1:-1,Rt=St.defaultVMetrics,Ht=bt*dt.fontMatrix[0],Zt=dt.textRenderingMode===a.TextRenderingMode.FILL&&!St.disableFontFace&&!dt.patternFill;Tt.save(),Tt.transform(...dt.textMatrix),Tt.translate(dt.x,dt.y+dt.textRise),ct>0?Tt.scale(gt,-1):Tt.scale(gt,1);let Ut;if(dt.patternFill){Tt.save();const Pt=dt.fillColor.getPattern(Tt,this,(0,o.getCurrentTransformInverse)(Tt),c.PathType.FILL);Ut=(0,o.getCurrentTransform)(Tt),Tt.restore(),Tt.fillStyle=Pt}let Xt=dt.lineWidth;const zt=dt.textMatrixScale;if(zt===0||Xt===0){const Pt=dt.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;(Pt===a.TextRenderingMode.STROKE||Pt===a.TextRenderingMode.FILL_STROKE)&&(Xt=this.getSinglePixelWidth())}else Xt/=zt;wt!==1&&(Tt.scale(wt,wt),Xt/=wt),Tt.lineWidth=Xt;let Yt=0,en;for(en=0;en<yt;++en){const Pt=ft[en];if(typeof Pt=="number"){Yt+=xt*Pt*bt/1e3;continue}let Jt=!1;const on=(Pt.isSpace?It:0)+Ot,ln=Pt.fontChar,un=Pt.accent;let hn,vn,yn=Pt.width;if(vt){const fn=Pt.vmetric||Rt,Sn=-(Pt.vmetric?fn[1]:yn*.5)*Ht,Bn=fn[2]*Ht;yn=fn?-fn[0]:yn,hn=Sn/wt,vn=(Yt+Bn)/wt}else hn=Yt/wt,vn=0;if(St.remeasure&&yn>0){const fn=Tt.measureText(ln).width*1e3/bt*wt;if(yn<fn&&this.isFontSubpixelAAEnabled){const Sn=yn/fn;Jt=!0,Tt.save(),Tt.scale(Sn,1),hn/=Sn}else yn!==fn&&(hn+=(yn-fn)/2e3*bt/wt)}if(this.contentVisible&&(Pt.isInFont||St.missingFile)){if(Zt&&!un)Tt.fillText(ln,hn,vn);else if(this.paintChar(ln,hn,vn,Ut),un){const fn=hn+bt*un.offset.x/wt,Sn=vn-bt*un.offset.y/wt;this.paintChar(un.fontChar,fn,Sn,Ut)}}let Mn;vt?Mn=yn*Ht-on*ct:Mn=yn*Ht+on*ct,Yt+=Mn,Jt&&Tt.restore()}vt?dt.y-=Yt:dt.x+=Yt*gt,Tt.restore(),this.compose()}showType3Text(ft){const dt=this.ctx,St=this.current,bt=St.font,Tt=St.fontSize,wt=St.fontDirection,Ot=bt.vertical?1:-1,It=St.charSpacing,ct=St.wordSpacing,gt=St.textHScale*wt,yt=St.fontMatrix||a.FONT_IDENTITY_MATRIX,vt=ft.length,xt=St.textRenderingMode===a.TextRenderingMode.INVISIBLE;let Rt,Ht,Zt,Ut;if(!(xt||Tt===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,dt.save(),dt.transform(...St.textMatrix),dt.translate(St.x,St.y),dt.scale(gt,wt),Rt=0;Rt<vt;++Rt){if(Ht=ft[Rt],typeof Ht=="number"){Ut=Ot*Ht*Tt/1e3,this.ctx.translate(Ut,0),St.x+=Ut*gt;continue}const Xt=(Ht.isSpace?ct:0)+It,zt=bt.charProcOperatorList[Ht.operatorListId];if(!zt){(0,a.warn)(`Type3 character "${Ht.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Ht,this.save(),dt.scale(Tt,Tt),dt.transform(...yt),this.executeOperatorList(zt),this.restore()),Zt=a.Util.applyTransform([Ht.width,0],yt)[0]*Tt+Xt,dt.translate(Zt,0),St.x+=Zt*gt}dt.restore(),this.processingType3=null}}setCharWidth(ft,dt){}setCharWidthAndBounds(ft,dt,St,bt,Tt,wt){this.ctx.rect(St,bt,Tt-St,wt-bt),this.ctx.clip(),this.endPath()}getColorN_Pattern(ft){let dt;if(ft[0]==="TilingPattern"){const St=ft[1],bt=this.baseTransform||(0,o.getCurrentTransform)(this.ctx),Tt={createCanvasGraphics:wt=>new Kt(wt,this.commonObjs,this.objs,this.canvasFactory)};dt=new c.TilingPattern(ft,St,this.ctx,Tt,bt)}else dt=this._getPattern(ft[1],ft[2]);return dt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(ft,dt,St){var Tt;const bt=((Tt=this.selectColor)==null?void 0:Tt.call(this,ft,dt,St))||a.Util.makeHexColor(ft,dt,St);this.ctx.strokeStyle=bt,this.current.strokeColor=bt}setFillRGBColor(ft,dt,St){var Tt;const bt=((Tt=this.selectColor)==null?void 0:Tt.call(this,ft,dt,St))||a.Util.makeHexColor(ft,dt,St);this.ctx.fillStyle=bt,this.current.fillColor=bt,this.current.patternFill=!1}_getPattern(ft,dt=null){let St;return this.cachedPatterns.has(ft)?St=this.cachedPatterns.get(ft):(St=(0,c.getShadingPattern)(this.objs.get(ft)),this.cachedPatterns.set(ft,St)),dt&&(St.matrix=dt),St}shadingFill(ft){if(!this.contentVisible)return;const dt=this.ctx;this.save();const St=this._getPattern(ft);dt.fillStyle=St.getPattern(dt,this,(0,o.getCurrentTransformInverse)(dt),c.PathType.SHADING);const bt=(0,o.getCurrentTransformInverse)(dt);if(bt){const Tt=dt.canvas,wt=Tt.width,Ot=Tt.height,It=a.Util.applyTransform([0,0],bt),ct=a.Util.applyTransform([0,Ot],bt),gt=a.Util.applyTransform([wt,0],bt),yt=a.Util.applyTransform([wt,Ot],bt),vt=Math.min(It[0],ct[0],gt[0],yt[0]),xt=Math.min(It[1],ct[1],gt[1],yt[1]),Rt=Math.max(It[0],ct[0],gt[0],yt[0]),Ht=Math.max(It[1],ct[1],gt[1],yt[1]);this.ctx.fillRect(vt,xt,Rt-vt,Ht-xt)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,a.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,a.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(ft,dt){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(ft)&&ft.length===6&&this.transform(...ft),this.baseTransform=(0,o.getCurrentTransform)(this.ctx),dt)){const St=dt[2]-dt[0],bt=dt[3]-dt[1];this.ctx.rect(dt[0],dt[1],St,bt),this.current.updateRectMinMax((0,o.getCurrentTransform)(this.ctx),dt),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(ft){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const dt=this.ctx;ft.isolated||(0,a.info)("TODO: Support non-isolated groups."),ft.knockout&&(0,a.warn)("Knockout groups not supported.");const St=(0,o.getCurrentTransform)(dt);if(ft.matrix&&dt.transform(...ft.matrix),!ft.bbox)throw new Error("Bounding box is required.");let bt=a.Util.getAxialAlignedBoundingBox(ft.bbox,(0,o.getCurrentTransform)(dt));const Tt=[0,0,dt.canvas.width,dt.canvas.height];bt=a.Util.intersect(bt,Tt)||[0,0,0,0];const wt=Math.floor(bt[0]),Ot=Math.floor(bt[1]);let It=Math.max(Math.ceil(bt[2])-wt,1),ct=Math.max(Math.ceil(bt[3])-Ot,1),gt=1,yt=1;It>_e&&(gt=It/_e,It=_e),ct>_e&&(yt=ct/_e,ct=_e),this.current.startNewPathAndClipBox([0,0,It,ct]);let vt="groupAt"+this.groupLevel;ft.smask&&(vt+="_smask_"+this.smaskCounter++%2);const xt=this.cachedCanvases.getCanvas(vt,It,ct),Rt=xt.context;Rt.scale(1/gt,1/yt),Rt.translate(-wt,-Ot),Rt.transform(...St),ft.smask?this.smaskStack.push({canvas:xt.canvas,context:Rt,offsetX:wt,offsetY:Ot,scaleX:gt,scaleY:yt,subtype:ft.smask.subtype,backdrop:ft.smask.backdrop,transferMap:ft.smask.transferMap||null,startTransformInverse:null}):(dt.setTransform(1,0,0,1,0,0),dt.translate(wt,Ot),dt.scale(gt,yt),dt.save()),it(dt,Rt),this.ctx=Rt,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(dt),this.groupLevel++}endGroup(ft){if(!this.contentVisible)return;this.groupLevel--;const dt=this.ctx,St=this.groupStack.pop();if(this.ctx=St,this.ctx.imageSmoothingEnabled=!1,ft.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const bt=(0,o.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...bt);const Tt=a.Util.getAxialAlignedBoundingBox([0,0,dt.canvas.width,dt.canvas.height],bt);this.ctx.drawImage(dt.canvas,0,0),this.ctx.restore(),this.compose(Tt)}}beginAnnotation(ft,dt,St,bt,Tt){if(Qt(this,jt,Qn).call(this),ut(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(dt)&&dt.length===4){const wt=dt[2]-dt[0],Ot=dt[3]-dt[1];if(Tt&&this.annotationCanvasMap){St=St.slice(),St[4]-=dt[0],St[5]-=dt[1],dt=dt.slice(),dt[0]=dt[1]=0,dt[2]=wt,dt[3]=Ot;const[It,ct]=a.Util.singularValueDecompose2dScale((0,o.getCurrentTransform)(this.ctx)),{viewportScale:gt}=this,yt=Math.ceil(wt*this.outputScaleX*gt),vt=Math.ceil(Ot*this.outputScaleY*gt);this.annotationCanvas=this.canvasFactory.create(yt,vt);const{canvas:xt,context:Rt}=this.annotationCanvas;this.annotationCanvasMap.set(ft,xt),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Rt,this.ctx.setTransform(It,0,0,-ct,0,Ot*ct),ut(this.ctx,this.foregroundColor)}else ut(this.ctx,this.foregroundColor),this.ctx.rect(dt[0],dt[1],wt,Ot),this.ctx.clip(),this.endPath()}this.current=new ot(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...St),this.transform(...bt)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(ft){if(!this.contentVisible)return;const dt=ft.count;ft=this.getObject(ft.data,ft),ft.count=dt;const St=this.ctx,bt=this.processingType3;if(bt&&(bt.compiled===void 0&&(bt.compiled=rt(ft)),bt.compiled)){bt.compiled(St);return}const Tt=this._createMaskCanvas(ft),wt=Tt.canvas;St.save(),St.setTransform(1,0,0,1,0,0),St.drawImage(wt,Tt.offsetX,Tt.offsetY),St.restore(),this.compose()}paintImageMaskXObjectRepeat(ft,dt,St=0,bt=0,Tt,wt){if(!this.contentVisible)return;ft=this.getObject(ft.data,ft);const Ot=this.ctx;Ot.save();const It=(0,o.getCurrentTransform)(Ot);Ot.transform(dt,St,bt,Tt,0,0);const ct=this._createMaskCanvas(ft);Ot.setTransform(1,0,0,1,0,0);for(let gt=0,yt=wt.length;gt<yt;gt+=2){const vt=a.Util.transform(It,[dt,St,bt,Tt,wt[gt],wt[gt+1]]),[xt,Rt]=a.Util.applyTransform([0,0],vt);Ot.drawImage(ct.canvas,xt,Rt)}Ot.restore(),this.compose()}paintImageMaskXObjectGroup(ft){if(!this.contentVisible)return;const dt=this.ctx,St=this.current.fillColor,bt=this.current.patternFill;for(const Tt of ft){const{data:wt,width:Ot,height:It,transform:ct}=Tt,gt=this.cachedCanvases.getCanvas("maskCanvas",Ot,It),yt=gt.context;yt.save();const vt=this.getObject(wt,Tt);$(yt,vt),yt.globalCompositeOperation="source-in",yt.fillStyle=bt?St.getPattern(yt,this,(0,o.getCurrentTransformInverse)(dt),c.PathType.FILL):St,yt.fillRect(0,0,Ot,It),yt.restore(),dt.save(),dt.transform(...ct),dt.scale(1,-1),j(dt,gt.canvas,0,0,Ot,It,0,-1,1,1),dt.restore()}this.compose()}paintImageXObject(ft){if(!this.contentVisible)return;const dt=this.getObject(ft);if(!dt){(0,a.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(dt)}paintImageXObjectRepeat(ft,dt,St,bt){if(!this.contentVisible)return;const Tt=this.getObject(ft);if(!Tt){(0,a.warn)("Dependent image isn't ready yet");return}const wt=Tt.width,Ot=Tt.height,It=[];for(let ct=0,gt=bt.length;ct<gt;ct+=2)It.push({transform:[dt,0,0,St,bt[ct],bt[ct+1]],x:0,y:0,w:wt,h:Ot});this.paintInlineImageXObjectGroup(Tt,It)}paintInlineImageXObject(ft){if(!this.contentVisible)return;const dt=ft.width,St=ft.height,bt=this.ctx;this.save(),bt.scale(1/dt,-1/St);let Tt;if(typeof HTMLElement=="function"&&ft instanceof HTMLElement||!ft.data)Tt=ft;else{const ct=this.cachedCanvases.getCanvas("inlineImage",dt,St),gt=ct.context;st(gt,ft,this.current.transferMaps),Tt=ct.canvas}const wt=this._scaleImage(Tt,(0,o.getCurrentTransformInverse)(bt));bt.imageSmoothingEnabled=Wt((0,o.getCurrentTransform)(bt),ft.interpolate);const[Ot,It]=j(bt,wt.img,0,0,wt.paintWidth,wt.paintHeight,0,-St,dt,St);if(this.imageLayer){const[ct,gt]=a.Util.applyTransform([0,-St],(0,o.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:ft,left:ct,top:gt,width:Ot,height:It})}this.compose(),this.restore()}paintInlineImageXObjectGroup(ft,dt){if(!this.contentVisible)return;const St=this.ctx,bt=ft.width,Tt=ft.height,wt=this.cachedCanvases.getCanvas("inlineImage",bt,Tt),Ot=wt.context;st(Ot,ft,this.current.transferMaps);for(const It of dt){if(St.save(),St.transform(...It.transform),St.scale(1,-1),j(St,wt.canvas,It.x,It.y,It.w,It.h,0,-1,1,1),this.imageLayer){const[ct,gt]=a.Util.applyTransform([It.x,It.y],(0,o.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:ft,left:ct,top:gt,width:bt,height:Tt})}St.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(ft){}markPointProps(ft,dt){}beginMarkedContent(ft){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(ft,dt){ft==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(dt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(ft){const dt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(ft);const St=this.ctx;this.pendingClip&&(dt||(this.pendingClip===Mt?St.clip("evenodd"):St.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),St.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const ft=(0,o.getCurrentTransform)(this.ctx);if(ft[1]===0&&ft[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(ft[0]),Math.abs(ft[3]));else{const dt=Math.abs(ft[0]*ft[3]-ft[2]*ft[1]),St=Math.hypot(ft[0],ft[2]),bt=Math.hypot(ft[1],ft[3]);this._cachedGetSinglePixelWidth=Math.max(St,bt)/dt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:ft}=this.current,dt=(0,o.getCurrentTransform)(this.ctx);let St,bt;if(dt[1]===0&&dt[2]===0){const Tt=Math.abs(dt[0]),wt=Math.abs(dt[3]);if(ft===0)St=1/Tt,bt=1/wt;else{const Ot=Tt*ft,It=wt*ft;St=Ot<1?1/Ot:1,bt=It<1?1/It:1}}else{const Tt=Math.abs(dt[0]*dt[3]-dt[2]*dt[1]),wt=Math.hypot(dt[0],dt[1]),Ot=Math.hypot(dt[2],dt[3]);if(ft===0)St=Ot/Tt,bt=wt/Tt;else{const It=ft*Tt;St=Ot>It?Ot/It:1,bt=wt>It?wt/It:1}}this._cachedScaleForStroking=[St,bt]}return this._cachedScaleForStroking}rescaleAndStroke(ft){const{ctx:dt}=this,{lineWidth:St}=this.current,[bt,Tt]=this.getScaleForStroking();if(dt.lineWidth=St||1,bt===1&&Tt===1){dt.stroke();return}let wt,Ot,It;ft&&(wt=(0,o.getCurrentTransform)(dt),Ot=dt.getLineDash().slice(),It=dt.lineDashOffset),dt.scale(bt,Tt);const ct=Math.max(bt,Tt);dt.setLineDash(dt.getLineDash().map(gt=>gt/ct)),dt.lineDashOffset/=ct,dt.stroke(),ft&&(dt.setTransform(...wt),dt.setLineDash(Ot),dt.lineDashOffset=It)}isContentVisible(){for(let ft=this.markedContentStack.length-1;ft>=0;ft--)if(!this.markedContentStack[ft].visible)return!1;return!0}};let Et=Kt;jt=new WeakSet,Qn=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},i.CanvasGraphics=Et;for(const Ct in a.OPS)Et.prototype[Ct]!==void 0&&(Et.prototype[a.OPS[Ct]]=Et.prototype[Ct])},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TilingPattern=i.PathType=void 0,i.getShadingPattern=tt;var o=s(1),a=s(8),c=s(3);const d={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};i.PathType=d;function h(j,rt){if(!rt||c.isNodeJS)return;const ot=rt[2]-rt[0],st=rt[3]-rt[1],$=new Path2D;$.rect(rt[0],rt[1],ot,st),j.clip($)}class g{constructor(){this.constructor===g&&(0,o.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,o.unreachable)("Abstract method `getPattern` called.")}}class _ extends g{constructor(rt){super(),this._type=rt[1],this._bbox=rt[2],this._colorStops=rt[3],this._p0=rt[4],this._p1=rt[5],this._r0=rt[6],this._r1=rt[7],this.matrix=null}_createGradient(rt){let ot;this._type==="axial"?ot=rt.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(ot=rt.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const st of this._colorStops)ot.addColorStop(st[0],st[1]);return ot}getPattern(rt,ot,st,$){let it;if($===d.STROKE||$===d.FILL){const ut=ot.current.getClippedPathBoundingBox($,(0,a.getCurrentTransform)(rt))||[0,0,0,0],pt=Math.ceil(ut[2]-ut[0])||1,mt=Math.ceil(ut[3]-ut[1])||1,ht=ot.cachedCanvases.getCanvas("pattern",pt,mt,!0),_t=ht.context;_t.clearRect(0,0,_t.canvas.width,_t.canvas.height),_t.beginPath(),_t.rect(0,0,_t.canvas.width,_t.canvas.height),_t.translate(-ut[0],-ut[1]),st=o.Util.transform(st,[1,0,0,1,ut[0],ut[1]]),_t.transform(...ot.baseTransform),this.matrix&&_t.transform(...this.matrix),h(_t,this._bbox),_t.fillStyle=this._createGradient(_t),_t.fill(),it=rt.createPattern(ht.canvas,"no-repeat");const Vt=new DOMMatrix(st);try{it.setTransform(Vt)}catch(Wt){(0,o.warn)(`RadialAxialShadingPattern.getPattern: "${Wt==null?void 0:Wt.message}".`)}}else h(rt,this._bbox),it=this._createGradient(rt);return it}}function _e(j,rt,ot,st,$,it,ut,pt){const mt=rt.coords,ht=rt.colors,_t=j.data,Vt=j.width*4;let Wt;mt[ot+1]>mt[st+1]&&(Wt=ot,ot=st,st=Wt,Wt=it,it=ut,ut=Wt),mt[st+1]>mt[$+1]&&(Wt=st,st=$,$=Wt,Wt=ut,ut=pt,pt=Wt),mt[ot+1]>mt[st+1]&&(Wt=ot,ot=st,st=Wt,Wt=it,it=ut,ut=Wt);const Nt=(mt[ot]+rt.offsetX)*rt.scaleX,Lt=(mt[ot+1]+rt.offsetY)*rt.scaleY,kt=(mt[st]+rt.offsetX)*rt.scaleX,Mt=(mt[st+1]+rt.offsetY)*rt.scaleY,Et=(mt[$]+rt.offsetX)*rt.scaleX,jt=(mt[$+1]+rt.offsetY)*rt.scaleY;if(Lt>=jt)return;const $t=ht[it],Kt=ht[it+1],Ct=ht[it+2],ft=ht[ut],dt=ht[ut+1],St=ht[ut+2],bt=ht[pt],Tt=ht[pt+1],wt=ht[pt+2],Ot=Math.round(Lt),It=Math.round(jt);let ct,gt,yt,vt,xt,Rt,Ht,Zt;for(let Ut=Ot;Ut<=It;Ut++){if(Ut<Mt){let Pt;Ut<Lt?Pt=0:Pt=(Lt-Ut)/(Lt-Mt),ct=Nt-(Nt-kt)*Pt,gt=$t-($t-ft)*Pt,yt=Kt-(Kt-dt)*Pt,vt=Ct-(Ct-St)*Pt}else{let Pt;Ut>jt?Pt=1:Mt===jt?Pt=0:Pt=(Mt-Ut)/(Mt-jt),ct=kt-(kt-Et)*Pt,gt=ft-(ft-bt)*Pt,yt=dt-(dt-Tt)*Pt,vt=St-(St-wt)*Pt}let Xt;Ut<Lt?Xt=0:Ut>jt?Xt=1:Xt=(Lt-Ut)/(Lt-jt),xt=Nt-(Nt-Et)*Xt,Rt=$t-($t-bt)*Xt,Ht=Kt-(Kt-Tt)*Xt,Zt=Ct-(Ct-wt)*Xt;const zt=Math.round(Math.min(ct,xt)),Yt=Math.round(Math.max(ct,xt));let en=Vt*Ut+zt*4;for(let Pt=zt;Pt<=Yt;Pt++)Xt=(ct-Pt)/(ct-xt),Xt<0?Xt=0:Xt>1&&(Xt=1),_t[en++]=gt-(gt-Rt)*Xt|0,_t[en++]=yt-(yt-Ht)*Xt|0,_t[en++]=vt-(vt-Zt)*Xt|0,_t[en++]=255}}function at(j,rt,ot){const st=rt.coords,$=rt.colors;let it,ut;switch(rt.type){case"lattice":const pt=rt.verticesPerRow,mt=Math.floor(st.length/pt)-1,ht=pt-1;for(it=0;it<mt;it++){let _t=it*pt;for(let Vt=0;Vt<ht;Vt++,_t++)_e(j,ot,st[_t],st[_t+1],st[_t+pt],$[_t],$[_t+1],$[_t+pt]),_e(j,ot,st[_t+pt+1],st[_t+1],st[_t+pt],$[_t+pt+1],$[_t+1],$[_t+pt])}break;case"triangles":for(it=0,ut=st.length;it<ut;it+=3)_e(j,ot,st[it],st[it+1],st[it+2],$[it],$[it+1],$[it+2]);break;default:throw new Error("illegal figure")}}class nt extends g{constructor(rt){super(),this._coords=rt[2],this._colors=rt[3],this._figures=rt[4],this._bounds=rt[5],this._bbox=rt[7],this._background=rt[8],this.matrix=null}_createMeshCanvas(rt,ot,st){const pt=Math.floor(this._bounds[0]),mt=Math.floor(this._bounds[1]),ht=Math.ceil(this._bounds[2])-pt,_t=Math.ceil(this._bounds[3])-mt,Vt=Math.min(Math.ceil(Math.abs(ht*rt[0]*1.1)),3e3),Wt=Math.min(Math.ceil(Math.abs(_t*rt[1]*1.1)),3e3),Nt=ht/Vt,Lt=_t/Wt,kt={coords:this._coords,colors:this._colors,offsetX:-pt,offsetY:-mt,scaleX:1/Nt,scaleY:1/Lt},Mt=Vt+2*2,Et=Wt+2*2,jt=st.getCanvas("mesh",Mt,Et,!1),$t=jt.context,Kt=$t.createImageData(Vt,Wt);if(ot){const ft=Kt.data;for(let dt=0,St=ft.length;dt<St;dt+=4)ft[dt]=ot[0],ft[dt+1]=ot[1],ft[dt+2]=ot[2],ft[dt+3]=255}for(const ft of this._figures)at(Kt,ft,kt);return $t.putImageData(Kt,2,2),{canvas:jt.canvas,offsetX:pt-2*Nt,offsetY:mt-2*Lt,scaleX:Nt,scaleY:Lt}}getPattern(rt,ot,st,$){h(rt,this._bbox);let it;if($===d.SHADING)it=o.Util.singularValueDecompose2dScale((0,a.getCurrentTransform)(rt));else if(it=o.Util.singularValueDecompose2dScale(ot.baseTransform),this.matrix){const pt=o.Util.singularValueDecompose2dScale(this.matrix);it=[it[0]*pt[0],it[1]*pt[1]]}const ut=this._createMeshCanvas(it,$===d.SHADING?null:this._background,ot.cachedCanvases);return $!==d.SHADING&&(rt.setTransform(...ot.baseTransform),this.matrix&&rt.transform(...this.matrix)),rt.translate(ut.offsetX,ut.offsetY),rt.scale(ut.scaleX,ut.scaleY),rt.createPattern(ut.canvas,"no-repeat")}}class lt extends g{getPattern(){return"hotpink"}}function tt(j){switch(j[0]){case"RadialAxial":return new _(j);case"Mesh":return new nt(j);case"Dummy":return new lt}throw new Error(`Unknown IR type: ${j[0]}`)}const b={COLORED:1,UNCOLORED:2};class et{static get MAX_PATTERN_SIZE(){return(0,o.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(rt,ot,st,$,it){this.operatorList=rt[2],this.matrix=rt[3]||[1,0,0,1,0,0],this.bbox=rt[4],this.xstep=rt[5],this.ystep=rt[6],this.paintType=rt[7],this.tilingType=rt[8],this.color=ot,this.ctx=st,this.canvasGraphicsFactory=$,this.baseTransform=it}createPatternCanvas(rt){const ot=this.operatorList,st=this.bbox,$=this.xstep,it=this.ystep,ut=this.paintType,pt=this.tilingType,mt=this.color,ht=this.canvasGraphicsFactory;(0,o.info)("TilingType: "+pt);const _t=st[0],Vt=st[1],Wt=st[2],Nt=st[3],Lt=o.Util.singularValueDecompose2dScale(this.matrix),kt=o.Util.singularValueDecompose2dScale(this.baseTransform),Mt=[Lt[0]*kt[0],Lt[1]*kt[1]],Et=this.getSizeAndScale($,this.ctx.canvas.width,Mt[0]),jt=this.getSizeAndScale(it,this.ctx.canvas.height,Mt[1]),$t=rt.cachedCanvases.getCanvas("pattern",Et.size,jt.size,!0),Kt=$t.context,Ct=ht.createCanvasGraphics(Kt);Ct.groupLevel=rt.groupLevel,this.setFillAndStrokeStyleToContext(Ct,ut,mt);let ft=_t,dt=Vt,St=Wt,bt=Nt;return _t<0&&(ft=0,St+=Math.abs(_t)),Vt<0&&(dt=0,bt+=Math.abs(Vt)),Kt.translate(-(Et.scale*ft),-(jt.scale*dt)),Ct.transform(Et.scale,0,0,jt.scale,0,0),Kt.save(),this.clipBbox(Ct,ft,dt,St,bt),Ct.baseTransform=(0,a.getCurrentTransform)(Ct.ctx),Ct.executeOperatorList(ot),Ct.endDrawing(),{canvas:$t.canvas,scaleX:Et.scale,scaleY:jt.scale,offsetX:ft,offsetY:dt}}getSizeAndScale(rt,ot,st){rt=Math.abs(rt);const $=Math.max(et.MAX_PATTERN_SIZE,ot);let it=Math.ceil(rt*st);return it>=$?it=$:st=it/rt,{scale:st,size:it}}clipBbox(rt,ot,st,$,it){const ut=$-ot,pt=it-st;rt.ctx.rect(ot,st,ut,pt),rt.current.updateRectMinMax((0,a.getCurrentTransform)(rt.ctx),[ot,st,$,it]),rt.clip(),rt.endPath()}setFillAndStrokeStyleToContext(rt,ot,st){const $=rt.ctx,it=rt.current;switch(ot){case b.COLORED:const ut=this.ctx;$.fillStyle=ut.fillStyle,$.strokeStyle=ut.strokeStyle,it.fillColor=ut.fillStyle,it.strokeColor=ut.strokeStyle;break;case b.UNCOLORED:const pt=o.Util.makeHexColor(st[0],st[1],st[2]);$.fillStyle=pt,$.strokeStyle=pt,it.fillColor=pt,it.strokeColor=pt;break;default:throw new o.FormatError(`Unsupported paint type: ${ot}`)}}getPattern(rt,ot,st,$){let it=st;$!==d.SHADING&&(it=o.Util.transform(it,ot.baseTransform),this.matrix&&(it=o.Util.transform(it,this.matrix)));const ut=this.createPatternCanvas(ot);let pt=new DOMMatrix(it);pt=pt.translate(ut.offsetX,ut.offsetY),pt=pt.scale(1/ut.scaleX,1/ut.scaleY);const mt=rt.createPattern(ut.canvas,"repeat");try{mt.setTransform(pt)}catch(ht){(0,o.warn)(`TilingPattern.getPattern: "${ht==null?void 0:ht.message}".`)}return mt}}i.TilingPattern=et},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.applyMaskImageData=a;var o=s(1);function a({src:c,srcPos:d=0,dest:h,destPos:g=0,width:_,height:_e,inverseDecode:at=!1}){const nt=o.FeatureTest.isLittleEndian?4278190080:255,[lt,tt]=at?[0,nt]:[nt,0],b=_>>3,et=_&7,j=c.length;h=new Uint32Array(h.buffer);for(let rt=0;rt<_e;rt++){for(const st=d+b;d<st;d++){const $=d<j?c[d]:255;h[g++]=$&128?tt:lt,h[g++]=$&64?tt:lt,h[g++]=$&32?tt:lt,h[g++]=$&16?tt:lt,h[g++]=$&8?tt:lt,h[g++]=$&4?tt:lt,h[g++]=$&2?tt:lt,h[g++]=$&1?tt:lt}if(et===0)continue;const ot=d<j?c[d++]:255;for(let st=0;st<et;st++)h[g++]=ot&1<<7-st?tt:lt}return{srcPos:d,destPos:g}}},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.GlobalWorkerOptions=void 0;const s=Object.create(null);i.GlobalWorkerOptions=s,s.workerPort=s.workerPort===void 0?null:s.workerPort,s.workerSrc=s.workerSrc===void 0?"":s.workerSrc},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.MessageHandler=void 0;var o=s(1);const a={UNKNOWN:0,DATA:1,ERROR:2},c={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function d(g){switch(g instanceof Error||typeof g=="object"&&g!==null||(0,o.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),g.name){case"AbortException":return new o.AbortException(g.message);case"MissingPDFException":return new o.MissingPDFException(g.message);case"PasswordException":return new o.PasswordException(g.message,g.code);case"UnexpectedResponseException":return new o.UnexpectedResponseException(g.message,g.status);case"UnknownErrorException":return new o.UnknownErrorException(g.message,g.details);default:return new o.UnknownErrorException(g.message,g.toString())}}class h{constructor(_,_e,at){this.sourceName=_,this.targetName=_e,this.comObj=at,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=nt=>{const lt=nt.data;if(lt.targetName!==this.sourceName)return;if(lt.stream){this._processStreamMessage(lt);return}if(lt.callback){const b=lt.callbackId,et=this.callbackCapabilities[b];if(!et)throw new Error(`Cannot resolve callback ${b}`);if(delete this.callbackCapabilities[b],lt.callback===a.DATA)et.resolve(lt.data);else if(lt.callback===a.ERROR)et.reject(d(lt.reason));else throw new Error("Unexpected callback case");return}const tt=this.actionHandler[lt.action];if(!tt)throw new Error(`Unknown action from worker: ${lt.action}`);if(lt.callbackId){const b=this.sourceName,et=lt.sourceName;new Promise(function(j){j(tt(lt.data))}).then(function(j){at.postMessage({sourceName:b,targetName:et,callback:a.DATA,callbackId:lt.callbackId,data:j})},function(j){at.postMessage({sourceName:b,targetName:et,callback:a.ERROR,callbackId:lt.callbackId,reason:d(j)})});return}if(lt.streamId){this._createStreamSink(lt);return}tt(lt.data)},at.addEventListener("message",this._onComObjOnMessage)}on(_,_e){const at=this.actionHandler;if(at[_])throw new Error(`There is already an actionName called "${_}"`);at[_]=_e}send(_,_e,at){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:_,data:_e},at)}sendWithPromise(_,_e,at){const nt=this.callbackId++,lt=(0,o.createPromiseCapability)();this.callbackCapabilities[nt]=lt;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:_,callbackId:nt,data:_e},at)}catch(tt){lt.reject(tt)}return lt.promise}sendWithStream(_,_e,at,nt){const lt=this.streamId++,tt=this.sourceName,b=this.targetName,et=this.comObj;return new ReadableStream({start:j=>{const rt=(0,o.createPromiseCapability)();return this.streamControllers[lt]={controller:j,startCall:rt,pullCall:null,cancelCall:null,isClosed:!1},et.postMessage({sourceName:tt,targetName:b,action:_,streamId:lt,data:_e,desiredSize:j.desiredSize},nt),rt.promise},pull:j=>{const rt=(0,o.createPromiseCapability)();return this.streamControllers[lt].pullCall=rt,et.postMessage({sourceName:tt,targetName:b,stream:c.PULL,streamId:lt,desiredSize:j.desiredSize}),rt.promise},cancel:j=>{(0,o.assert)(j instanceof Error,"cancel must have a valid reason");const rt=(0,o.createPromiseCapability)();return this.streamControllers[lt].cancelCall=rt,this.streamControllers[lt].isClosed=!0,et.postMessage({sourceName:tt,targetName:b,stream:c.CANCEL,streamId:lt,reason:d(j)}),rt.promise}},at)}_createStreamSink(_){const _e=_.streamId,at=this.sourceName,nt=_.sourceName,lt=this.comObj,tt=this,b=this.actionHandler[_.action],et={enqueue(j,rt=1,ot){if(this.isCancelled)return;const st=this.desiredSize;this.desiredSize-=rt,st>0&&this.desiredSize<=0&&(this.sinkCapability=(0,o.createPromiseCapability)(),this.ready=this.sinkCapability.promise),lt.postMessage({sourceName:at,targetName:nt,stream:c.ENQUEUE,streamId:_e,chunk:j},ot)},close(){this.isCancelled||(this.isCancelled=!0,lt.postMessage({sourceName:at,targetName:nt,stream:c.CLOSE,streamId:_e}),delete tt.streamSinks[_e])},error(j){(0,o.assert)(j instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,lt.postMessage({sourceName:at,targetName:nt,stream:c.ERROR,streamId:_e,reason:d(j)}))},sinkCapability:(0,o.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:_.desiredSize,ready:null};et.sinkCapability.resolve(),et.ready=et.sinkCapability.promise,this.streamSinks[_e]=et,new Promise(function(j){j(b(_.data,et))}).then(function(){lt.postMessage({sourceName:at,targetName:nt,stream:c.START_COMPLETE,streamId:_e,success:!0})},function(j){lt.postMessage({sourceName:at,targetName:nt,stream:c.START_COMPLETE,streamId:_e,reason:d(j)})})}_processStreamMessage(_){const _e=_.streamId,at=this.sourceName,nt=_.sourceName,lt=this.comObj,tt=this.streamControllers[_e],b=this.streamSinks[_e];switch(_.stream){case c.START_COMPLETE:_.success?tt.startCall.resolve():tt.startCall.reject(d(_.reason));break;case c.PULL_COMPLETE:_.success?tt.pullCall.resolve():tt.pullCall.reject(d(_.reason));break;case c.PULL:if(!b){lt.postMessage({sourceName:at,targetName:nt,stream:c.PULL_COMPLETE,streamId:_e,success:!0});break}b.desiredSize<=0&&_.desiredSize>0&&b.sinkCapability.resolve(),b.desiredSize=_.desiredSize,new Promise(function(et){et(b.onPull&&b.onPull())}).then(function(){lt.postMessage({sourceName:at,targetName:nt,stream:c.PULL_COMPLETE,streamId:_e,success:!0})},function(et){lt.postMessage({sourceName:at,targetName:nt,stream:c.PULL_COMPLETE,streamId:_e,reason:d(et)})});break;case c.ENQUEUE:if((0,o.assert)(tt,"enqueue should have stream controller"),tt.isClosed)break;tt.controller.enqueue(_.chunk);break;case c.CLOSE:if((0,o.assert)(tt,"close should have stream controller"),tt.isClosed)break;tt.isClosed=!0,tt.controller.close(),this._deleteStreamController(tt,_e);break;case c.ERROR:(0,o.assert)(tt,"error should have stream controller"),tt.controller.error(d(_.reason)),this._deleteStreamController(tt,_e);break;case c.CANCEL_COMPLETE:_.success?tt.cancelCall.resolve():tt.cancelCall.reject(d(_.reason)),this._deleteStreamController(tt,_e);break;case c.CANCEL:if(!b)break;new Promise(function(et){et(b.onCancel&&b.onCancel(d(_.reason)))}).then(function(){lt.postMessage({sourceName:at,targetName:nt,stream:c.CANCEL_COMPLETE,streamId:_e,success:!0})},function(et){lt.postMessage({sourceName:at,targetName:nt,stream:c.CANCEL_COMPLETE,streamId:_e,reason:d(et)})}),b.sinkCapability.reject(d(_.reason)),b.isCancelled=!0,delete this.streamSinks[_e];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(_,_e){await Promise.allSettled([_.startCall&&_.startCall.promise,_.pullCall&&_.pullCall.promise,_.cancelCall&&_.cancelCall.promise]),delete this.streamControllers[_e]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}i.MessageHandler=h},(e,i,s)=>{var c,d;Object.defineProperty(i,"__esModule",{value:!0}),i.Metadata=void 0;var o=s(1);class a{constructor({parsedData:g,rawData:_}){qt(this,c,void 0);qt(this,d,void 0);rn(this,c,g),rn(this,d,_)}getRaw(){return At(this,d)}get(g){return At(this,c).get(g)??null}getAll(){return(0,o.objectFromMap)(At(this,c))}has(g){return At(this,c).has(g)}}c=new WeakMap,d=new WeakMap,i.Metadata=a},(e,i,s)=>{var h,g,_,_e,at,nt,Zn;Object.defineProperty(i,"__esModule",{value:!0}),i.OptionalContentConfig=void 0;var o=s(1);const a=Symbol("INTERNAL");class c{constructor(b,et){qt(this,h,!0);this.name=b,this.intent=et}get visible(){return At(this,h)}_setVisible(b,et){b!==a&&(0,o.unreachable)("Internal method `_setVisible` called."),rn(this,h,et)}}h=new WeakMap;class d{constructor(b){qt(this,nt);qt(this,g,!0);qt(this,_,new Map);qt(this,_e,null);qt(this,at,null);if(this.name=null,this.creator=null,b!==null){this.name=b.name,this.creator=b.creator,rn(this,at,b.order);for(const et of b.groups)At(this,_).set(et.id,new c(et.name,et.intent));if(b.baseState==="OFF")for(const et of At(this,_).values())et._setVisible(a,!1);for(const et of b.on)At(this,_).get(et)._setVisible(a,!0);for(const et of b.off)At(this,_).get(et)._setVisible(a,!1);rn(this,_e,new Map);for(const[et,j]of At(this,_))At(this,_e).set(et,j.visible)}}isVisible(b){if(At(this,_).size===0)return!0;if(!b)return(0,o.warn)("Optional content group not defined."),!0;if(b.type==="OCG")return At(this,_).has(b.id)?At(this,_).get(b.id).visible:((0,o.warn)(`Optional content group not found: ${b.id}`),!0);if(b.type==="OCMD"){if(b.expression)return Qt(this,nt,Zn).call(this,b.expression);if(!b.policy||b.policy==="AnyOn"){for(const et of b.ids){if(!At(this,_).has(et))return(0,o.warn)(`Optional content group not found: ${et}`),!0;if(At(this,_).get(et).visible)return!0}return!1}else if(b.policy==="AllOn"){for(const et of b.ids){if(!At(this,_).has(et))return(0,o.warn)(`Optional content group not found: ${et}`),!0;if(!At(this,_).get(et).visible)return!1}return!0}else if(b.policy==="AnyOff"){for(const et of b.ids){if(!At(this,_).has(et))return(0,o.warn)(`Optional content group not found: ${et}`),!0;if(!At(this,_).get(et).visible)return!0}return!1}else if(b.policy==="AllOff"){for(const et of b.ids){if(!At(this,_).has(et))return(0,o.warn)(`Optional content group not found: ${et}`),!0;if(At(this,_).get(et).visible)return!1}return!0}return(0,o.warn)(`Unknown optional content policy ${b.policy}.`),!0}return(0,o.warn)(`Unknown group type ${b.type}.`),!0}setVisibility(b,et=!0){if(!At(this,_).has(b)){(0,o.warn)(`Optional content group not found: ${b}`);return}At(this,_).get(b)._setVisible(a,!!et),rn(this,g,null)}get hasInitialVisibility(){if(At(this,g)!==null)return At(this,g);for(const[b,et]of At(this,_)){const j=At(this,_e).get(b);if(et.visible!==j)return rn(this,g,!1)}return rn(this,g,!0)}getOrder(){return At(this,_).size?At(this,at)?At(this,at).slice():[...At(this,_).keys()]:null}getGroups(){return At(this,_).size>0?(0,o.objectFromMap)(At(this,_)):null}getGroup(b){return At(this,_).get(b)||null}}g=new WeakMap,_=new WeakMap,_e=new WeakMap,at=new WeakMap,nt=new WeakSet,Zn=function(b){const et=b.length;if(et<2)return!0;const j=b[0];for(let rt=1;rt<et;rt++){const ot=b[rt];let st;if(Array.isArray(ot))st=Qt(this,nt,Zn).call(this,ot);else if(At(this,_).has(ot))st=At(this,_).get(ot).visible;else return(0,o.warn)(`Optional content group not found: ${ot}`),!0;switch(j){case"And":if(!st)return!1;break;case"Or":if(st)return!0;break;case"Not":return!st;default:return!0}}return j==="And"},i.OptionalContentConfig=d},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFDataTransportStream=void 0;var o=s(1),a=s(8);class c{constructor(_,_e){(0,o.assert)(_e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=_.progressiveDone||!1,this._contentDispositionFilename=_.contentDispositionFilename||null;const at=_.initialData;if((at==null?void 0:at.length)>0){const nt=new Uint8Array(at).buffer;this._queuedChunks.push(nt)}this._pdfDataRangeTransport=_e,this._isStreamingSupported=!_.disableStream,this._isRangeSupported=!_.disableRange,this._contentLength=_.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((nt,lt)=>{this._onReceiveData({begin:nt,chunk:lt})}),this._pdfDataRangeTransport.addProgressListener((nt,lt)=>{this._onProgress({loaded:nt,total:lt})}),this._pdfDataRangeTransport.addProgressiveReadListener(nt=>{this._onReceiveData({chunk:nt})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(_){const _e=new Uint8Array(_.chunk).buffer;if(_.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(_e):this._queuedChunks.push(_e);else{const at=this._rangeReaders.some(function(nt){return nt._begin!==_.begin?!1:(nt._enqueue(_e),!0)});(0,o.assert)(at,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var _;return((_=this._fullRequestReader)==null?void 0:_._loaded)??0}_onProgress(_){if(_.total===void 0){const _e=this._rangeReaders[0];_e!=null&&_e.onProgress&&_e.onProgress({loaded:_.loaded})}else{const _e=this._fullRequestReader;_e!=null&&_e.onProgress&&_e.onProgress({loaded:_.loaded,total:_.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(_){const _e=this._rangeReaders.indexOf(_);_e>=0&&this._rangeReaders.splice(_e,1)}getFullReader(){(0,o.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const _=this._queuedChunks;return this._queuedChunks=null,new d(this,_,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(_,_e){if(_e<=this._progressiveDataLength)return null;const at=new h(this,_,_e);return this._pdfDataRangeTransport.requestDataRange(_,_e),this._rangeReaders.push(at),at}cancelAllRequests(_){this._fullRequestReader&&this._fullRequestReader.cancel(_);for(const _e of this._rangeReaders.slice(0))_e.cancel(_);this._pdfDataRangeTransport.abort()}}i.PDFDataTransportStream=c;class d{constructor(_,_e,at=!1,nt=null){this._stream=_,this._done=at||!1,this._filename=(0,a.isPdfFile)(nt)?nt:null,this._queuedChunks=_e||[],this._loaded=0;for(const lt of this._queuedChunks)this._loaded+=lt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),_._fullRequestReader=this,this.onProgress=null}_enqueue(_){this._done||(this._requests.length>0?this._requests.shift().resolve({value:_,done:!1}):this._queuedChunks.push(_),this._loaded+=_.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const _=(0,o.createPromiseCapability)();return this._requests.push(_),_.promise}cancel(_){this._done=!0;for(const _e of this._requests)_e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class h{constructor(_,_e,at){this._stream=_,this._begin=_e,this._end=at,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(_){if(!this._done){if(this._requests.length===0)this._queuedChunk=_;else{this._requests.shift().resolve({value:_,done:!1});for(const at of this._requests)at.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const _e=this._queuedChunk;return this._queuedChunk=null,{value:_e,done:!1}}if(this._done)return{value:void 0,done:!0};const _=(0,o.createPromiseCapability)();return this._requests.push(_),_.promise}cancel(_){this._done=!0;for(const _e of this._requests)_e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaText=void 0;class s{static textContent(a){const c=[],d={items:c,styles:Object.create(null)};function h(g){var at;if(!g)return;let _=null;const _e=g.name;if(_e==="#text")_=g.value;else if(s.shouldBuildText(_e))(at=g==null?void 0:g.attributes)!=null&&at.textContent?_=g.attributes.textContent:g.value&&(_=g.value);else return;if(_!==null&&c.push({str:_}),!!g.children)for(const nt of g.children)h(nt)}return h(a),d}static shouldBuildText(a){return!(a==="textarea"||a==="input"||a==="option"||a==="select")}}i.XfaText=s},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.NodeStandardFontDataFactory=i.NodeCanvasFactory=i.NodeCMapReaderFactory=void 0;var o=s(9);const a=function(g){return new Promise((_,_e)=>{require$$5.readFile(g,(nt,lt)=>{if(nt||!lt){_e(new Error(nt));return}_(new Uint8Array(lt))})})};class c extends o.BaseCanvasFactory{_createCanvas(_,_e){return require$$5.createCanvas(_,_e)}}i.NodeCanvasFactory=c;class d extends o.BaseCMapReaderFactory{_fetchData(_,_e){return a(_).then(at=>({cMapData:at,compressionType:_e}))}}i.NodeCMapReaderFactory=d;class h extends o.BaseStandardFontDataFactory{_fetchData(_){return a(_)}}i.NodeStandardFontDataFactory=h},(e,i,s)=>{var g,_,_e,at,nt,lt,tt,b,et,Jn,rt,mr,st,er,it,yr;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditorLayer=void 0;var o=s(7),a=s(1),c=s(23),d=s(24);const pt=class{constructor(ht){qt(this,et);qt(this,rt);qt(this,st);qt(this,it);qt(this,g,void 0);qt(this,_,!1);qt(this,_e,this.pointerup.bind(this));qt(this,at,this.pointerdown.bind(this));qt(this,nt,new Map);qt(this,lt,!1);qt(this,tt,!1);qt(this,b,void 0);pt._initialized||(pt._initialized=!0,c.FreeTextEditor.initialize(ht.l10n),d.InkEditor.initialize(ht.l10n),ht.uiManager.registerEditorTypes([c.FreeTextEditor,d.InkEditor])),rn(this,b,ht.uiManager),this.annotationStorage=ht.annotationStorage,this.pageIndex=ht.pageIndex,this.div=ht.div,rn(this,g,ht.accessibilityManager),At(this,b).addLayer(this)}updateToolbar(ht){At(this,b).updateToolbar(ht)}updateMode(ht=At(this,b).getMode()){Qt(this,it,yr).call(this),ht===a.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),At(this,b).unselectAll()}addInkEditorIfNeeded(ht){if(!ht&&At(this,b).getMode()!==a.AnnotationEditorType.INK)return;if(!ht){for(const Vt of At(this,nt).values())if(Vt.isEmpty()){Vt.setInBackground();return}}Qt(this,st,er).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(ht){At(this,b).setEditingState(ht)}addCommands(ht){At(this,b).addCommands(ht)}enable(){this.div.style.pointerEvents="auto";for(const ht of At(this,nt).values())ht.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const ht of At(this,nt).values())ht.disableEditing()}setActiveEditor(ht){At(this,b).getActive()!==ht&&At(this,b).setActiveEditor(ht)}enableClick(){this.div.addEventListener("pointerdown",At(this,at)),this.div.addEventListener("pointerup",At(this,_e))}disableClick(){this.div.removeEventListener("pointerdown",At(this,at)),this.div.removeEventListener("pointerup",At(this,_e))}attach(ht){At(this,nt).set(ht.id,ht)}detach(ht){var _t;At(this,nt).delete(ht.id),(_t=At(this,g))==null||_t.removePointerInTextLayer(ht.contentDiv)}remove(ht){At(this,b).removeEditor(ht),this.detach(ht),this.annotationStorage.remove(ht.id),ht.div.style.display="none",setTimeout(()=>{ht.div.style.display="",ht.div.remove(),ht.isAttachedToDOM=!1,document.activeElement===document.body&&At(this,b).focusMainContainer()},0),At(this,tt)||this.addInkEditorIfNeeded(!1)}add(ht){if(Qt(this,et,Jn).call(this,ht),At(this,b).addEditor(ht),this.attach(ht),!ht.isAttachedToDOM){const _t=ht.render();this.div.append(_t),ht.isAttachedToDOM=!0}this.moveEditorInDOM(ht),ht.onceAdded(),this.addToAnnotationStorage(ht)}moveEditorInDOM(ht){var _t;(_t=At(this,g))==null||_t.moveElementInDOM(this.div,ht.div,ht.contentDiv,!0)}addToAnnotationStorage(ht){!ht.isEmpty()&&!this.annotationStorage.has(ht.id)&&this.annotationStorage.setValue(ht.id,ht)}addOrRebuild(ht){ht.needsToBeRebuilt()?ht.rebuild():this.add(ht)}addANewEditor(ht){const _t=()=>{this.addOrRebuild(ht)},Vt=()=>{ht.remove()};this.addCommands({cmd:_t,undo:Vt,mustExec:!0})}addUndoableEditor(ht){const _t=()=>{this.addOrRebuild(ht)},Vt=()=>{ht.remove()};this.addCommands({cmd:_t,undo:Vt,mustExec:!1})}getNextId(){return At(this,b).getId()}deserialize(ht){switch(ht.annotationType){case a.AnnotationEditorType.FREETEXT:return c.FreeTextEditor.deserialize(ht,this);case a.AnnotationEditorType.INK:return d.InkEditor.deserialize(ht,this)}return null}setSelected(ht){At(this,b).setSelected(ht)}toggleSelected(ht){At(this,b).toggleSelected(ht)}isSelected(ht){return At(this,b).isSelected(ht)}unselect(ht){At(this,b).unselect(ht)}pointerup(ht){const _t=o.KeyboardManager.platform.isMac;if(!(ht.button!==0||ht.ctrlKey&&_t)&&ht.target===this.div&&At(this,lt)){if(rn(this,lt,!1),!At(this,_)){rn(this,_,!0);return}Qt(this,st,er).call(this,ht)}}pointerdown(ht){const _t=o.KeyboardManager.platform.isMac;if(ht.button!==0||ht.ctrlKey&&_t||ht.target!==this.div)return;rn(this,lt,!0);const Vt=At(this,b).getActive();rn(this,_,!Vt||Vt.isEmpty())}drop(ht){const _t=ht.dataTransfer.getData("text/plain"),Vt=At(this,b).getEditor(_t);if(!Vt)return;ht.preventDefault(),ht.dataTransfer.dropEffect="move",Qt(this,et,Jn).call(this,Vt);const Wt=this.div.getBoundingClientRect(),Nt=ht.clientX-Wt.x,Lt=ht.clientY-Wt.y;Vt.translate(Nt-Vt.startX,Lt-Vt.startY),this.moveEditorInDOM(Vt),Vt.div.focus()}dragover(ht){ht.preventDefault()}destroy(){var ht,_t;((ht=At(this,b).getActive())==null?void 0:ht.parent)===this&&At(this,b).setActiveEditor(null);for(const Vt of At(this,nt).values())(_t=At(this,g))==null||_t.removePointerInTextLayer(Vt.contentDiv),Vt.isAttachedToDOM=!1,Vt.div.remove(),Vt.parent=null;this.div=null,At(this,nt).clear(),At(this,b).removeLayer(this)}render(ht){this.viewport=ht.viewport,(0,o.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(const _t of At(this,b).getEditors(this.pageIndex))this.add(_t);this.updateMode()}update(ht){this.viewport=ht.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){const[ht,_t,Vt,Wt]=this.viewport.viewBox,Nt=Vt-ht,Lt=Wt-_t;return[Nt,Lt]}get viewportBaseDimensions(){const{width:ht,height:_t,rotation:Vt}=this.viewport;return Vt%180===0?[ht,_t]:[_t,ht]}setDimensions(){const{width:ht,height:_t,rotation:Vt}=this.viewport,Wt=Vt%180!==0,Nt=Math.floor(ht)+"px",Lt=Math.floor(_t)+"px";this.div.style.width=Wt?Lt:Nt,this.div.style.height=Wt?Nt:Lt,this.div.setAttribute("data-main-rotation",Vt)}};let h=pt;g=new WeakMap,_=new WeakMap,_e=new WeakMap,at=new WeakMap,nt=new WeakMap,lt=new WeakMap,tt=new WeakMap,b=new WeakMap,et=new WeakSet,Jn=function(ht){var _t;ht.parent!==this&&(this.attach(ht),ht.pageIndex=this.pageIndex,(_t=ht.parent)==null||_t.detach(ht),ht.parent=this,ht.div&&ht.isAttachedToDOM&&(ht.div.remove(),this.div.append(ht.div)))},rt=new WeakSet,mr=function(ht){switch(At(this,b).getMode()){case a.AnnotationEditorType.FREETEXT:return new c.FreeTextEditor(ht);case a.AnnotationEditorType.INK:return new d.InkEditor(ht)}return null},st=new WeakSet,er=function(ht){const _t=this.getNextId(),Vt=Qt(this,rt,mr).call(this,{parent:this,id:_t,x:ht.offsetX,y:ht.offsetY});return Vt&&this.add(Vt),Vt},it=new WeakSet,yr=function(){rn(this,tt,!0);for(const ht of At(this,nt).values())ht.isEmpty()&&ht.remove();rn(this,tt,!1)},_n(h,"_initialized",!1),i.AnnotationEditorLayer=h},(e,i,s)=>{var h,g,_,_e,at,nt,lt,tt,vr,et,_r,rt,Sr,st,tr;Object.defineProperty(i,"__esModule",{value:!0}),i.FreeTextEditor=void 0;var o=s(1),a=s(7),c=s(6);const it=class extends c.AnnotationEditor{constructor(mt){super({...mt,name:"freeTextEditor"});qt(this,tt);qt(this,et);qt(this,rt);qt(this,st);qt(this,h,this.editorDivBlur.bind(this));qt(this,g,this.editorDivFocus.bind(this));qt(this,_,this.editorDivKeydown.bind(this));qt(this,_e,void 0);qt(this,at,"");qt(this,nt,!1);qt(this,lt,void 0);rn(this,_e,mt.color||it._defaultColor||c.AnnotationEditor._defaultLineColor),rn(this,lt,mt.fontSize||it._defaultFontSize)}static initialize(mt){this._l10nPromise=new Map(["free_text_default_content","editor_free_text_aria_label"].map(_t=>[_t,mt.get(_t)]));const ht=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(ht.getPropertyValue("--freetext-padding"))}static updateDefaultParams(mt,ht){switch(mt){case o.AnnotationEditorParamsType.FREETEXT_SIZE:it._defaultFontSize=ht;break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:it._defaultColor=ht;break}}updateParams(mt,ht){switch(mt){case o.AnnotationEditorParamsType.FREETEXT_SIZE:Qt(this,tt,vr).call(this,ht);break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:Qt(this,et,_r).call(this,ht);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,it._defaultFontSize],[o.AnnotationEditorParamsType.FREETEXT_COLOR,it._defaultColor||c.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,At(this,lt)],[o.AnnotationEditorParamsType.FREETEXT_COLOR,At(this,_e)]]}getInitialTranslation(){return[-it._internalPadding*this.parent.scaleFactor,-(it._internalPadding+At(this,lt))*this.parent.scaleFactor]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(o.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.enableEditing(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.editorDiv.addEventListener("keydown",At(this,_)),this.editorDiv.addEventListener("focus",At(this,g)),this.editorDiv.addEventListener("blur",At(this,h)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.disableEditing(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",At(this,_)),this.editorDiv.removeEventListener("focus",At(this,g)),this.editorDiv.removeEventListener("blur",At(this,h)),this.div.focus(),this.isEditing=!1)}focusin(mt){super.focusin(mt),mt.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),super.remove()}commit(){super.commit(),At(this,nt)||(rn(this,nt,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),rn(this,at,Qt(this,rt,Sr).call(this).trimEnd()),Qt(this,st,tr).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(mt){this.enableEditMode(),this.editorDiv.focus()}keydown(mt){mt.target===this.div&&mt.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(mt){it._keyboardManager.exec(this,mt)}editorDivFocus(mt){this.isEditing=!0}editorDivBlur(mt){this.isEditing=!1}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let mt,ht;this.width&&(mt=this.x,ht=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",`${this.id}-editor`),this.enableEditing(),it._l10nPromise.get("editor_free_text_aria_label").then(Vt=>{var Wt;return(Wt=this.editorDiv)==null?void 0:Wt.setAttribute("aria-label",Vt)}),it._l10nPromise.get("free_text_default_content").then(Vt=>{var Wt;return(Wt=this.editorDiv)==null?void 0:Wt.setAttribute("default-content",Vt)}),this.editorDiv.contentEditable=!0;const{style:_t}=this.editorDiv;if(_t.fontSize=`calc(${At(this,lt)}px * var(--scale-factor))`,_t.color=At(this,_e),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,a.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Vt,Wt]=this.parent.viewportBaseDimensions;this.setAt(mt*Vt,ht*Wt,this.width*Vt,this.height*Wt);for(const Nt of At(this,at).split(`
`)){const Lt=document.createElement("div");Lt.append(Nt?document.createTextNode(Nt):document.createElement("br")),this.editorDiv.append(Lt)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(mt,ht){const _t=super.deserialize(mt,ht);return rn(_t,lt,mt.fontSize),rn(_t,_e,o.Util.makeHexColor(...mt.color)),rn(_t,at,mt.value),_t}serialize(){if(this.isEmpty())return null;const mt=it._internalPadding*this.parent.scaleFactor,ht=this.getRect(mt,mt),_t=c.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:o.AnnotationEditorType.FREETEXT,color:_t,fontSize:At(this,lt),value:At(this,at),pageIndex:this.parent.pageIndex,rect:ht,rotation:this.rotation}}};let d=it;h=new WeakMap,g=new WeakMap,_=new WeakMap,_e=new WeakMap,at=new WeakMap,nt=new WeakMap,lt=new WeakMap,tt=new WeakSet,vr=function(mt){const ht=Vt=>{this.editorDiv.style.fontSize=`calc(${Vt}px * var(--scale-factor))`,this.translate(0,-(Vt-At(this,lt))*this.parent.scaleFactor),rn(this,lt,Vt),Qt(this,st,tr).call(this)},_t=At(this,lt);this.parent.addCommands({cmd:()=>{ht(mt)},undo:()=>{ht(_t)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},et=new WeakSet,_r=function(mt){const ht=At(this,_e);this.parent.addCommands({cmd:()=>{rn(this,_e,mt),this.editorDiv.style.color=mt},undo:()=>{rn(this,_e,ht),this.editorDiv.style.color=ht},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},rt=new WeakSet,Sr=function(){const mt=this.editorDiv.getElementsByTagName("div");if(mt.length===0)return this.editorDiv.innerText;const ht=[];for(let _t=0,Vt=mt.length;_t<Vt;_t++){const Nt=mt[_t].firstChild;(Nt==null?void 0:Nt.nodeName)==="#text"?ht.push(Nt.data):ht.push("")}return ht.join(`
`)},st=new WeakSet,tr=function(){const[mt,ht]=this.parent.viewportBaseDimensions,_t=this.div.getBoundingClientRect();this.width=_t.width/mt,this.height=_t.height/ht},_n(d,"_freeTextDefaultContent",""),_n(d,"_l10nPromise"),_n(d,"_internalPadding",0),_n(d,"_defaultColor",null),_n(d,"_defaultFontSize",10),_n(d,"_keyboardManager",new a.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],it.prototype.commitOrRemove]])),_n(d,"_type","freetext"),i.FreeTextEditor=d},(e,i,s)=>{var _,_e,at,nt,lt,tt,b,et,j,rt,ot,st,$,it,ut,Ar,mt,xr,_t,br,Wt,Er,Lt,nr,Mt,Tr,jt,Pr,Kt,Cr,ft,Dn,St,rr,Tt,zn,Ot,$n,ct,In,yt,ir,xt,Wn,Ht,sr,Ut,wr,zt,kr,en,Rr,Jt,or,ln,Hn,hn,Nn,yn,ar;Object.defineProperty(i,"__esModule",{value:!0}),i.InkEditor=void 0,Object.defineProperty(i,"fitCurve",{enumerable:!0,get:function(){return c.fitCurve}});var o=s(1),a=s(6),c=s(25),d=s(7);const h=16,fn=class extends a.AnnotationEditor{constructor(Gt){super({...Gt,name:"inkEditor"});qt(this,ut);qt(this,mt);qt(this,_t);qt(this,Wt);qt(this,Lt);qt(this,Mt);qt(this,jt);qt(this,Kt);qt(this,ft);qt(this,St);qt(this,Tt);qt(this,Ot);qt(this,ct);qt(this,yt);qt(this,xt);qt(this,Ut);qt(this,zt);qt(this,en);qt(this,Jt);qt(this,ln);qt(this,hn);qt(this,yn);qt(this,_,0);qt(this,_e,0);qt(this,at,0);qt(this,nt,this.canvasPointermove.bind(this));qt(this,lt,this.canvasPointerleave.bind(this));qt(this,tt,this.canvasPointerup.bind(this));qt(this,b,this.canvasPointerdown.bind(this));qt(this,et,!1);qt(this,j,!1);qt(this,rt,null);qt(this,ot,null);qt(this,st,0);qt(this,$,0);qt(this,it,null);this.color=Gt.color||null,this.thickness=Gt.thickness||null,this.opacity=Gt.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(Gt){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink_aria_label"].map(tn=>[tn,Gt.get(tn)]))}static updateDefaultParams(Gt,tn){switch(Gt){case o.AnnotationEditorParamsType.INK_THICKNESS:fn._defaultThickness=tn;break;case o.AnnotationEditorParamsType.INK_COLOR:fn._defaultColor=tn;break;case o.AnnotationEditorParamsType.INK_OPACITY:fn._defaultOpacity=tn/100;break}}updateParams(Gt,tn){switch(Gt){case o.AnnotationEditorParamsType.INK_THICKNESS:Qt(this,ut,Ar).call(this,tn);break;case o.AnnotationEditorParamsType.INK_COLOR:Qt(this,mt,xr).call(this,tn);break;case o.AnnotationEditorParamsType.INK_OPACITY:Qt(this,_t,br).call(this,tn);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,fn._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,fn._defaultColor||a.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(fn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||fn._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,this.color||fn._defaultColor||a.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??fn._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(Qt(this,Tt,zn).call(this),Qt(this,Ot,$n).call(this)),this.isAttachedToDOM||(this.parent.add(this),Qt(this,ct,In).call(this)),Qt(this,hn,Nn).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,At(this,ot).disconnect(),rn(this,ot,null),super.remove())}enableEditMode(){At(this,et)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",At(this,b)),this.canvas.addEventListener("pointerup",At(this,tt)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",At(this,b)),this.canvas.removeEventListener("pointerup",At(this,tt)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){At(this,et)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),rn(this,et,!0),this.div.classList.add("disabled"),Qt(this,hn,Nn).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(Gt){super.focusin(Gt),this.enableEditMode()}canvasPointerdown(Gt){Gt.button!==0||!this.isInEditMode()||At(this,et)||(this.setInForeground(),Gt.type!=="mouse"&&this.div.focus(),Gt.stopPropagation(),this.canvas.addEventListener("pointerleave",At(this,lt)),this.canvas.addEventListener("pointermove",At(this,nt)),Qt(this,Mt,Tr).call(this,Gt.offsetX,Gt.offsetY))}canvasPointermove(Gt){Gt.stopPropagation(),Qt(this,jt,Pr).call(this,Gt.offsetX,Gt.offsetY)}canvasPointerup(Gt){Gt.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(Gt.stopPropagation(),Qt(this,St,rr).call(this,Gt),this.setInBackground())}canvasPointerleave(Gt){Qt(this,St,rr).call(this,Gt),this.setInBackground()}render(){if(this.div)return this.div;let Gt,tn;this.width&&(Gt=this.x,tn=this.y),super.render(),fn._l10nPromise.get("editor_ink_aria_label").then(sn=>{var an;return(an=this.div)==null?void 0:an.setAttribute("aria-label",sn)});const[Bt,Dt,Ft,nn]=Qt(this,Wt,Er).call(this);if(this.setAt(Bt,Dt,0,0),this.setDims(Ft,nn),Qt(this,Tt,zn).call(this),this.width){const[sn,an]=this.parent.viewportBaseDimensions;this.setAt(Gt*sn,tn*an,this.width*sn,this.height*an),rn(this,j,!0),Qt(this,ct,In).call(this),this.setDims(this.width*sn,this.height*an),Qt(this,ft,Dn).call(this),Qt(this,yn,ar).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Qt(this,Ot,$n).call(this),this.div}setDimensions(Gt,tn){const Bt=Math.round(Gt),Dt=Math.round(tn);if(At(this,st)===Bt&&At(this,$)===Dt)return;rn(this,st,Bt),rn(this,$,Dt),this.canvas.style.visibility="hidden",At(this,_)&&Math.abs(At(this,_)-Gt/tn)>.01&&(tn=Math.ceil(Gt/At(this,_)),this.setDims(Gt,tn));const[Ft,nn]=this.parent.viewportBaseDimensions;this.width=Gt/Ft,this.height=tn/nn,At(this,et)&&Qt(this,yt,ir).call(this,Gt,tn),Qt(this,ct,In).call(this),Qt(this,ft,Dn).call(this),this.canvas.style.visibility="visible"}static deserialize(Gt,tn){var An,mn;const Bt=super.deserialize(Gt,tn);Bt.thickness=Gt.thickness,Bt.color=o.Util.makeHexColor(...Gt.color),Bt.opacity=Gt.opacity;const[Dt,Ft]=tn.pageDimensions,nn=Bt.width*Dt,sn=Bt.height*Ft,an=tn.scaleFactor,cn=Gt.thickness/2;rn(Bt,_,nn/sn),rn(Bt,et,!0),rn(Bt,st,Math.round(nn)),rn(Bt,$,Math.round(sn));for(const{bezier:dn}of Gt.paths){const bn=[];Bt.paths.push(bn);let xn=an*(dn[0]-cn),Pn=an*(sn-dn[1]-cn);for(let En=2,wn=dn.length;En<wn;En+=6){const Fn=an*(dn[En]-cn),Ln=an*(sn-dn[En+1]-cn),Rn=an*(dn[En+2]-cn),Tn=an*(sn-dn[En+3]-cn),kn=an*(dn[En+4]-cn),On=an*(sn-dn[En+5]-cn);bn.push([[xn,Pn],[Fn,Ln],[Rn,Tn],[kn,On]]),xn=kn,Pn=On}const gn=Qt(this,Ht,sr).call(this,bn);Bt.bezierPath2D.push(gn)}const pn=Qt(An=Bt,Jt,or).call(An);return rn(Bt,at,Math.max(h,pn[2]-pn[0])),rn(Bt,_e,Math.max(h,pn[3]-pn[1])),Qt(mn=Bt,yt,ir).call(mn,nn,sn),Bt}serialize(){if(this.isEmpty())return null;const Gt=this.getRect(0,0),tn=this.rotation%180===0?Gt[3]-Gt[1]:Gt[2]-Gt[0],Bt=a.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:o.AnnotationEditorType.INK,color:Bt,thickness:this.thickness,opacity:this.opacity,paths:Qt(this,Ut,wr).call(this,this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,tn),pageIndex:this.parent.pageIndex,rect:Gt,rotation:this.rotation}}};let g=fn;_=new WeakMap,_e=new WeakMap,at=new WeakMap,nt=new WeakMap,lt=new WeakMap,tt=new WeakMap,b=new WeakMap,et=new WeakMap,j=new WeakMap,rt=new WeakMap,ot=new WeakMap,st=new WeakMap,$=new WeakMap,it=new WeakMap,ut=new WeakSet,Ar=function(Gt){const tn=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=Gt,Qt(this,hn,Nn).call(this)},undo:()=>{this.thickness=tn,Qt(this,hn,Nn).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},mt=new WeakSet,xr=function(Gt){const tn=this.color;this.parent.addCommands({cmd:()=>{this.color=Gt,Qt(this,ft,Dn).call(this)},undo:()=>{this.color=tn,Qt(this,ft,Dn).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},_t=new WeakSet,br=function(Gt){Gt/=100;const tn=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=Gt,Qt(this,ft,Dn).call(this)},undo:()=>{this.opacity=tn,Qt(this,ft,Dn).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Wt=new WeakSet,Er=function(){const{width:Gt,height:tn,rotation:Bt}=this.parent.viewport;switch(Bt){case 90:return[0,Gt,Gt,tn];case 180:return[Gt,tn,Gt,tn];case 270:return[tn,0,Gt,tn];default:return[0,0,Gt,tn]}},Lt=new WeakSet,nr=function(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,d.opacityToHex)(this.opacity)}`},Mt=new WeakSet,Tr=function(Gt,tn){this.isEditing=!0,At(this,j)||(rn(this,j,!0),Qt(this,ct,In).call(this),this.thickness||(this.thickness=fn._defaultThickness),this.color||(this.color=fn._defaultColor||a.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=fn._defaultOpacity)),this.currentPath.push([Gt,tn]),rn(this,rt,null),Qt(this,Lt,nr).call(this),this.ctx.beginPath(),this.ctx.moveTo(Gt,tn),rn(this,it,()=>{At(this,it)&&(At(this,rt)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):Qt(this,ft,Dn).call(this),this.ctx.lineTo(...At(this,rt)),rn(this,rt,null),this.ctx.stroke()),window.requestAnimationFrame(At(this,it)))}),window.requestAnimationFrame(At(this,it))},jt=new WeakSet,Pr=function(Gt,tn){const[Bt,Dt]=this.currentPath.at(-1);Gt===Bt&&tn===Dt||(this.currentPath.push([Gt,tn]),rn(this,rt,[Gt,tn]))},Kt=new WeakSet,Cr=function(Gt,tn){var cn;this.ctx.closePath(),rn(this,it,null),Gt=Math.min(Math.max(Gt,0),this.canvas.width),tn=Math.min(Math.max(tn,0),this.canvas.height);const[Bt,Dt]=this.currentPath.at(-1);(Gt!==Bt||tn!==Dt)&&this.currentPath.push([Gt,tn]);let Ft;if(this.currentPath.length!==1)Ft=(0,c.fitCurve)(this.currentPath,30,null);else{const pn=[Gt,tn];Ft=[[pn,pn.slice(),pn.slice(),pn]]}const nn=Qt(cn=fn,Ht,sr).call(cn,Ft);this.currentPath.length=0;const sn=()=>{this.paths.push(Ft),this.bezierPath2D.push(nn),this.rebuild()},an=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Qt(this,Tt,zn).call(this),Qt(this,Ot,$n).call(this)),Qt(this,hn,Nn).call(this))};this.parent.addCommands({cmd:sn,undo:an,mustExec:!0})},ft=new WeakSet,Dn=function(){if(this.isEmpty()){Qt(this,xt,Wn).call(this);return}Qt(this,Lt,nr).call(this);const{canvas:Gt,ctx:tn}=this;tn.setTransform(1,0,0,1,0,0),tn.clearRect(0,0,Gt.width,Gt.height),Qt(this,xt,Wn).call(this);for(const Bt of this.bezierPath2D)tn.stroke(Bt)},St=new WeakSet,rr=function(Gt){Qt(this,Kt,Cr).call(this,Gt.offsetX,Gt.offsetY),this.canvas.removeEventListener("pointerleave",At(this,lt)),this.canvas.removeEventListener("pointermove",At(this,nt)),this.parent.addToAnnotationStorage(this)},Tt=new WeakSet,zn=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",fn._l10nPromise.get("editor_ink_canvas_aria_label").then(Gt=>{var tn;return(tn=this.canvas)==null?void 0:tn.setAttribute("aria-label",Gt)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Ot=new WeakSet,$n=function(){rn(this,ot,new ResizeObserver(Gt=>{const tn=Gt[0].contentRect;tn.width&&tn.height&&this.setDimensions(tn.width,tn.height)})),At(this,ot).observe(this.div)},ct=new WeakSet,In=function(){if(!At(this,j))return;const[Gt,tn]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*Gt),this.canvas.height=Math.ceil(this.height*tn),Qt(this,xt,Wn).call(this)},yt=new WeakSet,ir=function(Gt,tn){const Bt=Qt(this,ln,Hn).call(this),Dt=(Gt-Bt)/At(this,at),Ft=(tn-Bt)/At(this,_e);this.scaleFactor=Math.min(Dt,Ft)},xt=new WeakSet,Wn=function(){const Gt=Qt(this,ln,Hn).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Gt,this.translationY*this.scaleFactor+Gt)},Ht=new WeakSet,sr=function(Gt){const tn=new Path2D;for(let Bt=0,Dt=Gt.length;Bt<Dt;Bt++){const[Ft,nn,sn,an]=Gt[Bt];Bt===0&&tn.moveTo(...Ft),tn.bezierCurveTo(nn[0],nn[1],sn[0],sn[1],an[0],an[1])}return tn},Ut=new WeakSet,wr=function(Gt,tn,Bt,Dt){const nn=[],sn=this.thickness/2;let an,cn;for(const pn of this.paths){an=[],cn=[];for(let An=0,mn=pn.length;An<mn;An++){const[dn,bn,xn,Pn]=pn[An],gn=Gt*(dn[0]+tn)+sn,En=Dt-Gt*(dn[1]+Bt)-sn,wn=Gt*(bn[0]+tn)+sn,Fn=Dt-Gt*(bn[1]+Bt)-sn,Ln=Gt*(xn[0]+tn)+sn,Rn=Dt-Gt*(xn[1]+Bt)-sn,Tn=Gt*(Pn[0]+tn)+sn,kn=Dt-Gt*(Pn[1]+Bt)-sn;An===0&&(an.push(gn,En),cn.push(gn,En)),an.push(wn,Fn,Ln,Rn,Tn,kn),Qt(this,zt,kr).call(this,gn,En,wn,Fn,Ln,Rn,Tn,kn,4,cn)}nn.push({bezier:an,points:cn})}return nn},zt=new WeakSet,kr=function(Gt,tn,Bt,Dt,Ft,nn,sn,an,cn,pn){if(Qt(this,en,Rr).call(this,Gt,tn,Bt,Dt,Ft,nn,sn,an)){pn.push(sn,an);return}for(let An=1;An<cn-1;An++){const mn=An/cn,dn=1-mn;let bn=mn*Gt+dn*Bt,xn=mn*tn+dn*Dt,Pn=mn*Bt+dn*Ft,gn=mn*Dt+dn*nn;const En=mn*Ft+dn*sn,wn=mn*nn+dn*an;bn=mn*bn+dn*Pn,xn=mn*xn+dn*gn,Pn=mn*Pn+dn*En,gn=mn*gn+dn*wn,bn=mn*bn+dn*Pn,xn=mn*xn+dn*gn,pn.push(bn,xn)}pn.push(sn,an)},en=new WeakSet,Rr=function(Gt,tn,Bt,Dt,Ft,nn,sn,an){const pn=(3*Bt-2*Gt-sn)**2,An=(3*Dt-2*tn-an)**2,mn=(3*Ft-Gt-2*sn)**2,dn=(3*nn-tn-2*an)**2;return Math.max(pn,mn)+Math.max(An,dn)<=10},Jt=new WeakSet,or=function(){let Gt=1/0,tn=-1/0,Bt=1/0,Dt=-1/0;for(const Ft of this.paths)for(const[nn,sn,an,cn]of Ft){const pn=o.Util.bezierBoundingBox(...nn,...sn,...an,...cn);Gt=Math.min(Gt,pn[0]),Bt=Math.min(Bt,pn[1]),tn=Math.max(tn,pn[2]),Dt=Math.max(Dt,pn[3])}return[Gt,Bt,tn,Dt]},ln=new WeakSet,Hn=function(){return At(this,et)?Math.ceil(this.thickness*this.parent.scaleFactor):0},hn=new WeakSet,Nn=function(Gt=!1){if(this.isEmpty())return;if(!At(this,et)){Qt(this,ft,Dn).call(this);return}const tn=Qt(this,Jt,or).call(this),Bt=Qt(this,ln,Hn).call(this);rn(this,at,Math.max(h,tn[2]-tn[0])),rn(this,_e,Math.max(h,tn[3]-tn[1]));const Dt=Math.ceil(Bt+At(this,at)*this.scaleFactor),Ft=Math.ceil(Bt+At(this,_e)*this.scaleFactor),[nn,sn]=this.parent.viewportBaseDimensions;this.width=Dt/nn,this.height=Ft/sn,rn(this,_,Dt/Ft),Qt(this,yn,ar).call(this);const an=this.translationX,cn=this.translationY;this.translationX=-tn[0],this.translationY=-tn[1],Qt(this,ct,In).call(this),Qt(this,ft,Dn).call(this),rn(this,st,Dt),rn(this,$,Ft),this.setDims(Dt,Ft);const pn=Gt?Bt/this.scaleFactor/2:0;this.translate(an-this.translationX-pn,cn-this.translationY-pn)},yn=new WeakSet,ar=function(){const{style:Gt}=this.div;At(this,_)>=1?(Gt.minHeight=`${h}px`,Gt.minWidth=`${Math.round(At(this,_)*h)}px`):(Gt.minWidth=`${h}px`,Gt.minHeight=`${Math.round(h/At(this,_))}px`)},qt(g,Ht),_n(g,"_defaultColor",null),_n(g,"_defaultOpacity",1),_n(g,"_defaultThickness",1),_n(g,"_l10nPromise"),_n(g,"_type","ink"),i.InkEditor=g},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.fitCurve=void 0;const o=s(26);i.fitCurve=o},e=>{function i(tt,b,et){if(!Array.isArray(tt))throw new TypeError("First argument should be an array");if(tt.forEach(st=>{if(!Array.isArray(st)||st.some($=>typeof $!="number")||st.length!==tt[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),tt=tt.filter((st,$)=>$===0||!st.every((it,ut)=>it===tt[$-1][ut])),tt.length<2)return[];const j=tt.length,rt=at(tt[1],tt[0]),ot=at(tt[j-2],tt[j-1]);return s(tt,rt,ot,b,et)}function s(tt,b,et,j,rt){var st,$,it,ut,pt,mt,ht,_t,Vt,Wt,Nt,Lt,kt;if(tt.length===2)return Lt=nt.vectorLen(nt.subtract(tt[0],tt[1]))/3,st=[tt[0],nt.addArrays(tt[0],nt.mulItems(b,Lt)),nt.addArrays(tt[1],nt.mulItems(et,Lt)),tt[1]],[st];if($=h(tt),[st,ut,mt]=o(tt,$,$,b,et,rt),ut===0||ut<j)return[st];if(ut<j*j)for(it=$,pt=ut,ht=mt,kt=0;kt<20;kt++){if(it=c(st,tt,it),[st,ut,mt]=o(tt,$,it,b,et,rt),ut<j)return[st];if(mt===ht){let Mt=ut/pt;if(Mt>.9999&&Mt<1.0001)break}pt=ut,ht=mt}return Nt=[],_t=nt.subtract(tt[mt-1],tt[mt+1]),_t.every(Mt=>Mt===0)&&(_t=nt.subtract(tt[mt-1],tt[mt]),[_t[0],_t[1]]=[-_t[1],_t[0]]),Vt=nt.normalize(_t),Wt=nt.mulItems(Vt,-1),Nt=Nt.concat(s(tt.slice(0,mt+1),b,Vt,j,rt)),Nt=Nt.concat(s(tt.slice(mt),Wt,et,j,rt)),Nt}function o(tt,b,et,j,rt,ot){var st,$,it;return st=a(tt,et,j,rt),[$,it]=g(tt,st,b),ot&&ot({bez:st,points:tt,params:b,maxErr:$,maxPoint:it}),[st,$,it]}function a(tt,b,et,j){var rt,ot,st,$,it,ut,pt,mt,ht,_t,Vt,Wt,Nt,Lt,kt,Mt,Et,jt=tt[0],$t=tt[tt.length-1];for(rt=[jt,null,null,$t],ot=nt.zeros_Xx2x2(b.length),Nt=0,Lt=b.length;Nt<Lt;Nt++)Mt=b[Nt],Et=1-Mt,st=ot[Nt],st[0]=nt.mulItems(et,3*Mt*(Et*Et)),st[1]=nt.mulItems(j,3*Et*(Mt*Mt));for($=[[0,0],[0,0]],it=[0,0],Nt=0,Lt=tt.length;Nt<Lt;Nt++)Mt=b[Nt],st=ot[Nt],$[0][0]+=nt.dot(st[0],st[0]),$[0][1]+=nt.dot(st[0],st[1]),$[1][0]+=nt.dot(st[0],st[1]),$[1][1]+=nt.dot(st[1],st[1]),kt=nt.subtract(tt[Nt],lt.q([jt,jt,$t,$t],Mt)),it[0]+=nt.dot(st[0],kt),it[1]+=nt.dot(st[1],kt);return ut=$[0][0]*$[1][1]-$[1][0]*$[0][1],pt=$[0][0]*it[1]-$[1][0]*it[0],mt=it[0]*$[1][1]-it[1]*$[0][1],ht=ut===0?0:mt/ut,_t=ut===0?0:pt/ut,Wt=nt.vectorLen(nt.subtract(jt,$t)),Vt=1e-6*Wt,ht<Vt||_t<Vt?(rt[1]=nt.addArrays(jt,nt.mulItems(et,Wt/3)),rt[2]=nt.addArrays($t,nt.mulItems(j,Wt/3))):(rt[1]=nt.addArrays(jt,nt.mulItems(et,ht)),rt[2]=nt.addArrays($t,nt.mulItems(j,_t))),rt}function c(tt,b,et){return et.map((j,rt)=>d(tt,b[rt],j))}function d(tt,b,et){var j=nt.subtract(lt.q(tt,et),b),rt=lt.qprime(tt,et),ot=nt.mulMatrix(j,rt),st=nt.sum(nt.squareItems(rt))+2*nt.mulMatrix(j,lt.qprimeprime(tt,et));return st===0?et:et-ot/st}function h(tt){var b=[],et,j,rt;return tt.forEach((ot,st)=>{et=st?j+nt.vectorLen(nt.subtract(ot,rt)):0,b.push(et),j=et,rt=ot}),b=b.map(ot=>ot/j),b}function g(tt,b,et){var j,rt,ot,st,$,it,ut,pt;rt=0,ot=Math.floor(tt.length/2);const mt=_(b,10);for($=0,it=tt.length;$<it;$++)ut=tt[$],pt=_e(b,et[$],mt,10),st=nt.subtract(lt.q(b,pt),ut),j=st[0]*st[0]+st[1]*st[1],j>rt&&(rt=j,ot=$);return[rt,ot]}var _=function(tt,b){for(var et,j=[0],rt=tt[0],ot=0,st=1;st<=b;st++)et=lt.q(tt,st/b),ot+=nt.vectorLen(nt.subtract(et,rt)),j.push(ot),rt=et;return j=j.map($=>$/ot),j};function _e(tt,b,et,j){if(b<0)return 0;if(b>1)return 1;for(var rt,ot,st,$,it,ut=1;ut<=j;ut++)if(b<=et[ut]){$=(ut-1)/j,st=ut/j,ot=et[ut-1],rt=et[ut],it=(b-ot)/(rt-ot)*(st-$)+$;break}return it}function at(tt,b){return nt.normalize(nt.subtract(tt,b))}class nt{static zeros_Xx2x2(b){for(var et=[];b--;)et.push([0,0]);return et}static mulItems(b,et){return b.map(j=>j*et)}static mulMatrix(b,et){return b.reduce((j,rt,ot)=>j+rt*et[ot],0)}static subtract(b,et){return b.map((j,rt)=>j-et[rt])}static addArrays(b,et){return b.map((j,rt)=>j+et[rt])}static addItems(b,et){return b.map(j=>j+et)}static sum(b){return b.reduce((et,j)=>et+j)}static dot(b,et){return nt.mulMatrix(b,et)}static vectorLen(b){return Math.hypot(...b)}static divItems(b,et){return b.map(j=>j/et)}static squareItems(b){return b.map(et=>et*et)}static normalize(b){return this.divItems(b,this.vectorLen(b))}}class lt{static q(b,et){var j=1-et,rt=nt.mulItems(b[0],j*j*j),ot=nt.mulItems(b[1],3*j*j*et),st=nt.mulItems(b[2],3*j*et*et),$=nt.mulItems(b[3],et*et*et);return nt.addArrays(nt.addArrays(rt,ot),nt.addArrays(st,$))}static qprime(b,et){var j=1-et,rt=nt.mulItems(nt.subtract(b[1],b[0]),3*j*j),ot=nt.mulItems(nt.subtract(b[2],b[1]),6*j*et),st=nt.mulItems(nt.subtract(b[3],b[2]),3*et*et);return nt.addArrays(nt.addArrays(rt,ot),st)}static qprimeprime(b,et){return nt.addArrays(nt.mulItems(nt.addArrays(nt.subtract(b[2],nt.mulItems(b[1],2)),b[0]),6*(1-et)),nt.mulItems(nt.addArrays(nt.subtract(b[3],nt.mulItems(b[2],2)),b[1]),6*et))}}e.exports=i,e.exports.fitCubic=s,e.exports.createTangent=at},(e,i,s)=>{var ft,lr,St,cr,Tt,ur;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationLayer=void 0;var o=s(1),a=s(8),c=s(5),d=s(28),h=s(29);const g=1e3,_=9,_e=new WeakSet;function at(It){return{width:It[2]-It[0],height:It[3]-It[1]}}class nt{static create(ct){switch(ct.data.annotationType){case o.AnnotationType.LINK:return new tt(ct);case o.AnnotationType.TEXT:return new b(ct);case o.AnnotationType.WIDGET:switch(ct.data.fieldType){case"Tx":return new j(ct);case"Btn":return ct.data.radioButton?new ot(ct):ct.data.checkBox?new rt(ct):new st(ct);case"Ch":return new $(ct)}return new et(ct);case o.AnnotationType.POPUP:return new it(ct);case o.AnnotationType.FREETEXT:return new pt(ct);case o.AnnotationType.LINE:return new mt(ct);case o.AnnotationType.SQUARE:return new ht(ct);case o.AnnotationType.CIRCLE:return new _t(ct);case o.AnnotationType.POLYLINE:return new Vt(ct);case o.AnnotationType.CARET:return new Nt(ct);case o.AnnotationType.INK:return new Lt(ct);case o.AnnotationType.POLYGON:return new Wt(ct);case o.AnnotationType.HIGHLIGHT:return new kt(ct);case o.AnnotationType.UNDERLINE:return new Mt(ct);case o.AnnotationType.SQUIGGLY:return new Et(ct);case o.AnnotationType.STRIKEOUT:return new jt(ct);case o.AnnotationType.STAMP:return new $t(ct);case o.AnnotationType.FILEATTACHMENT:return new Kt(ct);default:return new lt(ct)}}}class lt{constructor(ct,{isRenderable:gt=!1,ignoreBorder:yt=!1,createQuadrilaterals:vt=!1}={}){this.isRenderable=gt,this.data=ct.data,this.layer=ct.layer,this.page=ct.page,this.viewport=ct.viewport,this.linkService=ct.linkService,this.downloadManager=ct.downloadManager,this.imageResourcesPath=ct.imageResourcesPath,this.renderForms=ct.renderForms,this.svgFactory=ct.svgFactory,this.annotationStorage=ct.annotationStorage,this.enableScripting=ct.enableScripting,this.hasJSActions=ct.hasJSActions,this._fieldObjects=ct.fieldObjects,this._mouseState=ct.mouseState,gt&&(this.container=this._createContainer(yt)),vt&&(this.quadrilaterals=this._createQuadrilaterals(yt))}_createContainer(ct=!1){const gt=this.data,yt=this.page,vt=this.viewport,xt=document.createElement("section"),{width:Rt,height:Ht}=at(gt.rect),[Zt,Ut,Xt,zt]=vt.viewBox,Yt=Xt-Zt,en=zt-Ut;xt.setAttribute("data-annotation-id",gt.id);const Pt=o.Util.normalizeRect([gt.rect[0],yt.view[3]-gt.rect[1]+yt.view[1],gt.rect[2],yt.view[3]-gt.rect[3]+yt.view[1]]);if(!ct&&gt.borderStyle.width>0){xt.style.borderWidth=`${gt.borderStyle.width}px`;const on=gt.borderStyle.horizontalCornerRadius,ln=gt.borderStyle.verticalCornerRadius;if(on>0||ln>0){const hn=`calc(${on}px * var(--scale-factor)) / calc(${ln}px * var(--scale-factor))`;xt.style.borderRadius=hn}else if(this instanceof ot){const hn=`calc(${Rt}px * var(--scale-factor)) / calc(${Ht}px * var(--scale-factor))`;xt.style.borderRadius=hn}switch(gt.borderStyle.style){case o.AnnotationBorderStyleType.SOLID:xt.style.borderStyle="solid";break;case o.AnnotationBorderStyleType.DASHED:xt.style.borderStyle="dashed";break;case o.AnnotationBorderStyleType.BEVELED:(0,o.warn)("Unimplemented border style: beveled");break;case o.AnnotationBorderStyleType.INSET:(0,o.warn)("Unimplemented border style: inset");break;case o.AnnotationBorderStyleType.UNDERLINE:xt.style.borderBottomStyle="solid";break}const un=gt.borderColor||null;un?xt.style.borderColor=o.Util.makeHexColor(un[0]|0,un[1]|0,un[2]|0):xt.style.borderWidth=0}xt.style.left=`${100*(Pt[0]-Zt)/Yt}%`,xt.style.top=`${100*(Pt[1]-Ut)/en}%`;const{rotation:Jt}=gt;return gt.hasOwnCanvas||Jt===0?(xt.style.width=`${100*Rt/Yt}%`,xt.style.height=`${100*Ht/en}%`):this.setRotation(Jt,xt),xt}setRotation(ct,gt=this.container){const[yt,vt,xt,Rt]=this.viewport.viewBox,Ht=xt-yt,Zt=Rt-vt,{width:Ut,height:Xt}=at(this.data.rect);let zt,Yt;ct%180===0?(zt=100*Ut/Ht,Yt=100*Xt/Zt):(zt=100*Xt/Ht,Yt=100*Ut/Zt),gt.style.width=`${zt}%`,gt.style.height=`${Yt}%`,gt.setAttribute("data-main-rotation",(360-ct)%360)}get _commonActions(){const ct=(gt,yt,vt)=>{const xt=vt.detail[gt];vt.target.style[yt]=d.ColorConverters[`${xt[0]}_HTML`](xt.slice(1))};return(0,o.shadow)(this,"_commonActions",{display:gt=>{const yt=gt.detail.display%2===1;this.container.style.visibility=yt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:yt,print:gt.detail.display===0||gt.detail.display===3})},print:gt=>{this.annotationStorage.setValue(this.data.id,{print:gt.detail.print})},hidden:gt=>{this.container.style.visibility=gt.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:gt.detail.hidden})},focus:gt=>{setTimeout(()=>gt.target.focus({preventScroll:!1}),0)},userName:gt=>{gt.target.title=gt.detail.userName},readonly:gt=>{gt.detail.readonly?gt.target.setAttribute("readonly",""):gt.target.removeAttribute("readonly")},required:gt=>{this._setRequired(gt.target,gt.detail.required)},bgColor:gt=>{ct("bgColor","backgroundColor",gt)},fillColor:gt=>{ct("fillColor","backgroundColor",gt)},fgColor:gt=>{ct("fgColor","color",gt)},textColor:gt=>{ct("textColor","color",gt)},borderColor:gt=>{ct("borderColor","borderColor",gt)},strokeColor:gt=>{ct("strokeColor","borderColor",gt)},rotation:gt=>{const yt=gt.detail.rotation;this.setRotation(yt),this.annotationStorage.setValue(this.data.id,{rotation:yt})}})}_dispatchEventFromSandbox(ct,gt){const yt=this._commonActions;for(const vt of Object.keys(gt.detail)){const xt=ct[vt]||yt[vt];xt&&xt(gt)}}_setDefaultPropertiesFromJS(ct){if(!this.enableScripting)return;const gt=this.annotationStorage.getRawValue(this.data.id);if(!gt)return;const yt=this._commonActions;for(const[vt,xt]of Object.entries(gt)){const Rt=yt[vt];if(Rt){const Ht={detail:{[vt]:xt},target:ct};Rt(Ht),delete gt[vt]}}}_createQuadrilaterals(ct=!1){if(!this.data.quadPoints)return null;const gt=[],yt=this.data.rect;for(const vt of this.data.quadPoints)this.data.rect=[vt[2].x,vt[2].y,vt[1].x,vt[1].y],gt.push(this._createContainer(ct));return this.data.rect=yt,gt}_createPopup(ct,gt){let yt=this.container;this.quadrilaterals&&(ct=ct||this.quadrilaterals,yt=this.quadrilaterals[0]),ct||(ct=document.createElement("div"),ct.className="popupTriggerArea",yt.append(ct));const xt=new ut({container:yt,trigger:ct,color:gt.color,titleObj:gt.titleObj,modificationDate:gt.modificationDate,contentsObj:gt.contentsObj,richText:gt.richText,hideWrapper:!0}).render();xt.style.left="100%",yt.append(xt)}_renderQuadrilaterals(ct){for(const gt of this.quadrilaterals)gt.className=ct;return this.quadrilaterals}render(){(0,o.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(ct,gt=null){const yt=[];if(this._fieldObjects){const vt=this._fieldObjects[ct];if(vt)for(const{page:xt,id:Rt,exportValues:Ht}of vt){if(xt===-1||Rt===gt)continue;const Zt=typeof Ht=="string"?Ht:null,Ut=document.querySelector(`[data-element-id="${Rt}"]`);if(Ut&&!_e.has(Ut)){(0,o.warn)(`_getElementsByName - element not allowed: ${Rt}`);continue}yt.push({id:Rt,exportValue:Zt,domElement:Ut})}return yt}for(const vt of document.getElementsByName(ct)){const{id:xt,exportValue:Rt}=vt;xt!==gt&&_e.has(vt)&&yt.push({id:xt,exportValue:Rt,domElement:vt})}return yt}static get platform(){const ct=typeof navigator<"u"?navigator.platform:"";return(0,o.shadow)(this,"platform",{isWin:ct.includes("Win"),isMac:ct.includes("Mac")})}}class tt extends lt{constructor(ct,gt=null){super(ct,{isRenderable:!0,ignoreBorder:!!(gt!=null&&gt.ignoreBorder),createQuadrilaterals:!0}),this.isTooltipOnly=ct.data.isTooltipOnly}render(){const{data:ct,linkService:gt}=this,yt=document.createElement("a");yt.setAttribute("data-element-id",ct.id);let vt=!1;return ct.url?(gt.addLinkAttributes(yt,ct.url,ct.newWindow),vt=!0):ct.action?(this._bindNamedAction(yt,ct.action),vt=!0):ct.dest?(this._bindLink(yt,ct.dest),vt=!0):(ct.actions&&(ct.actions.Action||ct.actions["Mouse Up"]||ct.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(yt,ct),vt=!0),ct.resetForm?(this._bindResetFormAction(yt,ct.resetForm),vt=!0):this.isTooltipOnly&&!vt&&(this._bindLink(yt,""),vt=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((xt,Rt)=>{const Ht=Rt===0?yt:yt.cloneNode();return xt.append(Ht),xt}):(this.container.className="linkAnnotation",vt&&this.container.append(yt),this.container)}_bindLink(ct,gt){ct.href=this.linkService.getDestinationHash(gt),ct.onclick=()=>(gt&&this.linkService.goToDestination(gt),!1),(gt||gt==="")&&(ct.className="internalLink")}_bindNamedAction(ct,gt){ct.href=this.linkService.getAnchorUrl(""),ct.onclick=()=>(this.linkService.executeNamedAction(gt),!1),ct.className="internalLink"}_bindJSAction(ct,gt){ct.href=this.linkService.getAnchorUrl("");const yt=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const vt of Object.keys(gt.actions)){const xt=yt.get(vt);xt&&(ct[xt]=()=>{var Rt;return(Rt=this.linkService.eventBus)==null||Rt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:gt.id,name:vt}}),!1})}ct.onclick||(ct.onclick=()=>!1),ct.className="internalLink"}_bindResetFormAction(ct,gt){const yt=ct.onclick;if(yt||(ct.href=this.linkService.getAnchorUrl("")),ct.className="internalLink",!this._fieldObjects){(0,o.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),yt||(ct.onclick=()=>!1);return}ct.onclick=()=>{var Xt;yt&&yt();const{fields:vt,refs:xt,include:Rt}=gt,Ht=[];if(vt.length!==0||xt.length!==0){const zt=new Set(xt);for(const Yt of vt){const en=this._fieldObjects[Yt]||[];for(const{id:Pt}of en)zt.add(Pt)}for(const Yt of Object.values(this._fieldObjects))for(const en of Yt)zt.has(en.id)===Rt&&Ht.push(en)}else for(const zt of Object.values(this._fieldObjects))Ht.push(...zt);const Zt=this.annotationStorage,Ut=[];for(const zt of Ht){const{id:Yt}=zt;switch(Ut.push(Yt),zt.type){case"text":{const Pt=zt.defaultValue||"";Zt.setValue(Yt,{value:Pt});break}case"checkbox":case"radiobutton":{const Pt=zt.defaultValue===zt.exportValues;Zt.setValue(Yt,{value:Pt});break}case"combobox":case"listbox":{const Pt=zt.defaultValue||"";Zt.setValue(Yt,{value:Pt});break}default:continue}const en=document.querySelector(`[data-element-id="${Yt}"]`);if(en){if(!_e.has(en)){(0,o.warn)(`_bindResetFormAction - element not allowed: ${Yt}`);continue}}else continue;en.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Xt=this.linkService.eventBus)==null||Xt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Ut,name:"ResetForm"}})),!1}}}class b extends lt{constructor(ct){var yt,vt,xt;const gt=!!(ct.data.hasPopup||(yt=ct.data.titleObj)!=null&&yt.str||(vt=ct.data.contentsObj)!=null&&vt.str||(xt=ct.data.richText)!=null&&xt.str);super(ct,{isRenderable:gt})}render(){this.container.className="textAnnotation";const ct=document.createElement("img");return ct.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",ct.alt="[{{type}} Annotation]",ct.dataset.l10nId="text_annotation_type",ct.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(ct,this.data),this.container.append(ct),this.container}}class et extends lt{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(ct){const{isWin:gt,isMac:yt}=lt.platform;return gt&&ct.ctrlKey||yt&&ct.metaKey}_setEventListener(ct,gt,yt,vt){gt.includes("mouse")?ct.addEventListener(gt,xt=>{var Rt;(Rt=this.linkService.eventBus)==null||Rt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:yt,value:vt(xt),shift:xt.shiftKey,modifier:this._getKeyModifier(xt)}})}):ct.addEventListener(gt,xt=>{var Rt;(Rt=this.linkService.eventBus)==null||Rt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:yt,value:vt(xt)}})})}_setEventListeners(ct,gt,yt){var vt;for(const[xt,Rt]of gt)(Rt==="Action"||(vt=this.data.actions)!=null&&vt[Rt])&&this._setEventListener(ct,xt,Rt,yt)}_setBackgroundColor(ct){const gt=this.data.backgroundColor||null;ct.style.backgroundColor=gt===null?"transparent":o.Util.makeHexColor(gt[0],gt[1],gt[2])}_setTextStyle(ct){const gt=["left","center","right"],{fontColor:yt}=this.data.defaultAppearanceData,vt=this.data.defaultAppearanceData.fontSize||_,xt=ct.style;let Rt;if(this.data.multiLine){const Ht=Math.abs(this.data.rect[3]-this.data.rect[1]),Zt=Math.round(Ht/(o.LINE_FACTOR*vt))||1,Ut=Ht/Zt;Rt=Math.min(vt,Math.round(Ut/o.LINE_FACTOR))}else{const Ht=Math.abs(this.data.rect[3]-this.data.rect[1]);Rt=Math.min(vt,Math.round(Ht/o.LINE_FACTOR))}xt.fontSize=`calc(${Rt}px * var(--scale-factor))`,xt.color=o.Util.makeHexColor(yt[0],yt[1],yt[2]),this.data.textAlignment!==null&&(xt.textAlign=gt[this.data.textAlignment])}_setRequired(ct,gt){gt?ct.setAttribute("required",!0):ct.removeAttribute("required"),ct.setAttribute("aria-required",gt)}}class j extends et{constructor(ct){const gt=ct.renderForms||!ct.data.hasAppearance&&!!ct.data.fieldValue;super(ct,{isRenderable:gt})}setPropertyOnSiblings(ct,gt,yt,vt){const xt=this.annotationStorage;for(const Rt of this._getElementsByName(ct.name,ct.id))Rt.domElement&&(Rt.domElement[gt]=yt),xt.setValue(Rt.id,{[vt]:yt})}render(){var vt;const ct=this.annotationStorage,gt=this.data.id;this.container.className="textWidgetAnnotation";let yt=null;if(this.renderForms){const xt=ct.getValue(gt,{value:this.data.fieldValue});let Rt=xt.formattedValue||xt.value||"";const Ht=ct.getValue(gt,{charLimit:this.data.maxLen}).charLimit;Ht&&Rt.length>Ht&&(Rt=Rt.slice(0,Ht));const Zt={userValue:Rt,formattedValue:null,valueOnFocus:""};this.data.multiLine?(yt=document.createElement("textarea"),yt.textContent=Rt,this.data.doNotScroll&&(yt.style.overflowY="hidden")):(yt=document.createElement("input"),yt.type="text",yt.setAttribute("value",Rt),this.data.doNotScroll&&(yt.style.overflowX="hidden")),_e.add(yt),yt.setAttribute("data-element-id",gt),yt.disabled=this.data.readOnly,yt.name=this.data.fieldName,yt.tabIndex=g,this._setRequired(yt,this.data.required),Ht&&(yt.maxLength=Ht),yt.addEventListener("input",Xt=>{ct.setValue(gt,{value:Xt.target.value}),this.setPropertyOnSiblings(yt,"value",Xt.target.value,"value")}),yt.addEventListener("resetform",Xt=>{const zt=this.data.defaultFieldValue??"";yt.value=Zt.userValue=zt,Zt.formattedValue=null});let Ut=Xt=>{const{formattedValue:zt}=Zt;zt!=null&&(Xt.target.value=zt),Xt.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){yt.addEventListener("focus",zt=>{Zt.userValue&&(zt.target.value=Zt.userValue),Zt.valueOnFocus=zt.target.value}),yt.addEventListener("updatefromsandbox",zt=>{const Yt={value(en){Zt.userValue=en.detail.value??"",ct.setValue(gt,{value:Zt.userValue.toString()}),en.target.value=Zt.userValue},formattedValue(en){const{formattedValue:Pt}=en.detail;Zt.formattedValue=Pt,Pt!=null&&en.target!==document.activeElement&&(en.target.value=Pt),ct.setValue(gt,{formattedValue:Pt})},selRange(en){en.target.setSelectionRange(...en.detail.selRange)},charLimit:en=>{var ln;const{charLimit:Pt}=en.detail,{target:Jt}=en;if(Pt===0){Jt.removeAttribute("maxLength");return}Jt.setAttribute("maxLength",Pt);let on=Zt.userValue;!on||on.length<=Pt||(on=on.slice(0,Pt),Jt.value=Zt.userValue=on,ct.setValue(gt,{value:on}),(ln=this.linkService.eventBus)==null||ln.dispatch("dispatcheventinsandbox",{source:this,detail:{id:gt,name:"Keystroke",value:on,willCommit:!0,commitKey:1,selStart:Jt.selectionStart,selEnd:Jt.selectionEnd}}))}};this._dispatchEventFromSandbox(Yt,zt)}),yt.addEventListener("keydown",zt=>{var Pt;let Yt=-1;if(zt.key==="Escape"?Yt=0:zt.key==="Enter"?Yt=2:zt.key==="Tab"&&(Yt=3),Yt===-1)return;const{value:en}=zt.target;Zt.valueOnFocus!==en&&(Zt.userValue=en,(Pt=this.linkService.eventBus)==null||Pt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:gt,name:"Keystroke",value:en,willCommit:!0,commitKey:Yt,selStart:zt.target.selectionStart,selEnd:zt.target.selectionEnd}}))});const Xt=Ut;Ut=null,yt.addEventListener("blur",zt=>{var en;const{value:Yt}=zt.target;Zt.userValue=Yt,this._mouseState.isDown&&Zt.valueOnFocus!==Yt&&((en=this.linkService.eventBus)==null||en.dispatch("dispatcheventinsandbox",{source:this,detail:{id:gt,name:"Keystroke",value:Yt,willCommit:!0,commitKey:1,selStart:zt.target.selectionStart,selEnd:zt.target.selectionEnd}})),Xt(zt)}),(vt=this.data.actions)!=null&&vt.Keystroke&&yt.addEventListener("beforeinput",zt=>{var hn;const{data:Yt,target:en}=zt,{value:Pt,selectionStart:Jt,selectionEnd:on}=en;let ln=Jt,un=on;switch(zt.inputType){case"deleteWordBackward":{const vn=Pt.substring(0,Jt).match(/\w*[^\w]*$/);vn&&(ln-=vn[0].length);break}case"deleteWordForward":{const vn=Pt.substring(Jt).match(/^[^\w]*\w*/);vn&&(un+=vn[0].length);break}case"deleteContentBackward":Jt===on&&(ln-=1);break;case"deleteContentForward":Jt===on&&(un+=1);break}zt.preventDefault(),(hn=this.linkService.eventBus)==null||hn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:gt,name:"Keystroke",value:Pt,change:Yt||"",willCommit:!1,selStart:ln,selEnd:un}})}),this._setEventListeners(yt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],zt=>zt.target.value)}if(Ut&&yt.addEventListener("blur",Ut),this.data.comb){const zt=(this.data.rect[2]-this.data.rect[0])/Ht;yt.classList.add("comb"),yt.style.letterSpacing=`calc(${zt}px * var(--scale-factor) - 1ch)`}}else yt=document.createElement("div"),yt.textContent=this.data.fieldValue,yt.style.verticalAlign="middle",yt.style.display="table-cell";return this._setTextStyle(yt),this._setBackgroundColor(yt),this._setDefaultPropertiesFromJS(yt),this.container.append(yt),this.container}}class rt extends et{constructor(ct){super(ct,{isRenderable:ct.renderForms})}render(){const ct=this.annotationStorage,gt=this.data,yt=gt.id;let vt=ct.getValue(yt,{value:gt.exportValue===gt.fieldValue}).value;typeof vt=="string"&&(vt=vt!=="Off",ct.setValue(yt,{value:vt})),this.container.className="buttonWidgetAnnotation checkBox";const xt=document.createElement("input");return _e.add(xt),xt.setAttribute("data-element-id",yt),xt.disabled=gt.readOnly,this._setRequired(xt,this.data.required),xt.type="checkbox",xt.name=gt.fieldName,vt&&xt.setAttribute("checked",!0),xt.setAttribute("exportValue",gt.exportValue),xt.tabIndex=g,xt.addEventListener("change",Rt=>{const{name:Ht,checked:Zt}=Rt.target;for(const Ut of this._getElementsByName(Ht,yt)){const Xt=Zt&&Ut.exportValue===gt.exportValue;Ut.domElement&&(Ut.domElement.checked=Xt),ct.setValue(Ut.id,{value:Xt})}ct.setValue(yt,{value:Zt})}),xt.addEventListener("resetform",Rt=>{const Ht=gt.defaultFieldValue||"Off";Rt.target.checked=Ht===gt.exportValue}),this.enableScripting&&this.hasJSActions&&(xt.addEventListener("updatefromsandbox",Rt=>{const Ht={value(Zt){Zt.target.checked=Zt.detail.value!=="Off",ct.setValue(yt,{value:Zt.target.checked})}};this._dispatchEventFromSandbox(Ht,Rt)}),this._setEventListeners(xt,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Rt=>Rt.target.checked)),this._setBackgroundColor(xt),this._setDefaultPropertiesFromJS(xt),this.container.append(xt),this.container}}class ot extends et{constructor(ct){super(ct,{isRenderable:ct.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const ct=this.annotationStorage,gt=this.data,yt=gt.id;let vt=ct.getValue(yt,{value:gt.fieldValue===gt.buttonValue}).value;typeof vt=="string"&&(vt=vt!==gt.buttonValue,ct.setValue(yt,{value:vt}));const xt=document.createElement("input");if(_e.add(xt),xt.setAttribute("data-element-id",yt),xt.disabled=gt.readOnly,this._setRequired(xt,this.data.required),xt.type="radio",xt.name=gt.fieldName,vt&&xt.setAttribute("checked",!0),xt.tabIndex=g,xt.addEventListener("change",Rt=>{const{name:Ht,checked:Zt}=Rt.target;for(const Ut of this._getElementsByName(Ht,yt))ct.setValue(Ut.id,{value:!1});ct.setValue(yt,{value:Zt})}),xt.addEventListener("resetform",Rt=>{const Ht=gt.defaultFieldValue;Rt.target.checked=Ht!=null&&Ht===gt.buttonValue}),this.enableScripting&&this.hasJSActions){const Rt=gt.buttonValue;xt.addEventListener("updatefromsandbox",Ht=>{const Zt={value:Ut=>{const Xt=Rt===Ut.detail.value;for(const zt of this._getElementsByName(Ut.target.name)){const Yt=Xt&&zt.id===yt;zt.domElement&&(zt.domElement.checked=Yt),ct.setValue(zt.id,{value:Yt})}}};this._dispatchEventFromSandbox(Zt,Ht)}),this._setEventListeners(xt,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ht=>Ht.target.checked)}return this._setBackgroundColor(xt),this._setDefaultPropertiesFromJS(xt),this.container.append(xt),this.container}}class st extends tt{constructor(ct){super(ct,{ignoreBorder:ct.data.hasAppearance})}render(){const ct=super.render();ct.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(ct.title=this.data.alternativeText);const gt=ct.lastChild;return this.enableScripting&&this.hasJSActions&&gt&&(this._setDefaultPropertiesFromJS(gt),gt.addEventListener("updatefromsandbox",yt=>{this._dispatchEventFromSandbox({},yt)})),ct}}class $ extends et{constructor(ct){super(ct,{isRenderable:ct.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const ct=this.annotationStorage,gt=this.data.id,yt=ct.getValue(gt,{value:this.data.fieldValue}),vt=document.createElement("select");_e.add(vt),vt.setAttribute("data-element-id",gt),vt.disabled=this.data.readOnly,this._setRequired(vt,this.data.required),vt.name=this.data.fieldName,vt.tabIndex=g;let xt=this.data.combo&&this.data.options.length>0;this.data.combo||(vt.size=this.data.options.length,this.data.multiSelect&&(vt.multiple=!0)),vt.addEventListener("resetform",Ut=>{const Xt=this.data.defaultFieldValue;for(const zt of vt.options)zt.selected=zt.value===Xt});for(const Ut of this.data.options){const Xt=document.createElement("option");Xt.textContent=Ut.displayValue,Xt.value=Ut.exportValue,yt.value.includes(Ut.exportValue)&&(Xt.setAttribute("selected",!0),xt=!1),vt.append(Xt)}let Rt=null;if(xt){const Ut=document.createElement("option");Ut.value=" ",Ut.setAttribute("hidden",!0),Ut.setAttribute("selected",!0),vt.prepend(Ut),Rt=()=>{Ut.remove(),vt.removeEventListener("input",Rt),Rt=null},vt.addEventListener("input",Rt)}const Ht=(Ut,Xt)=>{const zt=Xt?"value":"textContent",Yt=Ut.target.options;return Ut.target.multiple?Array.prototype.filter.call(Yt,en=>en.selected).map(en=>en[zt]):Yt.selectedIndex===-1?null:Yt[Yt.selectedIndex][zt]},Zt=Ut=>{const Xt=Ut.target.options;return Array.prototype.map.call(Xt,zt=>({displayValue:zt.textContent,exportValue:zt.value}))};return this.enableScripting&&this.hasJSActions?(vt.addEventListener("updatefromsandbox",Ut=>{const Xt={value(zt){Rt==null||Rt();const Yt=zt.detail.value,en=new Set(Array.isArray(Yt)?Yt:[Yt]);for(const Pt of vt.options)Pt.selected=en.has(Pt.value);ct.setValue(gt,{value:Ht(zt,!0)})},multipleSelection(zt){vt.multiple=!0},remove(zt){const Yt=vt.options,en=zt.detail.remove;Yt[en].selected=!1,vt.remove(en),Yt.length>0&&Array.prototype.findIndex.call(Yt,Jt=>Jt.selected)===-1&&(Yt[0].selected=!0),ct.setValue(gt,{value:Ht(zt,!0),items:Zt(zt)})},clear(zt){for(;vt.length!==0;)vt.remove(0);ct.setValue(gt,{value:null,items:[]})},insert(zt){const{index:Yt,displayValue:en,exportValue:Pt}=zt.detail.insert,Jt=vt.children[Yt],on=document.createElement("option");on.textContent=en,on.value=Pt,Jt?Jt.before(on):vt.append(on),ct.setValue(gt,{value:Ht(zt,!0),items:Zt(zt)})},items(zt){const{items:Yt}=zt.detail;for(;vt.length!==0;)vt.remove(0);for(const en of Yt){const{displayValue:Pt,exportValue:Jt}=en,on=document.createElement("option");on.textContent=Pt,on.value=Jt,vt.append(on)}vt.options.length>0&&(vt.options[0].selected=!0),ct.setValue(gt,{value:Ht(zt,!0),items:Zt(zt)})},indices(zt){const Yt=new Set(zt.detail.indices);for(const en of zt.target.options)en.selected=Yt.has(en.index);ct.setValue(gt,{value:Ht(zt,!0)})},editable(zt){zt.target.disabled=!zt.detail.editable}};this._dispatchEventFromSandbox(Xt,Ut)}),vt.addEventListener("input",Ut=>{var Yt;const Xt=Ht(Ut,!0),zt=Ht(Ut,!1);ct.setValue(gt,{value:Xt}),(Yt=this.linkService.eventBus)==null||Yt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:gt,name:"Keystroke",value:zt,changeEx:Xt,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(vt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],Ut=>Ut.target.checked)):vt.addEventListener("input",function(Ut){ct.setValue(gt,{value:Ht(Ut,!0)})}),this.data.combo&&this._setTextStyle(vt),this._setBackgroundColor(vt),this._setDefaultPropertiesFromJS(vt),this.container.append(vt),this.container}}class it extends lt{constructor(ct){var yt,vt,xt;const gt=!!((yt=ct.data.titleObj)!=null&&yt.str||(vt=ct.data.contentsObj)!=null&&vt.str||(xt=ct.data.richText)!=null&&xt.str);super(ct,{isRenderable:gt})}render(){const ct=["Line","Square","Circle","PolyLine","Polygon","Ink"];if(this.container.className="popupAnnotation",ct.includes(this.data.parentType))return this.container;const gt=`[data-annotation-id="${this.data.parentId}"]`,yt=this.layer.querySelectorAll(gt);if(yt.length===0)return this.container;const vt=new ut({container:this.container,trigger:Array.from(yt),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),xt=this.page,Rt=o.Util.normalizeRect([this.data.parentRect[0],xt.view[3]-this.data.parentRect[1]+xt.view[1],this.data.parentRect[2],xt.view[3]-this.data.parentRect[3]+xt.view[1]]),Ht=Rt[0]+this.data.parentRect[2]-this.data.parentRect[0],Zt=Rt[1],[Ut,Xt,zt,Yt]=this.viewport.viewBox,en=zt-Ut,Pt=Yt-Xt;return this.container.style.left=`${100*(Ht-Ut)/en}%`,this.container.style.top=`${100*(Zt-Xt)/Pt}%`,this.container.append(vt.render()),this.container}}class ut{constructor(ct){this.container=ct.container,this.trigger=ct.trigger,this.color=ct.color,this.titleObj=ct.titleObj,this.modificationDate=ct.modificationDate,this.contentsObj=ct.contentsObj,this.richText=ct.richText,this.hideWrapper=ct.hideWrapper||!1,this.pinned=!1}render(){var Ht,Zt;const gt=document.createElement("div");gt.className="popupWrapper",this.hideElement=this.hideWrapper?gt:this.container,this.hideElement.hidden=!0;const yt=document.createElement("div");yt.className="popup";const vt=this.color;if(vt){const Ut=.7*(255-vt[0])+vt[0],Xt=.7*(255-vt[1])+vt[1],zt=.7*(255-vt[2])+vt[2];yt.style.backgroundColor=o.Util.makeHexColor(Ut|0,Xt|0,zt|0)}const xt=document.createElement("h1");xt.dir=this.titleObj.dir,xt.textContent=this.titleObj.str,yt.append(xt);const Rt=a.PDFDateString.toDateObject(this.modificationDate);if(Rt){const Ut=document.createElement("span");Ut.className="popupDate",Ut.textContent="{{date}}, {{time}}",Ut.dataset.l10nId="annotation_date_string",Ut.dataset.l10nArgs=JSON.stringify({date:Rt.toLocaleDateString(),time:Rt.toLocaleTimeString()}),yt.append(Ut)}if((Ht=this.richText)!=null&&Ht.str&&(!((Zt=this.contentsObj)!=null&&Zt.str)||this.contentsObj.str===this.richText.str))h.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:yt}),yt.lastChild.className="richText popupContent";else{const Ut=this._formatContents(this.contentsObj);yt.append(Ut)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const Ut of this.trigger)Ut.addEventListener("click",this._toggle.bind(this)),Ut.addEventListener("mouseover",this._show.bind(this,!1)),Ut.addEventListener("mouseout",this._hide.bind(this,!1));return yt.addEventListener("click",this._hide.bind(this,!0)),gt.append(yt),gt}_formatContents({str:ct,dir:gt}){const yt=document.createElement("p");yt.className="popupContent",yt.dir=gt;const vt=ct.split(/(?:\r\n?|\n)/);for(let xt=0,Rt=vt.length;xt<Rt;++xt){const Ht=vt[xt];yt.append(document.createTextNode(Ht)),xt<Rt-1&&yt.append(document.createElement("br"))}return yt}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(ct=!1){ct&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(ct=!0){ct&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class pt extends lt{constructor(ct){var yt,vt,xt;const gt=!!(ct.data.hasPopup||(yt=ct.data.titleObj)!=null&&yt.str||(vt=ct.data.contentsObj)!=null&&vt.str||(xt=ct.data.richText)!=null&&xt.str);super(ct,{isRenderable:gt,ignoreBorder:!0}),this.textContent=ct.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const ct=document.createElement("div");ct.className="annotationTextContent",ct.setAttribute("role","comment");for(const gt of this.textContent){const yt=document.createElement("span");yt.textContent=gt,ct.append(yt)}this.container.append(ct)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class mt extends lt{constructor(ct){var yt,vt,xt;const gt=!!(ct.data.hasPopup||(yt=ct.data.titleObj)!=null&&yt.str||(vt=ct.data.contentsObj)!=null&&vt.str||(xt=ct.data.richText)!=null&&xt.str);super(ct,{isRenderable:gt,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const ct=this.data,{width:gt,height:yt}=at(ct.rect),vt=this.svgFactory.create(gt,yt,!0),xt=this.svgFactory.createElement("svg:line");return xt.setAttribute("x1",ct.rect[2]-ct.lineCoordinates[0]),xt.setAttribute("y1",ct.rect[3]-ct.lineCoordinates[1]),xt.setAttribute("x2",ct.rect[2]-ct.lineCoordinates[2]),xt.setAttribute("y2",ct.rect[3]-ct.lineCoordinates[3]),xt.setAttribute("stroke-width",ct.borderStyle.width||1),xt.setAttribute("stroke","transparent"),xt.setAttribute("fill","transparent"),vt.append(xt),this.container.append(vt),this._createPopup(xt,ct),this.container}}class ht extends lt{constructor(ct){var yt,vt,xt;const gt=!!(ct.data.hasPopup||(yt=ct.data.titleObj)!=null&&yt.str||(vt=ct.data.contentsObj)!=null&&vt.str||(xt=ct.data.richText)!=null&&xt.str);super(ct,{isRenderable:gt,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const ct=this.data,{width:gt,height:yt}=at(ct.rect),vt=this.svgFactory.create(gt,yt,!0),xt=ct.borderStyle.width,Rt=this.svgFactory.createElement("svg:rect");return Rt.setAttribute("x",xt/2),Rt.setAttribute("y",xt/2),Rt.setAttribute("width",gt-xt),Rt.setAttribute("height",yt-xt),Rt.setAttribute("stroke-width",xt||1),Rt.setAttribute("stroke","transparent"),Rt.setAttribute("fill","transparent"),vt.append(Rt),this.container.append(vt),this._createPopup(Rt,ct),this.container}}class _t extends lt{constructor(ct){var yt,vt,xt;const gt=!!(ct.data.hasPopup||(yt=ct.data.titleObj)!=null&&yt.str||(vt=ct.data.contentsObj)!=null&&vt.str||(xt=ct.data.richText)!=null&&xt.str);super(ct,{isRenderable:gt,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const ct=this.data,{width:gt,height:yt}=at(ct.rect),vt=this.svgFactory.create(gt,yt,!0),xt=ct.borderStyle.width,Rt=this.svgFactory.createElement("svg:ellipse");return Rt.setAttribute("cx",gt/2),Rt.setAttribute("cy",yt/2),Rt.setAttribute("rx",gt/2-xt/2),Rt.setAttribute("ry",yt/2-xt/2),Rt.setAttribute("stroke-width",xt||1),Rt.setAttribute("stroke","transparent"),Rt.setAttribute("fill","transparent"),vt.append(Rt),this.container.append(vt),this._createPopup(Rt,ct),this.container}}class Vt extends lt{constructor(ct){var yt,vt,xt;const gt=!!(ct.data.hasPopup||(yt=ct.data.titleObj)!=null&&yt.str||(vt=ct.data.contentsObj)!=null&&vt.str||(xt=ct.data.richText)!=null&&xt.str);super(ct,{isRenderable:gt,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const ct=this.data,{width:gt,height:yt}=at(ct.rect),vt=this.svgFactory.create(gt,yt,!0);let xt=[];for(const Ht of ct.vertices){const Zt=Ht.x-ct.rect[0],Ut=ct.rect[3]-Ht.y;xt.push(Zt+","+Ut)}xt=xt.join(" ");const Rt=this.svgFactory.createElement(this.svgElementName);return Rt.setAttribute("points",xt),Rt.setAttribute("stroke-width",ct.borderStyle.width||1),Rt.setAttribute("stroke","transparent"),Rt.setAttribute("fill","transparent"),vt.append(Rt),this.container.append(vt),this._createPopup(Rt,ct),this.container}}class Wt extends Vt{constructor(ct){super(ct),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Nt extends lt{constructor(ct){var yt,vt,xt;const gt=!!(ct.data.hasPopup||(yt=ct.data.titleObj)!=null&&yt.str||(vt=ct.data.contentsObj)!=null&&vt.str||(xt=ct.data.richText)!=null&&xt.str);super(ct,{isRenderable:gt,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Lt extends lt{constructor(ct){var yt,vt,xt;const gt=!!(ct.data.hasPopup||(yt=ct.data.titleObj)!=null&&yt.str||(vt=ct.data.contentsObj)!=null&&vt.str||(xt=ct.data.richText)!=null&&xt.str);super(ct,{isRenderable:gt,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const ct=this.data,{width:gt,height:yt}=at(ct.rect),vt=this.svgFactory.create(gt,yt,!0);for(const xt of ct.inkLists){let Rt=[];for(const Zt of xt){const Ut=Zt.x-ct.rect[0],Xt=ct.rect[3]-Zt.y;Rt.push(`${Ut},${Xt}`)}Rt=Rt.join(" ");const Ht=this.svgFactory.createElement(this.svgElementName);Ht.setAttribute("points",Rt),Ht.setAttribute("stroke-width",ct.borderStyle.width||1),Ht.setAttribute("stroke","transparent"),Ht.setAttribute("fill","transparent"),this._createPopup(Ht,ct),vt.append(Ht)}return this.container.append(vt),this.container}}class kt extends lt{constructor(ct){var yt,vt,xt;const gt=!!(ct.data.hasPopup||(yt=ct.data.titleObj)!=null&&yt.str||(vt=ct.data.contentsObj)!=null&&vt.str||(xt=ct.data.richText)!=null&&xt.str);super(ct,{isRenderable:gt,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class Mt extends lt{constructor(ct){var yt,vt,xt;const gt=!!(ct.data.hasPopup||(yt=ct.data.titleObj)!=null&&yt.str||(vt=ct.data.contentsObj)!=null&&vt.str||(xt=ct.data.richText)!=null&&xt.str);super(ct,{isRenderable:gt,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class Et extends lt{constructor(ct){var yt,vt,xt;const gt=!!(ct.data.hasPopup||(yt=ct.data.titleObj)!=null&&yt.str||(vt=ct.data.contentsObj)!=null&&vt.str||(xt=ct.data.richText)!=null&&xt.str);super(ct,{isRenderable:gt,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class jt extends lt{constructor(ct){var yt,vt,xt;const gt=!!(ct.data.hasPopup||(yt=ct.data.titleObj)!=null&&yt.str||(vt=ct.data.contentsObj)!=null&&vt.str||(xt=ct.data.richText)!=null&&xt.str);super(ct,{isRenderable:gt,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class $t extends lt{constructor(ct){var yt,vt,xt;const gt=!!(ct.data.hasPopup||(yt=ct.data.titleObj)!=null&&yt.str||(vt=ct.data.contentsObj)!=null&&vt.str||(xt=ct.data.richText)!=null&&xt.str);super(ct,{isRenderable:gt,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Kt extends lt{constructor(ct){var vt;super(ct,{isRenderable:!0});const{filename:gt,content:yt}=this.data.file;this.filename=(0,a.getFilenameFromUrl)(gt),this.content=yt,(vt=this.linkService.eventBus)==null||vt.dispatch("fileattachmentannotation",{source:this,filename:gt,content:yt})}render(){var gt,yt;this.container.className="fileAttachmentAnnotation";const ct=document.createElement("div");return ct.className="popupTriggerArea",ct.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((gt=this.data.titleObj)!=null&&gt.str||(yt=this.data.contentsObj)!=null&&yt.str||this.data.richText)&&this._createPopup(ct,this.data),this.container.append(ct),this.container}_download(){var ct;(ct=this.downloadManager)==null||ct.openOrDownloadData(this.container,this.content,this.filename)}}const Ot=class{static render(ct){var Ht,Zt;const{annotations:gt,div:yt,viewport:vt,accessibilityManager:xt}=ct;Qt(this,St,cr).call(this,yt,vt);let Rt=0;for(const Ut of gt){if(Ut.annotationType!==o.AnnotationType.POPUP){const{width:zt,height:Yt}=at(Ut.rect);if(zt<=0||Yt<=0)continue}const Xt=nt.create({data:Ut,layer:yt,page:ct.page,viewport:vt,linkService:ct.linkService,downloadManager:ct.downloadManager,imageResourcesPath:ct.imageResourcesPath||"",renderForms:ct.renderForms!==!1,svgFactory:new a.DOMSVGFactory,annotationStorage:ct.annotationStorage||new c.AnnotationStorage,enableScripting:ct.enableScripting,hasJSActions:ct.hasJSActions,fieldObjects:ct.fieldObjects,mouseState:ct.mouseState||{isDown:!1}});if(Xt.isRenderable){const zt=Xt.render();if(Ut.hidden&&(zt.style.visibility="hidden"),Array.isArray(zt))for(const Yt of zt)Yt.style.zIndex=Rt++,Qt(Ht=Ot,ft,lr).call(Ht,Yt,Ut.id,yt,xt);else zt.style.zIndex=Rt++,Xt instanceof it?yt.prepend(zt):Qt(Zt=Ot,ft,lr).call(Zt,zt,Ut.id,yt,xt)}}Qt(this,Tt,ur).call(this,yt,ct.annotationCanvasMap)}static update(ct){const{annotationCanvasMap:gt,div:yt,viewport:vt}=ct;Qt(this,St,cr).call(this,yt,vt),Qt(this,Tt,ur).call(this,yt,gt),yt.hidden=!1}};let Ct=Ot;ft=new WeakSet,lr=function(ct,gt,yt,vt){const xt=ct.firstChild||ct;xt.id=`${a.AnnotationPrefix}${gt}`,yt.append(ct),vt==null||vt.moveElementInDOM(yt,ct,xt,!1)},St=new WeakSet,cr=function(ct,{width:gt,height:yt,rotation:vt}){const{style:xt}=ct,Rt=vt%180!==0,Ht=Math.floor(gt)+"px",Zt=Math.floor(yt)+"px";xt.width=Rt?Zt:Ht,xt.height=Rt?Ht:Zt,ct.setAttribute("data-main-rotation",vt)},Tt=new WeakSet,ur=function(ct,gt){if(gt){for(const[yt,vt]of gt){const xt=ct.querySelector(`[data-annotation-id="${yt}"]`);if(!xt)continue;const{firstChild:Rt}=xt;Rt?Rt.nodeName==="CANVAS"?Rt.replaceWith(vt):Rt.before(vt):xt.append(vt)}gt.clear()}},qt(Ct,ft),qt(Ct,St),qt(Ct,Tt),i.AnnotationLayer=Ct},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ColorConverters=void 0;function s(a){return Math.floor(Math.max(0,Math.min(1,a))*255).toString(16).padStart(2,"0")}class o{static CMYK_G([c,d,h,g]){return["G",1-Math.min(1,.3*c+.59*h+.11*d+g)]}static G_CMYK([c]){return["CMYK",0,0,0,1-c]}static G_RGB([c]){return["RGB",c,c,c]}static G_HTML([c]){const d=s(c);return`#${d}${d}${d}`}static RGB_G([c,d,h]){return["G",.3*c+.59*d+.11*h]}static RGB_HTML([c,d,h]){const g=s(c),_=s(d),_e=s(h);return`#${g}${_}${_e}`}static T_HTML(){return"#00000000"}static CMYK_RGB([c,d,h,g]){return["RGB",1-Math.min(1,c+g),1-Math.min(1,h+g),1-Math.min(1,d+g)]}static CMYK_HTML(c){const d=this.CMYK_RGB(c).slice(1);return this.RGB_HTML(d)}static RGB_CMYK([c,d,h]){const g=1-c,_=1-d,_e=1-h,at=Math.min(g,_,_e);return["CMYK",g,_,_e,at]}}i.ColorConverters=o},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaLayer=void 0;var o=s(20);class a{static setupStorage(d,h,g,_,_e){const at=_.getValue(h,{value:null});switch(g.name){case"textarea":if(at.value!==null&&(d.textContent=at.value),_e==="print")break;d.addEventListener("input",nt=>{_.setValue(h,{value:nt.target.value})});break;case"input":if(g.attributes.type==="radio"||g.attributes.type==="checkbox"){if(at.value===g.attributes.xfaOn?d.setAttribute("checked",!0):at.value===g.attributes.xfaOff&&d.removeAttribute("checked"),_e==="print")break;d.addEventListener("change",nt=>{_.setValue(h,{value:nt.target.checked?nt.target.getAttribute("xfaOn"):nt.target.getAttribute("xfaOff")})})}else{if(at.value!==null&&d.setAttribute("value",at.value),_e==="print")break;d.addEventListener("input",nt=>{_.setValue(h,{value:nt.target.value})})}break;case"select":if(at.value!==null)for(const nt of g.children)nt.attributes.value===at.value&&(nt.attributes.selected=!0);d.addEventListener("input",nt=>{const lt=nt.target.options,tt=lt.selectedIndex===-1?"":lt[lt.selectedIndex].value;_.setValue(h,{value:tt})});break}}static setAttributes({html:d,element:h,storage:g=null,intent:_,linkService:_e}){const{attributes:at}=h,nt=d instanceof HTMLAnchorElement;at.type==="radio"&&(at.name=`${at.name}-${_}`);for(const[lt,tt]of Object.entries(at))if(tt!=null)switch(lt){case"class":tt.length&&d.setAttribute(lt,tt.join(" "));break;case"dataId":break;case"id":d.setAttribute("data-element-id",tt);break;case"style":Object.assign(d.style,tt);break;case"textContent":d.textContent=tt;break;default:(!nt||lt!=="href"&&lt!=="newWindow")&&d.setAttribute(lt,tt)}nt&&_e.addLinkAttributes(d,at.href,at.newWindow),g&&at.dataId&&this.setupStorage(d,at.dataId,h,g)}static render(d){var b;const h=d.annotationStorage,g=d.linkService,_=d.xfaHtml,_e=d.intent||"display",at=document.createElement(_.name);_.attributes&&this.setAttributes({html:at,element:_,intent:_e,linkService:g});const nt=[[_,-1,at]],lt=d.div;if(lt.append(at),d.viewport){const et=`matrix(${d.viewport.transform.join(",")})`;lt.style.transform=et}_e!=="richText"&&lt.setAttribute("class","xfaLayer xfaFont");const tt=[];for(;nt.length>0;){const[et,j,rt]=nt.at(-1);if(j+1===et.children.length){nt.pop();continue}const ot=et.children[++nt.at(-1)[1]];if(ot===null)continue;const{name:st}=ot;if(st==="#text"){const it=document.createTextNode(ot.value);tt.push(it),rt.append(it);continue}let $;if((b=ot==null?void 0:ot.attributes)!=null&&b.xmlns?$=document.createElementNS(ot.attributes.xmlns,st):$=document.createElement(st),rt.append($),ot.attributes&&this.setAttributes({html:$,element:ot,storage:h,intent:_e,linkService:g}),ot.children&&ot.children.length>0)nt.push([ot,-1,$]);else if(ot.value){const it=document.createTextNode(ot.value);o.XfaText.shouldBuildText(st)&&tt.push(it),$.append(it)}}for(const et of lt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))et.setAttribute("readOnly",!0);return{textDivs:tt}}static update(d){const h=`matrix(${d.viewport.transform.join(",")})`;d.div.style.transform=h,d.div.hidden=!1}}i.XfaLayer=a},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TextLayerRenderTask=void 0,i.renderTextLayer=rt;var o=s(1),a=s(8);const c=1e5,d=30,h=.8,g=new Map,_=/^\s+$/g;function _e(ot,st){const $=g.get(ot);if($)return $;st.save(),st.font=`${d}px ${ot}`;const it=st.measureText("");let ut=it.fontBoundingBoxAscent,pt=Math.abs(it.fontBoundingBoxDescent);if(ut){st.restore();const ht=ut/(ut+pt);return g.set(ot,ht),ht}st.strokeStyle="red",st.clearRect(0,0,d,d),st.strokeText("g",0,0);let mt=st.getImageData(0,0,d,d).data;pt=0;for(let ht=mt.length-1-3;ht>=0;ht-=4)if(mt[ht]>0){pt=Math.ceil(ht/4/d);break}st.clearRect(0,0,d,d),st.strokeText("A",0,d),mt=st.getImageData(0,0,d,d).data,ut=0;for(let ht=0,_t=mt.length;ht<_t;ht+=4)if(mt[ht]>0){ut=d-Math.floor(ht/4/d);break}if(st.restore(),ut){const ht=ut/(ut+pt);return g.set(ot,ht),ht}return g.set(ot,h),h}function at(ot,st,$,it){const ut=document.createElement("span"),pt=ot._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:st.str!=="",hasEOL:st.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1,fontSize:0}:{angle:0,canvasWidth:0,hasText:st.str!=="",hasEOL:st.hasEOL,fontSize:0};ot._textDivs.push(ut);const mt=o.Util.transform(ot._viewport.transform,st.transform);let ht=Math.atan2(mt[1],mt[0]);const _t=$[st.fontName];_t.vertical&&(ht+=Math.PI/2);const Vt=Math.hypot(mt[2],mt[3]),Wt=Vt*_e(_t.fontFamily,it);let Nt,Lt;ht===0?(Nt=mt[4],Lt=mt[5]-Wt):(Nt=mt[4]+Wt*Math.sin(ht),Lt=mt[5]-Wt*Math.cos(ht)),ut.style.left=`${Nt}px`,ut.style.top=`${Lt}px`,ut.style.fontSize=`${Vt}px`,ut.style.fontFamily=_t.fontFamily,pt.fontSize=Vt,ut.setAttribute("role","presentation"),ut.textContent=st.str,ut.dir=st.dir,ot._fontInspectorEnabled&&(ut.dataset.fontName=st.fontName),ht!==0&&(pt.angle=ht*(180/Math.PI));let kt=!1;if(st.str.length>1||ot._enhanceTextSelection&&_.test(st.str))kt=!0;else if(st.str!==" "&&st.transform[0]!==st.transform[3]){const Mt=Math.abs(st.transform[0]),Et=Math.abs(st.transform[3]);Mt!==Et&&Math.max(Mt,Et)/Math.min(Mt,Et)>1.5&&(kt=!0)}if(kt&&(_t.vertical?pt.canvasWidth=st.height*ot._viewport.scale:pt.canvasWidth=st.width*ot._viewport.scale),ot._textDivProperties.set(ut,pt),ot._textContentStream&&ot._layoutText(ut),ot._enhanceTextSelection&&pt.hasText){let Mt=1,Et=0;ht!==0&&(Mt=Math.cos(ht),Et=Math.sin(ht));const jt=(_t.vertical?st.height:st.width)*ot._viewport.scale,$t=Vt;let Kt,Ct;ht!==0?(Kt=[Mt,Et,-Et,Mt,Nt,Lt],Ct=o.Util.getAxialAlignedBoundingBox([0,0,jt,$t],Kt)):Ct=[Nt,Lt,Nt+jt,Lt+$t],ot._bounds.push({left:Ct[0],top:Ct[1],right:Ct[2],bottom:Ct[3],div:ut,size:[jt,$t],m:Kt})}}function nt(ot){if(ot._canceled)return;const st=ot._textDivs,$=ot._capability,it=st.length;if(it>c){ot._renderingDone=!0,$.resolve();return}if(!ot._textContentStream)for(let ut=0;ut<it;ut++)ot._layoutText(st[ut]);ot._renderingDone=!0,$.resolve()}function lt(ot,st,$){let it=0;for(let ut=0;ut<$;ut++){const pt=ot[st++];pt>0&&(it=it?Math.min(pt,it):pt)}return it}function tt(ot){const st=ot._bounds,$=ot._viewport,it=b($.width,$.height,st);for(let ut=0;ut<it.length;ut++){const pt=st[ut].div,mt=ot._textDivProperties.get(pt);if(mt.angle===0){mt.paddingLeft=st[ut].left-it[ut].left,mt.paddingTop=st[ut].top-it[ut].top,mt.paddingRight=it[ut].right-st[ut].right,mt.paddingBottom=it[ut].bottom-st[ut].bottom,ot._textDivProperties.set(pt,mt);continue}const ht=it[ut],_t=st[ut],Vt=_t.m,Wt=Vt[0],Nt=Vt[1],Lt=[[0,0],[0,_t.size[1]],[_t.size[0],0],_t.size],kt=new Float64Array(64);for(let Et=0,jt=Lt.length;Et<jt;Et++){const $t=o.Util.applyTransform(Lt[Et],Vt);kt[Et+0]=Wt&&(ht.left-$t[0])/Wt,kt[Et+4]=Nt&&(ht.top-$t[1])/Nt,kt[Et+8]=Wt&&(ht.right-$t[0])/Wt,kt[Et+12]=Nt&&(ht.bottom-$t[1])/Nt,kt[Et+16]=Nt&&(ht.left-$t[0])/-Nt,kt[Et+20]=Wt&&(ht.top-$t[1])/Wt,kt[Et+24]=Nt&&(ht.right-$t[0])/-Nt,kt[Et+28]=Wt&&(ht.bottom-$t[1])/Wt,kt[Et+32]=Wt&&(ht.left-$t[0])/-Wt,kt[Et+36]=Nt&&(ht.top-$t[1])/-Nt,kt[Et+40]=Wt&&(ht.right-$t[0])/-Wt,kt[Et+44]=Nt&&(ht.bottom-$t[1])/-Nt,kt[Et+48]=Nt&&(ht.left-$t[0])/Nt,kt[Et+52]=Wt&&(ht.top-$t[1])/-Wt,kt[Et+56]=Nt&&(ht.right-$t[0])/Nt,kt[Et+60]=Wt&&(ht.bottom-$t[1])/-Wt}const Mt=1+Math.min(Math.abs(Wt),Math.abs(Nt));mt.paddingLeft=lt(kt,32,16)/Mt,mt.paddingTop=lt(kt,48,16)/Mt,mt.paddingRight=lt(kt,0,16)/Mt,mt.paddingBottom=lt(kt,16,16)/Mt,ot._textDivProperties.set(pt,mt)}}function b(ot,st,$){const it=$.map(function(pt,mt){return{x1:pt.left,y1:pt.top,x2:pt.right,y2:pt.bottom,index:mt,x1New:void 0,x2New:void 0}});et(ot,it);const ut=new Array($.length);for(const pt of it){const mt=pt.index;ut[mt]={left:pt.x1New,top:0,right:pt.x2New,bottom:0}}$.map(function(pt,mt){const ht=ut[mt],_t=it[mt];_t.x1=pt.top,_t.y1=ot-ht.right,_t.x2=pt.bottom,_t.y2=ot-ht.left,_t.index=mt,_t.x1New=void 0,_t.x2New=void 0}),et(st,it);for(const pt of it){const mt=pt.index;ut[mt].top=pt.x1New,ut[mt].bottom=pt.x2New}return ut}function et(ot,st){st.sort(function(ut,pt){return ut.x1-pt.x1||ut.index-pt.index});const it=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const ut of st){let pt=0;for(;pt<it.length&&it[pt].end<=ut.y1;)pt++;let mt=it.length-1;for(;mt>=0&&it[mt].start>=ut.y2;)mt--;let ht,_t,Vt,Wt,Nt=-1/0;for(Vt=pt;Vt<=mt;Vt++){ht=it[Vt],_t=ht.boundary;let Mt;_t.x2>ut.x1?Mt=_t.index>ut.index?_t.x1New:ut.x1:_t.x2New===void 0?Mt=(_t.x2+ut.x1)/2:Mt=_t.x2New,Mt>Nt&&(Nt=Mt)}for(ut.x1New=Nt,Vt=pt;Vt<=mt;Vt++)ht=it[Vt],_t=ht.boundary,_t.x2New===void 0?_t.x2>ut.x1?_t.index>ut.index&&(_t.x2New=_t.x2):_t.x2New=Nt:_t.x2New>Nt&&(_t.x2New=Math.max(Nt,_t.x2));const Lt=[];let kt=null;for(Vt=pt;Vt<=mt;Vt++){ht=it[Vt],_t=ht.boundary;const Mt=_t.x2>ut.x2?_t:ut;kt===Mt?Lt.at(-1).end=ht.end:(Lt.push({start:ht.start,end:ht.end,boundary:Mt}),kt=Mt)}for(it[pt].start<ut.y1&&(Lt[0].start=ut.y1,Lt.unshift({start:it[pt].start,end:ut.y1,boundary:it[pt].boundary})),ut.y2<it[mt].end&&(Lt.at(-1).end=ut.y2,Lt.push({start:ut.y2,end:it[mt].end,boundary:it[mt].boundary})),Vt=pt;Vt<=mt;Vt++){if(ht=it[Vt],_t=ht.boundary,_t.x2New!==void 0)continue;let Mt=!1;for(Wt=pt-1;!Mt&&Wt>=0&&it[Wt].start>=_t.y1;Wt--)Mt=it[Wt].boundary===_t;for(Wt=mt+1;!Mt&&Wt<it.length&&it[Wt].end<=_t.y2;Wt++)Mt=it[Wt].boundary===_t;for(Wt=0;!Mt&&Wt<Lt.length;Wt++)Mt=Lt[Wt].boundary===_t;Mt||(_t.x2New=Nt)}Array.prototype.splice.apply(it,[pt,mt-pt+1,...Lt])}for(const ut of it){const pt=ut.boundary;pt.x2New===void 0&&(pt.x2New=Math.max(ot,pt.x2))}}class j{constructor({textContent:st,textContentStream:$,container:it,viewport:ut,textDivs:pt,textContentItemsStr:mt,enhanceTextSelection:ht}){var _t;ht&&(0,a.deprecated)("The `enhanceTextSelection` functionality will be removed in the future."),this._textContent=st,this._textContentStream=$,this._container=it,this._document=it.ownerDocument,this._viewport=ut,this._textDivs=pt||[],this._textContentItemsStr=mt||[],this._enhanceTextSelection=!!ht,this._fontInspectorEnabled=!!((_t=globalThis.FontInspector)!=null&&_t.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,o.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new o.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(st,$){for(let it=0,ut=st.length;it<ut;it++){if(st[it].str===void 0){if(st[it].type==="beginMarkedContentProps"||st[it].type==="beginMarkedContent"){const pt=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),st[it].id!==null&&this._container.setAttribute("id",`${st[it].id}`),pt.append(this._container)}else st[it].type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(st[it].str),at(this,st[it],$,this._layoutTextCtx)}}_layoutText(st){const $=this._textDivProperties.get(st);let it="";if($.canvasWidth!==0&&$.hasText){const{fontFamily:ut}=st.style,{fontSize:pt}=$;(pt!==this._layoutTextLastFontSize||ut!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${pt*this._devicePixelRatio}px ${ut}`,this._layoutTextLastFontSize=pt,this._layoutTextLastFontFamily=ut);const{width:mt}=this._layoutTextCtx.measureText(st.textContent);if(mt>0){const ht=this._devicePixelRatio*$.canvasWidth/mt;this._enhanceTextSelection&&($.scale=ht),it=`scaleX(${ht})`}}if($.angle!==0&&(it=`rotate(${$.angle}deg) ${it}`),it.length>0&&(this._enhanceTextSelection&&($.originalTransform=it),st.style.transform=it),$.hasText&&this._container.append(st),$.hasEOL){const ut=document.createElement("br");ut.setAttribute("role","presentation"),this._container.append(ut)}}_render(st=0){const $=(0,o.createPromiseCapability)();let it=Object.create(null);const ut=this._document.createElement("canvas");if(ut.height=ut.width=d,this._layoutTextCtx=ut.getContext("2d",{alpha:!1}),this._textContent){const pt=this._textContent.items,mt=this._textContent.styles;this._processItems(pt,mt),$.resolve()}else if(this._textContentStream){const pt=()=>{this._reader.read().then(({value:mt,done:ht})=>{if(ht){$.resolve();return}Object.assign(it,mt.styles),this._processItems(mt.items,it),pt()},$.reject)};this._reader=this._textContentStream.getReader(),pt()}else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');$.promise.then(()=>{it=null,st?this._renderTimer=setTimeout(()=>{nt(this),this._renderTimer=null},st):nt(this)},this._capability.reject)}expandTextDivs(st=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;this._bounds!==null&&(tt(this),this._bounds=null);const $=[],it=[];for(let ut=0,pt=this._textDivs.length;ut<pt;ut++){const mt=this._textDivs[ut],ht=this._textDivProperties.get(mt);ht.hasText&&(st?($.length=0,it.length=0,ht.originalTransform&&$.push(ht.originalTransform),ht.paddingTop>0?(it.push(`${ht.paddingTop}px`),$.push(`translateY(${-ht.paddingTop}px)`)):it.push(0),ht.paddingRight>0?it.push(`${ht.paddingRight/ht.scale}px`):it.push(0),ht.paddingBottom>0?it.push(`${ht.paddingBottom}px`):it.push(0),ht.paddingLeft>0?(it.push(`${ht.paddingLeft/ht.scale}px`),$.push(`translateX(${-ht.paddingLeft/ht.scale}px)`)):it.push(0),mt.style.padding=it.join(" "),$.length&&(mt.style.transform=$.join(" "))):(mt.style.padding=null,mt.style.transform=ht.originalTransform))}}}i.TextLayerRenderTask=j;function rt(ot){const st=new j({textContent:ot.textContent,textContentStream:ot.textContentStream,container:ot.container,viewport:ot.viewport,textDivs:ot.textDivs,textContentItemsStr:ot.textContentItemsStr,enhanceTextSelection:ot.enhanceTextSelection});return st._render(ot.timeout),st}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SVGGraphics=void 0;var o=s(8),a=s(1),c=s(3);let d=class{constructor(){(0,a.unreachable)("Not implemented: SVGGraphics")}};i.SVGGraphics=d;{let b=function($){let it=[];const ut=[];for(const pt of $){if(pt.fn==="save"){it.push({fnId:92,fn:"group",items:[]}),ut.push(it),it=it.at(-1).items;continue}pt.fn==="restore"?it=ut.pop():it.push(pt)}return it},et=function($){if(Number.isInteger($))return $.toString();const it=$.toFixed(10);let ut=it.length-1;if(it[ut]!=="0")return it;do ut--;while(it[ut]==="0");return it.substring(0,it[ut]==="."?ut:ut+1)},j=function($){if($[4]===0&&$[5]===0){if($[1]===0&&$[2]===0)return $[0]===1&&$[3]===1?"":`scale(${et($[0])} ${et($[3])})`;if($[0]===$[3]&&$[1]===-$[2]){const it=Math.acos($[0])*180/Math.PI;return`rotate(${et(it)})`}}else if($[0]===1&&$[1]===0&&$[2]===0&&$[3]===1)return`translate(${et($[4])} ${et($[5])})`;return`matrix(${et($[0])} ${et($[1])} ${et($[2])} ${et($[3])} ${et($[4])} ${et($[5])})`};const h={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},g="http://www.w3.org/XML/1998/namespace",_="http://www.w3.org/1999/xlink",_e=["butt","round","square"],at=["miter","round","bevel"],nt=function($,it="",ut=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!ut)return URL.createObjectURL(new Blob([$],{type:it}));const pt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let mt=`data:${it};base64,`;for(let ht=0,_t=$.length;ht<_t;ht+=3){const Vt=$[ht]&255,Wt=$[ht+1]&255,Nt=$[ht+2]&255,Lt=Vt>>2,kt=(Vt&3)<<4|Wt>>4,Mt=ht+1<_t?(Wt&15)<<2|Nt>>6:64,Et=ht+2<_t?Nt&63:64;mt+=pt[Lt]+pt[kt]+pt[Mt]+pt[Et]}return mt},lt=function(){const $=new Uint8Array([137,80,78,71,13,10,26,10]),it=12,ut=new Int32Array(256);for(let Nt=0;Nt<256;Nt++){let Lt=Nt;for(let kt=0;kt<8;kt++)Lt&1?Lt=3988292384^Lt>>1&2147483647:Lt=Lt>>1&2147483647;ut[Nt]=Lt}function pt(Nt,Lt,kt){let Mt=-1;for(let Et=Lt;Et<kt;Et++){const jt=(Mt^Nt[Et])&255,$t=ut[jt];Mt=Mt>>>8^$t}return Mt^-1}function mt(Nt,Lt,kt,Mt){let Et=Mt;const jt=Lt.length;kt[Et]=jt>>24&255,kt[Et+1]=jt>>16&255,kt[Et+2]=jt>>8&255,kt[Et+3]=jt&255,Et+=4,kt[Et]=Nt.charCodeAt(0)&255,kt[Et+1]=Nt.charCodeAt(1)&255,kt[Et+2]=Nt.charCodeAt(2)&255,kt[Et+3]=Nt.charCodeAt(3)&255,Et+=4,kt.set(Lt,Et),Et+=Lt.length;const $t=pt(kt,Mt+4,Et);kt[Et]=$t>>24&255,kt[Et+1]=$t>>16&255,kt[Et+2]=$t>>8&255,kt[Et+3]=$t&255}function ht(Nt,Lt,kt){let Mt=1,Et=0;for(let jt=Lt;jt<kt;++jt)Mt=(Mt+(Nt[jt]&255))%65521,Et=(Et+Mt)%65521;return Et<<16|Mt}function _t(Nt){if(!c.isNodeJS)return Vt(Nt);try{let Lt;parseInt(process.versions.node)>=8?Lt=Nt:Lt=Buffer.from(Nt);const kt=require$$5.deflateSync(Lt,{level:9});return kt instanceof Uint8Array?kt:new Uint8Array(kt)}catch(Lt){(0,a.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Lt)}return Vt(Nt)}function Vt(Nt){let Lt=Nt.length;const kt=65535,Mt=Math.ceil(Lt/kt),Et=new Uint8Array(2+Lt+Mt*5+4);let jt=0;Et[jt++]=120,Et[jt++]=156;let $t=0;for(;Lt>kt;)Et[jt++]=0,Et[jt++]=255,Et[jt++]=255,Et[jt++]=0,Et[jt++]=0,Et.set(Nt.subarray($t,$t+kt),jt),jt+=kt,$t+=kt,Lt-=kt;Et[jt++]=1,Et[jt++]=Lt&255,Et[jt++]=Lt>>8&255,Et[jt++]=~Lt&65535&255,Et[jt++]=(~Lt&65535)>>8&255,Et.set(Nt.subarray($t),jt),jt+=Nt.length-$t;const Kt=ht(Nt,0,Nt.length);return Et[jt++]=Kt>>24&255,Et[jt++]=Kt>>16&255,Et[jt++]=Kt>>8&255,Et[jt++]=Kt&255,Et}function Wt(Nt,Lt,kt,Mt){const Et=Nt.width,jt=Nt.height;let $t,Kt,Ct;const ft=Nt.data;switch(Lt){case a.ImageKind.GRAYSCALE_1BPP:Kt=0,$t=1,Ct=Et+7>>3;break;case a.ImageKind.RGB_24BPP:Kt=2,$t=8,Ct=Et*3;break;case a.ImageKind.RGBA_32BPP:Kt=6,$t=8,Ct=Et*4;break;default:throw new Error("invalid format")}const dt=new Uint8Array((1+Ct)*jt);let St=0,bt=0;for(let gt=0;gt<jt;++gt)dt[St++]=0,dt.set(ft.subarray(bt,bt+Ct),St),bt+=Ct,St+=Ct;if(Lt===a.ImageKind.GRAYSCALE_1BPP&&Mt){St=0;for(let gt=0;gt<jt;gt++){St++;for(let yt=0;yt<Ct;yt++)dt[St++]^=255}}const Tt=new Uint8Array([Et>>24&255,Et>>16&255,Et>>8&255,Et&255,jt>>24&255,jt>>16&255,jt>>8&255,jt&255,$t,Kt,0,0,0]),wt=_t(dt),Ot=$.length+it*3+Tt.length+wt.length,It=new Uint8Array(Ot);let ct=0;return It.set($,ct),ct+=$.length,mt("IHDR",Tt,It,ct),ct+=it+Tt.length,mt("IDATA",wt,It,ct),ct+=it+wt.length,mt("IEND",new Uint8Array(0),It,ct),nt(It,"image/png",kt)}return function(Lt,kt,Mt){const Et=Lt.kind===void 0?a.ImageKind.GRAYSCALE_1BPP:Lt.kind;return Wt(Lt,Et,kt,Mt)}}();class tt{constructor(){this.fontSizeScale=1,this.fontWeight=h.fontWeight,this.fontSize=0,this.textMatrix=a.IDENTITY_MATRIX,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=a.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=h.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(it,ut){this.x=it,this.y=ut}}let rt=0,ot=0,st=0;i.SVGGraphics=d=class{constructor($,it,ut=!1){(0,o.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new o.DOMSVGFactory,this.current=new tt,this.transformMatrix=a.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=$,this.objs=it,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!ut,this._operatorIdMapping=[];for(const pt in a.OPS)this._operatorIdMapping[a.OPS[pt]]=pt}save(){this.transformStack.push(this.transformMatrix);const $=this.current;this.extraStack.push($),this.current=$.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group($){this.save(),this.executeOpTree($),this.restore()}loadDependencies($){const it=$.fnArray,ut=$.argsArray;for(let pt=0,mt=it.length;pt<mt;pt++)if(it[pt]===a.OPS.dependency)for(const ht of ut[pt]){const _t=ht.startsWith("g_")?this.commonObjs:this.objs,Vt=new Promise(Wt=>{_t.get(ht,Wt)});this.current.dependencies.push(Vt)}return Promise.all(this.current.dependencies)}transform($,it,ut,pt,mt,ht){const _t=[$,it,ut,pt,mt,ht];this.transformMatrix=a.Util.transform(this.transformMatrix,_t),this.tgrp=null}getSVG($,it){this.viewport=it;const ut=this._initialize(it);return this.loadDependencies($).then(()=>(this.transformMatrix=a.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList($)),ut))}convertOpList($){const it=this._operatorIdMapping,ut=$.argsArray,pt=$.fnArray,mt=[];for(let ht=0,_t=pt.length;ht<_t;ht++){const Vt=pt[ht];mt.push({fnId:Vt,fn:it[Vt],args:ut[ht]})}return b(mt)}executeOpTree($){for(const it of $){const ut=it.fn,pt=it.fnId,mt=it.args;switch(pt|0){case a.OPS.beginText:this.beginText();break;case a.OPS.dependency:break;case a.OPS.setLeading:this.setLeading(mt);break;case a.OPS.setLeadingMoveText:this.setLeadingMoveText(mt[0],mt[1]);break;case a.OPS.setFont:this.setFont(mt);break;case a.OPS.showText:this.showText(mt[0]);break;case a.OPS.showSpacedText:this.showText(mt[0]);break;case a.OPS.endText:this.endText();break;case a.OPS.moveText:this.moveText(mt[0],mt[1]);break;case a.OPS.setCharSpacing:this.setCharSpacing(mt[0]);break;case a.OPS.setWordSpacing:this.setWordSpacing(mt[0]);break;case a.OPS.setHScale:this.setHScale(mt[0]);break;case a.OPS.setTextMatrix:this.setTextMatrix(mt[0],mt[1],mt[2],mt[3],mt[4],mt[5]);break;case a.OPS.setTextRise:this.setTextRise(mt[0]);break;case a.OPS.setTextRenderingMode:this.setTextRenderingMode(mt[0]);break;case a.OPS.setLineWidth:this.setLineWidth(mt[0]);break;case a.OPS.setLineJoin:this.setLineJoin(mt[0]);break;case a.OPS.setLineCap:this.setLineCap(mt[0]);break;case a.OPS.setMiterLimit:this.setMiterLimit(mt[0]);break;case a.OPS.setFillRGBColor:this.setFillRGBColor(mt[0],mt[1],mt[2]);break;case a.OPS.setStrokeRGBColor:this.setStrokeRGBColor(mt[0],mt[1],mt[2]);break;case a.OPS.setStrokeColorN:this.setStrokeColorN(mt);break;case a.OPS.setFillColorN:this.setFillColorN(mt);break;case a.OPS.shadingFill:this.shadingFill(mt[0]);break;case a.OPS.setDash:this.setDash(mt[0],mt[1]);break;case a.OPS.setRenderingIntent:this.setRenderingIntent(mt[0]);break;case a.OPS.setFlatness:this.setFlatness(mt[0]);break;case a.OPS.setGState:this.setGState(mt[0]);break;case a.OPS.fill:this.fill();break;case a.OPS.eoFill:this.eoFill();break;case a.OPS.stroke:this.stroke();break;case a.OPS.fillStroke:this.fillStroke();break;case a.OPS.eoFillStroke:this.eoFillStroke();break;case a.OPS.clip:this.clip("nonzero");break;case a.OPS.eoClip:this.clip("evenodd");break;case a.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case a.OPS.paintImageXObject:this.paintImageXObject(mt[0]);break;case a.OPS.paintInlineImageXObject:this.paintInlineImageXObject(mt[0]);break;case a.OPS.paintImageMaskXObject:this.paintImageMaskXObject(mt[0]);break;case a.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(mt[0],mt[1]);break;case a.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case a.OPS.closePath:this.closePath();break;case a.OPS.closeStroke:this.closeStroke();break;case a.OPS.closeFillStroke:this.closeFillStroke();break;case a.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case a.OPS.nextLine:this.nextLine();break;case a.OPS.transform:this.transform(mt[0],mt[1],mt[2],mt[3],mt[4],mt[5]);break;case a.OPS.constructPath:this.constructPath(mt[0],mt[1]);break;case a.OPS.endPath:this.endPath();break;case 92:this.group(it.items);break;default:(0,a.warn)(`Unimplemented operator ${ut}`);break}}}setWordSpacing($){this.current.wordSpacing=$}setCharSpacing($){this.current.charSpacing=$}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix($,it,ut,pt,mt,ht){const _t=this.current;_t.textMatrix=_t.lineMatrix=[$,it,ut,pt,mt,ht],_t.textMatrixScale=Math.hypot($,it),_t.x=_t.lineX=0,_t.y=_t.lineY=0,_t.xcoords=[],_t.ycoords=[],_t.tspan=this.svgFactory.createElement("svg:tspan"),_t.tspan.setAttributeNS(null,"font-family",_t.fontFamily),_t.tspan.setAttributeNS(null,"font-size",`${et(_t.fontSize)}px`),_t.tspan.setAttributeNS(null,"y",et(-_t.y)),_t.txtElement=this.svgFactory.createElement("svg:text"),_t.txtElement.append(_t.tspan)}beginText(){const $=this.current;$.x=$.lineX=0,$.y=$.lineY=0,$.textMatrix=a.IDENTITY_MATRIX,$.lineMatrix=a.IDENTITY_MATRIX,$.textMatrixScale=1,$.tspan=this.svgFactory.createElement("svg:tspan"),$.txtElement=this.svgFactory.createElement("svg:text"),$.txtgrp=this.svgFactory.createElement("svg:g"),$.xcoords=[],$.ycoords=[]}moveText($,it){const ut=this.current;ut.x=ut.lineX+=$,ut.y=ut.lineY+=it,ut.xcoords=[],ut.ycoords=[],ut.tspan=this.svgFactory.createElement("svg:tspan"),ut.tspan.setAttributeNS(null,"font-family",ut.fontFamily),ut.tspan.setAttributeNS(null,"font-size",`${et(ut.fontSize)}px`),ut.tspan.setAttributeNS(null,"y",et(-ut.y))}showText($){const it=this.current,ut=it.font,pt=it.fontSize;if(pt===0)return;const mt=it.fontSizeScale,ht=it.charSpacing,_t=it.wordSpacing,Vt=it.fontDirection,Wt=it.textHScale*Vt,Nt=ut.vertical,Lt=Nt?1:-1,kt=ut.defaultVMetrics,Mt=pt*it.fontMatrix[0];let Et=0;for(const Kt of $){if(Kt===null){Et+=Vt*_t;continue}else if(typeof Kt=="number"){Et+=Lt*Kt*pt/1e3;continue}const Ct=(Kt.isSpace?_t:0)+ht,ft=Kt.fontChar;let dt,St,bt=Kt.width;if(Nt){let wt;const Ot=Kt.vmetric||kt;wt=Kt.vmetric?Ot[1]:bt*.5,wt=-wt*Mt;const It=Ot[2]*Mt;bt=Ot?-Ot[0]:bt,dt=wt/mt,St=(Et+It)/mt}else dt=Et/mt,St=0;(Kt.isInFont||ut.missingFile)&&(it.xcoords.push(it.x+dt),Nt&&it.ycoords.push(-it.y+St),it.tspan.textContent+=ft);let Tt;Nt?Tt=bt*Mt-Ct*Vt:Tt=bt*Mt+Ct*Vt,Et+=Tt}it.tspan.setAttributeNS(null,"x",it.xcoords.map(et).join(" ")),Nt?it.tspan.setAttributeNS(null,"y",it.ycoords.map(et).join(" ")):it.tspan.setAttributeNS(null,"y",et(-it.y)),Nt?it.y-=Et:it.x+=Et*Wt,it.tspan.setAttributeNS(null,"font-family",it.fontFamily),it.tspan.setAttributeNS(null,"font-size",`${et(it.fontSize)}px`),it.fontStyle!==h.fontStyle&&it.tspan.setAttributeNS(null,"font-style",it.fontStyle),it.fontWeight!==h.fontWeight&&it.tspan.setAttributeNS(null,"font-weight",it.fontWeight);const jt=it.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;if(jt===a.TextRenderingMode.FILL||jt===a.TextRenderingMode.FILL_STROKE?(it.fillColor!==h.fillColor&&it.tspan.setAttributeNS(null,"fill",it.fillColor),it.fillAlpha<1&&it.tspan.setAttributeNS(null,"fill-opacity",it.fillAlpha)):it.textRenderingMode===a.TextRenderingMode.ADD_TO_PATH?it.tspan.setAttributeNS(null,"fill","transparent"):it.tspan.setAttributeNS(null,"fill","none"),jt===a.TextRenderingMode.STROKE||jt===a.TextRenderingMode.FILL_STROKE){const Kt=1/(it.textMatrixScale||1);this._setStrokeAttributes(it.tspan,Kt)}let $t=it.textMatrix;it.textRise!==0&&($t=$t.slice(),$t[5]+=it.textRise),it.txtElement.setAttributeNS(null,"transform",`${j($t)} scale(${et(Wt)}, -1)`),it.txtElement.setAttributeNS(g,"xml:space","preserve"),it.txtElement.append(it.tspan),it.txtgrp.append(it.txtElement),this._ensureTransformGroup().append(it.txtElement)}setLeadingMoveText($,it){this.setLeading(-it),this.moveText($,it)}addFontStyle($){if(!$.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const it=nt($.data,$.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${$.loadedName}"; src: url(${it}); }
`}setFont($){const it=this.current,ut=this.commonObjs.get($[0]);let pt=$[1];it.font=ut,this.embedFonts&&!ut.missingFile&&!this.embeddedFonts[ut.loadedName]&&(this.addFontStyle(ut),this.embeddedFonts[ut.loadedName]=ut),it.fontMatrix=ut.fontMatrix||a.FONT_IDENTITY_MATRIX;let mt="normal";ut.black?mt="900":ut.bold&&(mt="bold");const ht=ut.italic?"italic":"normal";pt<0?(pt=-pt,it.fontDirection=-1):it.fontDirection=1,it.fontSize=pt,it.fontFamily=ut.loadedName,it.fontWeight=mt,it.fontStyle=ht,it.tspan=this.svgFactory.createElement("svg:tspan"),it.tspan.setAttributeNS(null,"y",et(-it.y)),it.xcoords=[],it.ycoords=[]}endText(){var it;const $=this.current;$.textRenderingMode&a.TextRenderingMode.ADD_TO_PATH_FLAG&&((it=$.txtElement)!=null&&it.hasChildNodes())&&($.element=$.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth($){$>0&&(this.current.lineWidth=$)}setLineCap($){this.current.lineCap=_e[$]}setLineJoin($){this.current.lineJoin=at[$]}setMiterLimit($){this.current.miterLimit=$}setStrokeAlpha($){this.current.strokeAlpha=$}setStrokeRGBColor($,it,ut){this.current.strokeColor=a.Util.makeHexColor($,it,ut)}setFillAlpha($){this.current.fillAlpha=$}setFillRGBColor($,it,ut){this.current.fillColor=a.Util.makeHexColor($,it,ut),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN($){this.current.strokeColor=this._makeColorN_Pattern($)}setFillColorN($){this.current.fillColor=this._makeColorN_Pattern($)}shadingFill($){const it=this.viewport.width,ut=this.viewport.height,pt=a.Util.inverseTransform(this.transformMatrix),mt=a.Util.applyTransform([0,0],pt),ht=a.Util.applyTransform([0,ut],pt),_t=a.Util.applyTransform([it,0],pt),Vt=a.Util.applyTransform([it,ut],pt),Wt=Math.min(mt[0],ht[0],_t[0],Vt[0]),Nt=Math.min(mt[1],ht[1],_t[1],Vt[1]),Lt=Math.max(mt[0],ht[0],_t[0],Vt[0]),kt=Math.max(mt[1],ht[1],_t[1],Vt[1]),Mt=this.svgFactory.createElement("svg:rect");Mt.setAttributeNS(null,"x",Wt),Mt.setAttributeNS(null,"y",Nt),Mt.setAttributeNS(null,"width",Lt-Wt),Mt.setAttributeNS(null,"height",kt-Nt),Mt.setAttributeNS(null,"fill",this._makeShadingPattern($)),this.current.fillAlpha<1&&Mt.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Mt)}_makeColorN_Pattern($){return $[0]==="TilingPattern"?this._makeTilingPattern($):this._makeShadingPattern($)}_makeTilingPattern($){const it=$[1],ut=$[2],pt=$[3]||a.IDENTITY_MATRIX,[mt,ht,_t,Vt]=$[4],Wt=$[5],Nt=$[6],Lt=$[7],kt=`shading${st++}`,[Mt,Et,jt,$t]=a.Util.normalizeRect([...a.Util.applyTransform([mt,ht],pt),...a.Util.applyTransform([_t,Vt],pt)]),[Kt,Ct]=a.Util.singularValueDecompose2dScale(pt),ft=Wt*Kt,dt=Nt*Ct,St=this.svgFactory.createElement("svg:pattern");St.setAttributeNS(null,"id",kt),St.setAttributeNS(null,"patternUnits","userSpaceOnUse"),St.setAttributeNS(null,"width",ft),St.setAttributeNS(null,"height",dt),St.setAttributeNS(null,"x",`${Mt}`),St.setAttributeNS(null,"y",`${Et}`);const bt=this.svg,Tt=this.transformMatrix,wt=this.current.fillColor,Ot=this.current.strokeColor,It=this.svgFactory.create(jt-Mt,$t-Et);if(this.svg=It,this.transformMatrix=pt,Lt===2){const ct=a.Util.makeHexColor(...it);this.current.fillColor=ct,this.current.strokeColor=ct}return this.executeOpTree(this.convertOpList(ut)),this.svg=bt,this.transformMatrix=Tt,this.current.fillColor=wt,this.current.strokeColor=Ot,St.append(It.childNodes[0]),this.defs.append(St),`url(#${kt})`}_makeShadingPattern($){switch(typeof $=="string"&&($=this.objs.get($)),$[0]){case"RadialAxial":const it=`shading${st++}`,ut=$[3];let pt;switch($[1]){case"axial":const mt=$[4],ht=$[5];pt=this.svgFactory.createElement("svg:linearGradient"),pt.setAttributeNS(null,"id",it),pt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),pt.setAttributeNS(null,"x1",mt[0]),pt.setAttributeNS(null,"y1",mt[1]),pt.setAttributeNS(null,"x2",ht[0]),pt.setAttributeNS(null,"y2",ht[1]);break;case"radial":const _t=$[4],Vt=$[5],Wt=$[6],Nt=$[7];pt=this.svgFactory.createElement("svg:radialGradient"),pt.setAttributeNS(null,"id",it),pt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),pt.setAttributeNS(null,"cx",Vt[0]),pt.setAttributeNS(null,"cy",Vt[1]),pt.setAttributeNS(null,"r",Nt),pt.setAttributeNS(null,"fx",_t[0]),pt.setAttributeNS(null,"fy",_t[1]),pt.setAttributeNS(null,"fr",Wt);break;default:throw new Error(`Unknown RadialAxial type: ${$[1]}`)}for(const mt of ut){const ht=this.svgFactory.createElement("svg:stop");ht.setAttributeNS(null,"offset",mt[0]),ht.setAttributeNS(null,"stop-color",mt[1]),pt.append(ht)}return this.defs.append(pt),`url(#${it})`;case"Mesh":return(0,a.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${$[0]}`)}}setDash($,it){this.current.dashArray=$,this.current.dashPhase=it}constructPath($,it){const ut=this.current;let pt=ut.x,mt=ut.y,ht=[],_t=0;for(const Vt of $)switch(Vt|0){case a.OPS.rectangle:pt=it[_t++],mt=it[_t++];const Wt=it[_t++],Nt=it[_t++],Lt=pt+Wt,kt=mt+Nt;ht.push("M",et(pt),et(mt),"L",et(Lt),et(mt),"L",et(Lt),et(kt),"L",et(pt),et(kt),"Z");break;case a.OPS.moveTo:pt=it[_t++],mt=it[_t++],ht.push("M",et(pt),et(mt));break;case a.OPS.lineTo:pt=it[_t++],mt=it[_t++],ht.push("L",et(pt),et(mt));break;case a.OPS.curveTo:pt=it[_t+4],mt=it[_t+5],ht.push("C",et(it[_t]),et(it[_t+1]),et(it[_t+2]),et(it[_t+3]),et(pt),et(mt)),_t+=6;break;case a.OPS.curveTo2:ht.push("C",et(pt),et(mt),et(it[_t]),et(it[_t+1]),et(it[_t+2]),et(it[_t+3])),pt=it[_t+2],mt=it[_t+3],_t+=4;break;case a.OPS.curveTo3:pt=it[_t+2],mt=it[_t+3],ht.push("C",et(it[_t]),et(it[_t+1]),et(pt),et(mt),et(pt),et(mt)),_t+=4;break;case a.OPS.closePath:ht.push("Z");break}ht=ht.join(" "),ut.path&&$.length>0&&$[0]!==a.OPS.rectangle&&$[0]!==a.OPS.moveTo?ht=ut.path.getAttributeNS(null,"d")+ht:(ut.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(ut.path)),ut.path.setAttributeNS(null,"d",ht),ut.path.setAttributeNS(null,"fill","none"),ut.element=ut.path,ut.setCurrentPoint(pt,mt)}endPath(){const $=this.current;if($.path=null,!this.pendingClip)return;if(!$.element){this.pendingClip=null;return}const it=`clippath${rt++}`,ut=this.svgFactory.createElement("svg:clipPath");ut.setAttributeNS(null,"id",it),ut.setAttributeNS(null,"transform",j(this.transformMatrix));const pt=$.element.cloneNode(!0);if(this.pendingClip==="evenodd"?pt.setAttributeNS(null,"clip-rule","evenodd"):pt.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,ut.append(pt),this.defs.append(ut),$.activeClipUrl){$.clipGroup=null;for(const mt of this.extraStack)mt.clipGroup=null;ut.setAttributeNS(null,"clip-path",$.activeClipUrl)}$.activeClipUrl=`url(#${it})`,this.tgrp=null}clip($){this.pendingClip=$}closePath(){const $=this.current;if($.path){const it=`${$.path.getAttributeNS(null,"d")}Z`;$.path.setAttributeNS(null,"d",it)}}setLeading($){this.current.leading=-$}setTextRise($){this.current.textRise=$}setTextRenderingMode($){this.current.textRenderingMode=$}setHScale($){this.current.textHScale=$/100}setRenderingIntent($){}setFlatness($){}setGState($){for(const[it,ut]of $)switch(it){case"LW":this.setLineWidth(ut);break;case"LC":this.setLineCap(ut);break;case"LJ":this.setLineJoin(ut);break;case"ML":this.setMiterLimit(ut);break;case"D":this.setDash(ut[0],ut[1]);break;case"RI":this.setRenderingIntent(ut);break;case"FL":this.setFlatness(ut);break;case"Font":this.setFont(ut);break;case"CA":this.setStrokeAlpha(ut);break;case"ca":this.setFillAlpha(ut);break;default:(0,a.warn)(`Unimplemented graphic state operator ${it}`);break}}fill(){const $=this.current;$.element&&($.element.setAttributeNS(null,"fill",$.fillColor),$.element.setAttributeNS(null,"fill-opacity",$.fillAlpha),this.endPath())}stroke(){const $=this.current;$.element&&(this._setStrokeAttributes($.element),$.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes($,it=1){const ut=this.current;let pt=ut.dashArray;it!==1&&pt.length>0&&(pt=pt.map(function(mt){return it*mt})),$.setAttributeNS(null,"stroke",ut.strokeColor),$.setAttributeNS(null,"stroke-opacity",ut.strokeAlpha),$.setAttributeNS(null,"stroke-miterlimit",et(ut.miterLimit)),$.setAttributeNS(null,"stroke-linecap",ut.lineCap),$.setAttributeNS(null,"stroke-linejoin",ut.lineJoin),$.setAttributeNS(null,"stroke-width",et(it*ut.lineWidth)+"px"),$.setAttributeNS(null,"stroke-dasharray",pt.map(et).join(" ")),$.setAttributeNS(null,"stroke-dashoffset",et(it*ut.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const $=this.svgFactory.createElement("svg:rect");$.setAttributeNS(null,"x","0"),$.setAttributeNS(null,"y","0"),$.setAttributeNS(null,"width","1px"),$.setAttributeNS(null,"height","1px"),$.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append($)}paintImageXObject($){const it=$.startsWith("g_")?this.commonObjs.get($):this.objs.get($);if(!it){(0,a.warn)(`Dependent image with object ID ${$} is not ready yet`);return}this.paintInlineImageXObject(it)}paintInlineImageXObject($,it){const ut=$.width,pt=$.height,mt=lt($,this.forceDataSchema,!!it),ht=this.svgFactory.createElement("svg:rect");ht.setAttributeNS(null,"x","0"),ht.setAttributeNS(null,"y","0"),ht.setAttributeNS(null,"width",et(ut)),ht.setAttributeNS(null,"height",et(pt)),this.current.element=ht,this.clip("nonzero");const _t=this.svgFactory.createElement("svg:image");_t.setAttributeNS(_,"xlink:href",mt),_t.setAttributeNS(null,"x","0"),_t.setAttributeNS(null,"y",et(-pt)),_t.setAttributeNS(null,"width",et(ut)+"px"),_t.setAttributeNS(null,"height",et(pt)+"px"),_t.setAttributeNS(null,"transform",`scale(${et(1/ut)} ${et(-1/pt)})`),it?it.append(_t):this._ensureTransformGroup().append(_t)}paintImageMaskXObject($){const it=this.current,ut=$.width,pt=$.height,mt=it.fillColor;it.maskId=`mask${ot++}`;const ht=this.svgFactory.createElement("svg:mask");ht.setAttributeNS(null,"id",it.maskId);const _t=this.svgFactory.createElement("svg:rect");_t.setAttributeNS(null,"x","0"),_t.setAttributeNS(null,"y","0"),_t.setAttributeNS(null,"width",et(ut)),_t.setAttributeNS(null,"height",et(pt)),_t.setAttributeNS(null,"fill",mt),_t.setAttributeNS(null,"mask",`url(#${it.maskId})`),this.defs.append(ht),this._ensureTransformGroup().append(_t),this.paintInlineImageXObject($,ht)}paintFormXObjectBegin($,it){if(Array.isArray($)&&$.length===6&&this.transform($[0],$[1],$[2],$[3],$[4],$[5]),it){const ut=it[2]-it[0],pt=it[3]-it[1],mt=this.svgFactory.createElement("svg:rect");mt.setAttributeNS(null,"x",it[0]),mt.setAttributeNS(null,"y",it[1]),mt.setAttributeNS(null,"width",et(ut)),mt.setAttributeNS(null,"height",et(pt)),this.current.element=mt,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize($){const it=this.svgFactory.create($.width,$.height),ut=this.svgFactory.createElement("svg:defs");it.append(ut),this.defs=ut;const pt=this.svgFactory.createElement("svg:g");return pt.setAttributeNS(null,"transform",j($.transform)),it.append(pt),this.svg=pt,it}_ensureClipGroup(){if(!this.current.clipGroup){const $=this.svgFactory.createElement("svg:g");$.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append($),this.current.clipGroup=$}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",j(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNodeStream=void 0;var o=s(1),a=s(33);const c=require$$5,d=require$$5,h=require$$5,g=require$$5,_=/^file:\/\/\/[a-zA-Z]:\//;function _e(ot){const st=g.parse(ot);return st.protocol==="file:"||st.host?st:/^[a-z]:[/\\]/i.test(ot)?g.parse(`file:///${ot}`):(st.host||(st.protocol="file:"),st)}class at{constructor(st){this.source=st,this.url=_e(st.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&st.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var st;return((st=this._fullRequestReader)==null?void 0:st._loaded)??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new j(this):new b(this),this._fullRequestReader}getRangeReader(st,$){if($<=this._progressiveDataLength)return null;const it=this.isFsUrl?new rt(this,st,$):new et(this,st,$);return this._rangeRequestReaders.push(it),it}cancelAllRequests(st){this._fullRequestReader&&this._fullRequestReader.cancel(st);for(const $ of this._rangeRequestReaders.slice(0))$.cancel(st)}}i.PDFNodeStream=at;class nt{constructor(st){this._url=st.url,this._done=!1,this._storedError=null,this.onProgress=null;const $=st.source;this._contentLength=$.length,this._loaded=0,this._filename=null,this._disableRange=$.disableRange||!1,this._rangeChunkSize=$.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!$.disableStream,this._isRangeSupported=!$.disableRange,this._readableStream=null,this._readCapability=(0,o.createPromiseCapability)(),this._headersCapability=(0,o.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const st=this._readableStream.read();return st===null?(this._readCapability=(0,o.createPromiseCapability)(),this.read()):(this._loaded+=st.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(st).buffer,done:!1})}cancel(st){if(!this._readableStream){this._error(st);return}this._readableStream.destroy(st)}_error(st){this._storedError=st,this._readCapability.resolve()}_setReadableStream(st){this._readableStream=st,st.on("readable",()=>{this._readCapability.resolve()}),st.on("end",()=>{st.destroy(),this._done=!0,this._readCapability.resolve()}),st.on("error",$=>{this._error($)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new o.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class lt{constructor(st){this._url=st.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,o.createPromiseCapability)();const $=st.source;this._isStreamingSupported=!$.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const st=this._readableStream.read();return st===null?(this._readCapability=(0,o.createPromiseCapability)(),this.read()):(this._loaded+=st.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(st).buffer,done:!1})}cancel(st){if(!this._readableStream){this._error(st);return}this._readableStream.destroy(st)}_error(st){this._storedError=st,this._readCapability.resolve()}_setReadableStream(st){this._readableStream=st,st.on("readable",()=>{this._readCapability.resolve()}),st.on("end",()=>{st.destroy(),this._done=!0,this._readCapability.resolve()}),st.on("error",$=>{this._error($)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function tt(ot,st){return{protocol:ot.protocol,auth:ot.auth,host:ot.hostname,port:ot.port,path:ot.path,method:"GET",headers:st}}class b extends nt{constructor(st){super(st);const $=it=>{if(it.statusCode===404){const ht=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=ht,this._headersCapability.reject(ht);return}this._headersCapability.resolve(),this._setReadableStream(it);const ut=ht=>this._readableStream.headers[ht.toLowerCase()],{allowRangeRequests:pt,suggestedLength:mt}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:ut,isHttp:st.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=pt,this._contentLength=mt||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(ut)};this._request=null,this._url.protocol==="http:"?this._request=d.request(tt(this._url,st.httpHeaders),$):this._request=h.request(tt(this._url,st.httpHeaders),$),this._request.on("error",it=>{this._storedError=it,this._headersCapability.reject(it)}),this._request.end()}}class et extends lt{constructor(st,$,it){super(st),this._httpHeaders={};for(const pt in st.httpHeaders){const mt=st.httpHeaders[pt];typeof mt>"u"||(this._httpHeaders[pt]=mt)}this._httpHeaders.Range=`bytes=${$}-${it-1}`;const ut=pt=>{if(pt.statusCode===404){const mt=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=mt;return}this._setReadableStream(pt)};this._request=null,this._url.protocol==="http:"?this._request=d.request(tt(this._url,this._httpHeaders),ut):this._request=h.request(tt(this._url,this._httpHeaders),ut),this._request.on("error",pt=>{this._storedError=pt}),this._request.end()}}class j extends nt{constructor(st){super(st);let $=decodeURIComponent(this._url.path);_.test(this._url.href)&&($=$.replace(/^\//,"")),c.lstat($,(it,ut)=>{if(it){it.code==="ENOENT"&&(it=new o.MissingPDFException(`Missing PDF "${$}".`)),this._storedError=it,this._headersCapability.reject(it);return}this._contentLength=ut.size,this._setReadableStream(c.createReadStream($)),this._headersCapability.resolve()})}}class rt extends lt{constructor(st,$,it){super(st);let ut=decodeURIComponent(this._url.path);_.test(this._url.href)&&(ut=ut.replace(/^\//,"")),this._setReadableStream(c.createReadStream(ut,{start:$,end:it-1}))}}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createResponseStatusError=g,i.extractFilenameFromHeader=h,i.validateRangeRequestCapabilities=d,i.validateResponseStatus=_;var o=s(1),a=s(34),c=s(8);function d({getResponseHeader:_e,isHttp:at,rangeChunkSize:nt,disableRange:lt}){const tt={allowRangeRequests:!1,suggestedLength:void 0},b=parseInt(_e("Content-Length"),10);return!Number.isInteger(b)||(tt.suggestedLength=b,b<=2*nt)||lt||!at||_e("Accept-Ranges")!=="bytes"||(_e("Content-Encoding")||"identity")!=="identity"||(tt.allowRangeRequests=!0),tt}function h(_e){const at=_e("Content-Disposition");if(at){let nt=(0,a.getFilenameFromContentDispositionHeader)(at);if(nt.includes("%"))try{nt=decodeURIComponent(nt)}catch{}if((0,c.isPdfFile)(nt))return nt}return null}function g(_e,at){return _e===404||_e===0&&at.startsWith("file:")?new o.MissingPDFException('Missing PDF "'+at+'".'):new o.UnexpectedResponseException(`Unexpected server response (${_e}) while retrieving PDF "${at}".`,_e)}function _(_e){return _e===200||_e===206}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getFilenameFromContentDispositionHeader=a;var o=s(1);function a(c){let d=!0,h=g("filename\\*","i").exec(c);if(h){h=h[1];let b=nt(h);return b=unescape(b),b=lt(b),b=tt(b),_e(b)}if(h=at(c),h){const b=tt(h);return _e(b)}if(h=g("filename","i").exec(c),h){h=h[1];let b=nt(h);return b=tt(b),_e(b)}function g(b,et){return new RegExp("(?:^|;)\\s*"+b+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',et)}function _(b,et){if(b){if(!/^[\x00-\xFF]+$/.test(et))return et;try{const j=new TextDecoder(b,{fatal:!0}),rt=(0,o.stringToBytes)(et);et=j.decode(rt),d=!1}catch{}}return et}function _e(b){return d&&/[\x80-\xff]/.test(b)&&(b=_("utf-8",b),d&&(b=_("iso-8859-1",b))),b}function at(b){const et=[];let j;const rt=g("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(j=rt.exec(b))!==null;){let[,st,$,it]=j;if(st=parseInt(st,10),st in et){if(st===0)break;continue}et[st]=[$,it]}const ot=[];for(let st=0;st<et.length&&st in et;++st){let[$,it]=et[st];it=nt(it),$&&(it=unescape(it),st===0&&(it=lt(it))),ot.push(it)}return ot.join("")}function nt(b){if(b.startsWith('"')){const et=b.slice(1).split('\\"');for(let j=0;j<et.length;++j){const rt=et[j].indexOf('"');rt!==-1&&(et[j]=et[j].slice(0,rt),et.length=j+1),et[j]=et[j].replace(/\\(.)/g,"$1")}b=et.join('"')}return b}function lt(b){const et=b.indexOf("'");if(et===-1)return b;const j=b.slice(0,et),ot=b.slice(et+1).replace(/^[^']*'/,"");return _(j,ot)}function tt(b){return!b.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(b)?b:b.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(et,j,rt,ot){if(rt==="q"||rt==="Q")return ot=ot.replace(/_/g," "),ot=ot.replace(/=([0-9a-fA-F]{2})/g,function(st,$){return String.fromCharCode(parseInt($,16))}),_(j,ot);try{ot=atob(ot)}catch{}return _(j,ot)})}return""}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNetworkStream=void 0;var o=s(1),a=s(33);const c=200,d=206;function h(nt){const lt=nt.response;return typeof lt!="string"?lt:(0,o.stringToBytes)(lt).buffer}class g{constructor(lt,tt={}){this.url=lt,this.isHttp=/^https?:/i.test(lt),this.httpHeaders=this.isHttp&&tt.httpHeaders||Object.create(null),this.withCredentials=tt.withCredentials||!1,this.getXhr=tt.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(lt,tt,b){const et={begin:lt,end:tt};for(const j in b)et[j]=b[j];return this.request(et)}requestFull(lt){return this.request(lt)}request(lt){const tt=this.getXhr(),b=this.currXhrId++,et=this.pendingRequests[b]={xhr:tt};tt.open("GET",this.url),tt.withCredentials=this.withCredentials;for(const j in this.httpHeaders){const rt=this.httpHeaders[j];typeof rt>"u"||tt.setRequestHeader(j,rt)}return this.isHttp&&"begin"in lt&&"end"in lt?(tt.setRequestHeader("Range",`bytes=${lt.begin}-${lt.end-1}`),et.expectedStatus=d):et.expectedStatus=c,tt.responseType="arraybuffer",lt.onError&&(tt.onerror=function(j){lt.onError(tt.status)}),tt.onreadystatechange=this.onStateChange.bind(this,b),tt.onprogress=this.onProgress.bind(this,b),et.onHeadersReceived=lt.onHeadersReceived,et.onDone=lt.onDone,et.onError=lt.onError,et.onProgress=lt.onProgress,tt.send(null),b}onProgress(lt,tt){var et;const b=this.pendingRequests[lt];b&&((et=b.onProgress)==null||et.call(b,tt))}onStateChange(lt,tt){var st,$,it;const b=this.pendingRequests[lt];if(!b)return;const et=b.xhr;if(et.readyState>=2&&b.onHeadersReceived&&(b.onHeadersReceived(),delete b.onHeadersReceived),et.readyState!==4||!(lt in this.pendingRequests))return;if(delete this.pendingRequests[lt],et.status===0&&this.isHttp){(st=b.onError)==null||st.call(b,et.status);return}const j=et.status||c;if(!(j===c&&b.expectedStatus===d)&&j!==b.expectedStatus){($=b.onError)==null||$.call(b,et.status);return}const ot=h(et);if(j===d){const ut=et.getResponseHeader("Content-Range"),pt=/bytes (\d+)-(\d+)\/(\d+)/.exec(ut);b.onDone({begin:parseInt(pt[1],10),chunk:ot})}else ot?b.onDone({begin:0,chunk:ot}):(it=b.onError)==null||it.call(b,et.status)}getRequestXhr(lt){return this.pendingRequests[lt].xhr}isPendingRequest(lt){return lt in this.pendingRequests}abortRequest(lt){const tt=this.pendingRequests[lt].xhr;delete this.pendingRequests[lt],tt.abort()}}class _{constructor(lt){this._source=lt,this._manager=new g(lt.url,{httpHeaders:lt.httpHeaders,withCredentials:lt.withCredentials}),this._rangeChunkSize=lt.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(lt){const tt=this._rangeRequestReaders.indexOf(lt);tt>=0&&this._rangeRequestReaders.splice(tt,1)}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new _e(this._manager,this._source),this._fullRequestReader}getRangeReader(lt,tt){const b=new at(this._manager,lt,tt);return b.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(b),b}cancelAllRequests(lt){var tt;(tt=this._fullRequestReader)==null||tt.cancel(lt);for(const b of this._rangeRequestReaders.slice(0))b.cancel(lt)}}i.PDFNetworkStream=_;class _e{constructor(lt,tt){this._manager=lt;const b={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=tt.url,this._fullRequestId=lt.requestFull(b),this._headersReceivedCapability=(0,o.createPromiseCapability)(),this._disableRange=tt.disableRange||!1,this._contentLength=tt.length,this._rangeChunkSize=tt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const lt=this._fullRequestId,tt=this._manager.getRequestXhr(lt),b=rt=>tt.getResponseHeader(rt),{allowRangeRequests:et,suggestedLength:j}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:b,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});et&&(this._isRangeSupported=!0),this._contentLength=j||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(b),this._isRangeSupported&&this._manager.abortRequest(lt),this._headersReceivedCapability.resolve()}_onDone(lt){if(lt&&(this._requests.length>0?this._requests.shift().resolve({value:lt.chunk,done:!1}):this._cachedChunks.push(lt.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const tt of this._requests)tt.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(lt){this._storedError=(0,a.createResponseStatusError)(lt,this._url),this._headersReceivedCapability.reject(this._storedError);for(const tt of this._requests)tt.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(lt){var tt;(tt=this.onProgress)==null||tt.call(this,{loaded:lt.loaded,total:lt.lengthComputable?lt.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const lt=(0,o.createPromiseCapability)();return this._requests.push(lt),lt.promise}cancel(lt){this._done=!0,this._headersReceivedCapability.reject(lt);for(const tt of this._requests)tt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class at{constructor(lt,tt,b){this._manager=lt;const et={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=lt.url,this._requestId=lt.requestRange(tt,b,et),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var lt;(lt=this.onClosed)==null||lt.call(this,this)}_onDone(lt){const tt=lt.chunk;this._requests.length>0?this._requests.shift().resolve({value:tt,done:!1}):this._queuedChunk=tt,this._done=!0;for(const b of this._requests)b.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(lt){this._storedError=(0,a.createResponseStatusError)(lt,this._url);for(const tt of this._requests)tt.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(lt){var tt;this.isStreamingSupported||(tt=this.onProgress)==null||tt.call(this,{loaded:lt.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const tt=this._queuedChunk;return this._queuedChunk=null,{value:tt,done:!1}}if(this._done)return{value:void 0,done:!0};const lt=(0,o.createPromiseCapability)();return this._requests.push(lt),lt.promise}cancel(lt){this._done=!0;for(const tt of this._requests)tt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFFetchStream=void 0;var o=s(1),a=s(33);function c(_e,at,nt){return{method:"GET",headers:_e,signal:nt.signal,mode:"cors",credentials:at?"include":"same-origin",redirect:"follow"}}function d(_e){const at=new Headers;for(const nt in _e){const lt=_e[nt];typeof lt>"u"||at.append(nt,lt)}return at}class h{constructor(at){this.source=at,this.isHttp=/^https?:/i.test(at.url),this.httpHeaders=this.isHttp&&at.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var at;return((at=this._fullRequestReader)==null?void 0:at._loaded)??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new g(this),this._fullRequestReader}getRangeReader(at,nt){if(nt<=this._progressiveDataLength)return null;const lt=new _(this,at,nt);return this._rangeRequestReaders.push(lt),lt}cancelAllRequests(at){this._fullRequestReader&&this._fullRequestReader.cancel(at);for(const nt of this._rangeRequestReaders.slice(0))nt.cancel(at)}}i.PDFFetchStream=h;class g{constructor(at){this._stream=at,this._reader=null,this._loaded=0,this._filename=null;const nt=at.source;this._withCredentials=nt.withCredentials||!1,this._contentLength=nt.length,this._headersCapability=(0,o.createPromiseCapability)(),this._disableRange=nt.disableRange||!1,this._rangeChunkSize=nt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!nt.disableStream,this._isRangeSupported=!nt.disableRange,this._headers=d(this._stream.httpHeaders);const lt=nt.url;fetch(lt,c(this._headers,this._withCredentials,this._abortController)).then(tt=>{if(!(0,a.validateResponseStatus)(tt.status))throw(0,a.createResponseStatusError)(tt.status,lt);this._reader=tt.body.getReader(),this._headersCapability.resolve();const b=rt=>tt.headers.get(rt),{allowRangeRequests:et,suggestedLength:j}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:b,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=et,this._contentLength=j||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(b),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new o.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:at,done:nt}=await this._reader.read();return nt?{value:at,done:nt}:(this._loaded+=at.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(at).buffer,done:!1})}cancel(at){this._reader&&this._reader.cancel(at),this._abortController.abort()}}class _{constructor(at,nt,lt){this._stream=at,this._reader=null,this._loaded=0;const tt=at.source;this._withCredentials=tt.withCredentials||!1,this._readCapability=(0,o.createPromiseCapability)(),this._isStreamingSupported=!tt.disableStream,this._abortController=new AbortController,this._headers=d(this._stream.httpHeaders),this._headers.append("Range",`bytes=${nt}-${lt-1}`);const b=tt.url;fetch(b,c(this._headers,this._withCredentials,this._abortController)).then(et=>{if(!(0,a.validateResponseStatus)(et.status))throw(0,a.createResponseStatusError)(et.status,b);this._readCapability.resolve(),this._reader=et.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:at,done:nt}=await this._reader.read();return nt?{value:at,done:nt}:(this._loaded+=at.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(at).buffer,done:!1})}cancel(at){this._reader&&this._reader.cancel(at),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var i=__webpack_module_cache__[e];if(i!==void 0)return i.exports;var s=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](s,s.exports,__w_pdfjs_require__),s.exports}var __webpack_exports__={};return(()=>{var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return a.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return i.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return i.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return c.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return d.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return i.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return i.CMapCompressionType}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return h.GlobalWorkerOptions}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return i.InvalidPDFException}}),Object.defineProperty(e,"LoopbackPort",{enumerable:!0,get:function(){return s.LoopbackPort}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return i.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return i.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return s.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return o.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return s.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return i.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return i.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return o.PixelsPerInch}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return o.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return _e.SVGGraphics}}),Object.defineProperty(e,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return i.UNSUPPORTED_FEATURES}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return i.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return i.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return i.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return at.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return s.build}}),Object.defineProperty(e,"createPromiseCapability",{enumerable:!0,get:function(){return i.createPromiseCapability}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return i.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return s.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return o.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return o.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return o.getXfaPageViewport}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return o.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return o.loadScript}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return _.renderTextLayer}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return i.shadow}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return s.version}});var i=__w_pdfjs_require__(1),s=__w_pdfjs_require__(4),o=__w_pdfjs_require__(8),a=__w_pdfjs_require__(22),c=__w_pdfjs_require__(7),d=__w_pdfjs_require__(27),h=__w_pdfjs_require__(15),g=__w_pdfjs_require__(3),_=__w_pdfjs_require__(30),_e=__w_pdfjs_require__(31),at=__w_pdfjs_require__(29);if(g.isNodeJS){const{PDFNodeStream:nt}=__w_pdfjs_require__(32);(0,s.setPDFNetworkStreamFactory)(lt=>new nt(lt))}else{const{PDFNetworkStream:nt}=__w_pdfjs_require__(35),{PDFFetchStream:lt}=__w_pdfjs_require__(36);(0,s.setPDFNetworkStreamFactory)(tt=>(0,o.isValidFetchUrl)(tt.url)?new lt(tt):new nt(tt))}})(),__webpack_exports__})())})(pdf);function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(e,i){if(e==null)return{};var s={},o=Object.keys(e),a,c;for(c=0;c<o.length;c++)a=o[c],!(i.indexOf(a)>=0)&&(s[a]=e[a]);return s}function _objectWithoutProperties(e,i){if(e==null)return{};var s=_objectWithoutPropertiesLoose(e,i),o,a;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)o=c[a],!(i.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(s[o]=e[o])}return s}function _typeof(e){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof(e)}function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function _toPrimitive(e,i){if(_typeof(e)!=="object"||e===null)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var o=s.call(e,i||"default");if(_typeof(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(e)}function _toPropertyKey(e){var i=_toPrimitive(e,"string");return _typeof(i)==="symbol"?i:String(i)}function _defineProperties(e,i){for(var s=0;s<i.length;s++){var o=i[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,i,s){return i&&_defineProperties(e.prototype,i),s&&_defineProperties(e,s),Object.defineProperty(e,"prototype",{writable:!1}),e}function _assertThisInitialized(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _setPrototypeOf(e,i){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,a){return o.__proto__=a,o},_setPrototypeOf(e,i)}function _inherits(e,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(i&&i.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),i&&_setPrototypeOf(e,i)}function _possibleConstructorReturn(e,i){if(i&&(_typeof(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf(e)}function _defineProperty(e,i,s){return i=_toPropertyKey(i),i in e?Object.defineProperty(e,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[i]=s,e}var propTypesExports={},propTypes={get exports(){return propTypesExports},set exports(e){propTypesExports=e}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function e(o,a,c,d,h,g){if(g!==ReactPropTypesSecret){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}e.isRequired=e;function i(){return e}var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:i,element:e,elementType:e,instanceOf:i,node:e,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return s.PropTypes=s,s};propTypes.exports=factoryWithThrowingShims();var __spreadArray=globalThis&&globalThis.__spreadArray||function(e,i,s){if(s||arguments.length===2)for(var o=0,a=i.length,c;o<a;o++)(c||!(o in i))&&(c||(c=Array.prototype.slice.call(i,0,o)),c[o]=i[o]);return e.concat(c||Array.prototype.slice.call(i))},clipboardEvents=["onCopy","onCut","onPaste"],compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],focusEvents=["onFocus","onBlur"],formEvents=["onChange","onInput","onInvalid","onReset","onSubmit"],genericEvents=["onError","onLoad"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],selectionEvents=["onSelect"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],uiEvents=["onScroll"],wheelEvents=["onWheel"],mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],imageEvents=["onLoad","onError"],animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],transitionEvents=["onTransitionEnd"],otherEvents=["onToggle"],allEvents=__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([],clipboardEvents,!0),compositionEvents,!0),keyboardEvents,!0),focusEvents,!0),formEvents,!0),genericEvents,!0),mouseEvents,!0),pointerEvents,!0),selectionEvents,!0),touchEvents,!0),uiEvents,!0),wheelEvents,!0),mediaEvents,!0),imageEvents,!0),animationEvents,!0),transitionEvents,!0),otherEvents,!0);function makeEventProps(e,i){var s={};return allEvents.forEach(function(o){var a=e[o];if(a){if(!i){s[o]=a;return}s[o]=function(c){return a(c,i(o))}}}),s}function makeCancellablePromise(e){var i=!1,s=new Promise(function(o,a){e.then(function(c){return!i&&o(c)}).catch(function(c){return!i&&a(c)})});return{promise:s,cancel:function(){i=!0}}}function r(e){var i,s,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e))for(i=0;i<e.length;i++)e[i]&&(s=r(e[i]))&&(o&&(o+=" "),o+=s);else for(i in e)e[i]&&(o&&(o+=" "),o+=i);return o}function clsx(){for(var e,i,s=0,o="";s<arguments.length;)(e=arguments[s++])&&(i=r(e))&&(o&&(o+=" "),o+=i);return o}var isProduction$1=!0,prefix="Invariant failed";function invariant$1(e,i){if(!e){if(isProduction$1)throw new Error(prefix);var s=typeof i=="function"?i():i,o=s?"".concat(prefix,": ").concat(s):prefix;throw new Error(o)}}var isProduction=!0;function warning$1(e,i){if(!isProduction){if(e)return;var s="Warning: "+i;typeof console<"u"&&console.warn(s);try{throw Error(s)}catch{}}}const DocumentContext=reactExports.createContext(null);function Message(e){var i=e.children,s=e.type;return React.createElement("div",{className:"react-pdf__message react-pdf__message--".concat(s)},i)}Message.propTypes={children:propTypesExports.node,type:propTypesExports.oneOf(["error","loading","no-data"]).isRequired};var DEFAULT_LINK_REL="noopener noreferrer nofollow",LinkService=function(){function e(){_classCallCheck(this,e),this.externalLinkTarget=null,this.externalLinkRel=null}return _createClass(e,[{key:"setDocument",value:function(s){this.pdfDocument=s}},{key:"setViewer",value:function(s){this.pdfViewer=s}},{key:"setExternalLinkRel",value:function(s){this.externalLinkRel=s}},{key:"setExternalLinkTarget",value:function(s){this.externalLinkTarget=s}},{key:"setHistory",value:function(){}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(s){this.pdfViewer.currentPageNumber=s}},{key:"rotation",get:function(){return 0},set:function(s){}},{key:"goToDestination",value:function(s){var o=this;new Promise(function(a){typeof s=="string"?o.pdfDocument.getDestination(s).then(a):Array.isArray(s)?a(s):s.then(a)}).then(function(a){invariant$1(Array.isArray(a),'"'.concat(a,'" is not a valid destination array.'));var c=a[0];new Promise(function(d){c instanceof Object?o.pdfDocument.getPageIndex(c).then(function(h){d(h)}).catch(function(){invariant$1(!1,'"'.concat(c,'" is not a valid page reference.'))}):typeof c=="number"?d(c):invariant$1(!1,'"'.concat(c,'" is not a valid destination reference.'))}).then(function(d){var h=d+1;invariant$1(h>=1&&h<=o.pagesCount,'"'.concat(h,'" is not a valid page number.')),o.pdfViewer.scrollPageIntoView({dest:s,pageIndex:d,pageNumber:h})})})}},{key:"navigateTo",value:function(s){this.goToDestination(s)}},{key:"goToPage",value:function(){}},{key:"addLinkAttributes",value:function(s,o,a){s.href=o,s.rel=this.externalLinkRel||DEFAULT_LINK_REL,s.target=a?"_blank":this.externalLinkTarget||""}},{key:"getDestinationHash",value:function(){return"#"}},{key:"getAnchorUrl",value:function(){return"#"}},{key:"setHash",value:function(){}},{key:"executeNamedAction",value:function(){}},{key:"cachePageRef",value:function(){}},{key:"isPageVisible",value:function(){return!0}},{key:"isPageCached",value:function(){return!0}}]),e}(),PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function _arrayWithHoles(e){if(Array.isArray(e))return e}function _iterableToArrayLimit(e,i){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var o,a,c,d,h=[],g=!0,_=!1;try{if(c=(s=s.call(e)).next,i===0){if(Object(s)!==s)return;g=!1}else for(;!(g=(o=c.call(s)).done)&&(h.push(o.value),h.length!==i);g=!0);}catch(_e){_=!0,a=_e}finally{try{if(!g&&s.return!=null&&(d=s.return(),Object(d)!==d))return}finally{if(_)throw a}}return h}}function _arrayLikeToArray(e,i){(i==null||i>e.length)&&(i=e.length);for(var s=0,o=new Array(i);s<i;s++)o[s]=e[s];return o}function _unsupportedIterableToArray(e,i){if(e){if(typeof e=="string")return _arrayLikeToArray(e,i);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return _arrayLikeToArray(e,i)}}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _slicedToArray(e,i){return _arrayWithHoles(e)||_iterableToArrayLimit(e,i)||_unsupportedIterableToArray(e,i)||_nonIterableRest()}var isBrowser$1=typeof document<"u",isLocalFileSystem=isBrowser$1&&window.location.protocol==="file:";function isDefined(e){return typeof e<"u"}function isProvided(e){return isDefined(e)&&e!==null}function isString$1(e){return typeof e=="string"}function isArrayBuffer(e){return e instanceof ArrayBuffer}function isBlob(e){return invariant$1(isBrowser$1,"isBlob can only be used in a browser environment"),e instanceof Blob}function isFile$1(e){return invariant$1(isBrowser$1,"isFile can only be used in a browser environment"),e instanceof File}function isDataURI(e){return isString$1(e)&&/^data:/.test(e)}function dataURItoByteString(e){invariant$1(isDataURI(e),"Invalid data URI.");var i=e.split(","),s=_slicedToArray(i,2),o=s[0],a=s[1],c=o.split(";");return c.indexOf("base64")!==-1?atob(a):unescape(a)}function getDevicePixelRatio(){return isBrowser$1&&window.devicePixelRatio||1}var allowFileAccessFromFilesTip="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function displayCORSWarning(){warning$1(!isLocalFileSystem,"Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ".concat(allowFileAccessFromFilesTip))}function displayWorkerWarning(){warning$1(!isLocalFileSystem,"Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ".concat(allowFileAccessFromFilesTip))}function cancelRunningTask(e){e&&e.cancel&&e.cancel()}function makePageCallback(e,i){return Object.defineProperty(e,"width",{get:function(){return this.view[2]*i},configurable:!0}),Object.defineProperty(e,"height",{get:function(){return this.view[3]*i},configurable:!0}),Object.defineProperty(e,"originalWidth",{get:function(){return this.view[2]},configurable:!0}),Object.defineProperty(e,"originalHeight",{get:function(){return this.view[3]},configurable:!0}),e}function isCancelException(e){return e.name==="RenderingCancelledException"}function loadFromFile(e){return new Promise(function(i,s){var o=new FileReader;return o.onload=function(){return i(new Uint8Array(o.result))},o.onerror=function(a){switch(a.target.error.code){case a.target.error.NOT_FOUND_ERR:return s(new Error("Error while reading a file: File not found."));case a.target.error.NOT_READABLE_ERR:return s(new Error("Error while reading a file: File not readable."));case a.target.error.SECURITY_ERR:return s(new Error("Error while reading a file: Security error."));case a.target.error.ABORT_ERR:return s(new Error("Error while reading a file: Aborted."));default:return s(new Error("Error while reading a file."))}},o.readAsArrayBuffer(e),null})}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _iterableToArray(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}var eventProps=function(){var e={};return[].concat(_toConsumableArray(mouseEvents),_toConsumableArray(touchEvents),_toConsumableArray(keyboardEvents)).forEach(function(i){e[i]=propTypesExports.func}),e}(),fileTypes=[propTypesExports.string,propTypesExports.instanceOf(ArrayBuffer),propTypesExports.shape({data:propTypesExports.oneOfType([propTypesExports.object,propTypesExports.string]),httpHeaders:propTypesExports.object,range:propTypesExports.object,url:propTypesExports.string,withCredentials:propTypesExports.bool})];typeof File<"u"&&fileTypes.push(propTypesExports.instanceOf(File));typeof Blob<"u"&&fileTypes.push(propTypesExports.instanceOf(Blob));var isClassName=propTypesExports.oneOfType([propTypesExports.string,propTypesExports.arrayOf(propTypesExports.string)]),isFile=propTypesExports.oneOfType(fileTypes),isLinkService=propTypesExports.instanceOf(LinkService);propTypesExports.oneOf(["_self","_blank","_parent","_top"]);var isPage=propTypesExports.shape({commonObjs:propTypesExports.shape({}).isRequired,getAnnotations:propTypesExports.func.isRequired,getTextContent:propTypesExports.func.isRequired,getViewport:propTypesExports.func.isRequired,render:propTypesExports.func.isRequired}),isPageIndex=function e(i,s,o){var a=i[s],c=i.pageNumber,d=i.pdf;if(!isDefined(d))return null;if(isDefined(a)){if(typeof a!="number")return new Error("`".concat(s,"` of type `").concat(_typeof(a),"` supplied to `").concat(o,"`, expected `number`."));if(a<0)return new Error("Expected `".concat(s,"` to be greater or equal to 0."));var h=d.numPages;if(a+1>h)return new Error("Expected `".concat(s,"` to be less or equal to ").concat(h-1,"."))}else if(!isDefined(c))return new Error("`".concat(s,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(o,"`."));return null},isPageNumber=function e(i,s,o){var a=i[s],c=i.pageIndex,d=i.pdf;if(!isDefined(d))return null;if(isDefined(a)){if(typeof a!="number")return new Error("`".concat(s,"` of type `").concat(_typeof(a),"` supplied to `").concat(o,"`, expected `number`."));if(a<1)return new Error("Expected `".concat(s,"` to be greater or equal to 1."));var h=d.numPages;if(a>h)return new Error("Expected `".concat(s,"` to be less or equal to ").concat(h,"."))}else if(!isDefined(c))return new Error("`".concat(s,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(o,"`."));return null},isPdf=propTypesExports.oneOfType([propTypesExports.shape({getDestination:propTypesExports.func.isRequired,getOutline:propTypesExports.func.isRequired,getPage:propTypesExports.func.isRequired,numPages:propTypesExports.number.isRequired}),propTypesExports.bool]),isRef=propTypesExports.oneOfType([propTypesExports.func,propTypesExports.shape({current:propTypesExports.any})]),isRenderMode=propTypesExports.oneOf(["canvas","none","svg"]),isRotate=propTypesExports.oneOf([0,90,180,270]),_excluded=["url"];function ownKeys$3(e,i){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);i&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),s.push.apply(s,o)}return s}function _objectSpread$3(e){for(var i=1;i<arguments.length;i++){var s=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$3(Object(s),!0).forEach(function(o){_defineProperty(e,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ownKeys$3(Object(s)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(s,o))})}return e}function _createSuper$5(e){var i=_isNativeReflectConstruct$5();return function(){var o=_getPrototypeOf(e),a;if(i){var c=_getPrototypeOf(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$5(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var PDFDataRangeTransport=pdfExports.PDFDataRangeTransport,Document=function(e){_inherits(s,e);var i=_createSuper$5(s);function s(){var o;_classCallCheck(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=i.call.apply(i,[this].concat(c)),_defineProperty(_assertThisInitialized(o),"state",{pdf:null}),_defineProperty(_assertThisInitialized(o),"viewer",{scrollPageIntoView:function(g){var _=g.dest,_e=g.pageIndex,at=g.pageNumber,nt=o.props.onItemClick;if(nt){nt({dest:_,pageIndex:_e,pageNumber:at});return}var lt=o.pages[_e];if(lt){lt.scrollIntoView();return}warning$1(!1,"An internal link leading to page ".concat(at," was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>."))}}),_defineProperty(_assertThisInitialized(o),"linkService",new LinkService),_defineProperty(_assertThisInitialized(o),"loadDocument",function(){cancelRunningTask(o.runningTask),o.loadingTask&&o.loadingTask.destroy();var h=makeCancellablePromise(o.findDocumentSource());o.runningTask=h,h.promise.then(function(g){if(o.onSourceSuccess(),!!g){o.setState(function(tt){return tt.pdf?{pdf:null}:null});var _=o.props,_e=_.options,at=_.onLoadProgress,nt=_.onPassword,lt=pdfExports.getDocument(_objectSpread$3(_objectSpread$3({},g),_e));lt.onPassword=nt,at&&(lt.onProgress=at),o.loadingTask=lt,lt.promise.then(function(tt){o.setState(function(b){return b.pdf&&b.pdf.fingerprint===tt.fingerprint?null:{pdf:tt}},o.onLoadSuccess)}).catch(function(tt){o.onLoadError(tt)})}}).catch(function(g){o.onSourceError(g)})}),_defineProperty(_assertThisInitialized(o),"setupLinkService",function(){var h=o.props,g=h.externalLinkRel,_=h.externalLinkTarget;o.linkService.setViewer(o.viewer),o.linkService.setExternalLinkRel(g),o.linkService.setExternalLinkTarget(_)}),_defineProperty(_assertThisInitialized(o),"onSourceSuccess",function(){var h=o.props.onSourceSuccess;h&&h()}),_defineProperty(_assertThisInitialized(o),"onSourceError",function(h){warning$1(h);var g=o.props.onSourceError;g&&g(h)}),_defineProperty(_assertThisInitialized(o),"onLoadSuccess",function(){var h=o.props.onLoadSuccess,g=o.state.pdf;h&&h(g),o.pages=new Array(g.numPages),o.linkService.setDocument(g)}),_defineProperty(_assertThisInitialized(o),"onLoadError",function(h){o.setState({pdf:!1}),warning$1(h);var g=o.props.onLoadError;g&&g(h)}),_defineProperty(_assertThisInitialized(o),"findDocumentSource",function(){return new Promise(function(h){var g=o.props.file;if(g||h(null),typeof g=="string"){if(isDataURI(g)){var _=dataURItoByteString(g);h({data:_})}displayCORSWarning(),h({url:g})}if(g instanceof PDFDataRangeTransport&&h({range:g}),isArrayBuffer(g)&&h({data:g}),isBrowser$1&&(isBlob(g)||isFile$1(g))){loadFromFile(g).then(function(lt){h({data:lt})});return}if(invariant$1(_typeof(g)==="object","Invalid parameter in file, need either Uint8Array, string or a parameter object"),invariant$1(g.url||g.data||g.range,"Invalid parameter object: need either .data, .range or .url"),typeof g.url=="string"){if(isDataURI(g.url)){var _e=g.url,at=_objectWithoutProperties(g,_excluded),nt=dataURItoByteString(_e);h(_objectSpread$3({data:nt},at))}displayCORSWarning()}h(g)})}),_defineProperty(_assertThisInitialized(o),"registerPage",function(h,g){o.pages[h]=g}),_defineProperty(_assertThisInitialized(o),"unregisterPage",function(h){delete o.pages[h]}),o}return _createClass(s,[{key:"componentDidMount",value:function(){this.loadDocument(),this.setupLinkService()}},{key:"componentDidUpdate",value:function(a){var c=this.props.file;c!==a.file&&this.loadDocument()}},{key:"componentWillUnmount",value:function(){cancelRunningTask(this.runningTask),this.loadingTask&&this.loadingTask.destroy()}},{key:"childContext",get:function(){var a=this.linkService,c=this.registerPage,d=this.unregisterPage,h=this.props,g=h.imageResourcesPath,_=h.renderMode,_e=h.rotate,at=this.state.pdf;return{imageResourcesPath:g,linkService:a,pdf:at,registerPage:c,renderMode:_,rotate:_e,unregisterPage:d}}},{key:"eventProps",get:function(){var a=this;return makeEventProps(this.props,function(){return a.state.pdf})}},{key:"renderChildren",value:function(){var a=this.props.children;return React.createElement(DocumentContext.Provider,{value:this.childContext},a)}},{key:"renderContent",value:function(){var a=this.props.file,c=this.state.pdf;if(!a){var d=this.props.noData;return React.createElement(Message,{type:"no-data"},typeof d=="function"?d():d)}if(c===null){var h=this.props.loading;return React.createElement(Message,{type:"loading"},typeof h=="function"?h():h)}if(c===!1){var g=this.props.error;return React.createElement(Message,{type:"error"},typeof g=="function"?g():g)}return this.renderChildren()}},{key:"render",value:function(){var a=this.props,c=a.className,d=a.inputRef;return React.createElement("div",_extends({className:clsx("react-pdf__Document",c),ref:d},this.eventProps),this.renderContent())}}]),s}(reactExports.PureComponent);Document.defaultProps={error:"Failed to load PDF file.",loading:"Loading PDF",noData:"No PDF file specified.",onPassword:function e(i,s){switch(s){case PasswordResponses.NEED_PASSWORD:{var o=prompt("Enter the password to open this PDF file.");i(o);break}case PasswordResponses.INCORRECT_PASSWORD:{var a=prompt("Invalid password. Please try again.");i(a);break}}}};var isFunctionOrNode$1=propTypesExports.oneOfType([propTypesExports.func,propTypesExports.node]);Document.propTypes=_objectSpread$3(_objectSpread$3({},eventProps),{},{children:propTypesExports.node,className:isClassName,error:isFunctionOrNode$1,externalLinkRel:propTypesExports.string,externalLinkTarget:propTypesExports.string,file:isFile,imageResourcesPath:propTypesExports.string,inputRef:isRef,loading:isFunctionOrNode$1,noData:isFunctionOrNode$1,onItemClick:propTypesExports.func,onLoadError:propTypesExports.func,onLoadProgress:propTypesExports.func,onLoadSuccess:propTypesExports.func,onPassword:propTypesExports.func,onSourceError:propTypesExports.func,onSourceSuccess:propTypesExports.func,rotate:propTypesExports.number});var isDestination=propTypesExports.oneOfType([propTypesExports.string,propTypesExports.arrayOf(propTypesExports.any)]);propTypesExports.shape({dest:isDestination,items:propTypesExports.arrayOf(propTypesExports.shape({dest:isDestination,title:propTypesExports.string})),title:propTypesExports.string}).isRequired,propTypesExports.func,isPdf.isRequired;function ownKeys$2(e,i){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);i&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),s.push.apply(s,o)}return s}function _objectSpread$2(e){for(var i=1;i<arguments.length;i++){var s=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$2(Object(s),!0).forEach(function(o){_defineProperty(e,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ownKeys$2(Object(s)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(s,o))})}return e}_objectSpread$2({className:isClassName,inputRef:isRef,onItemClick:propTypesExports.func,onLoadError:propTypesExports.func,onLoadSuccess:propTypesExports.func,pdf:isPdf},eventProps);function mergeRefs(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var s=e.filter(Boolean);if(s.length<=1){var o=s[0];return o||null}return function(c){s.forEach(function(d){typeof d=="function"?d(c):d&&(d.current=c)})}}const PageContext=reactExports.createContext(null);function _createSuper$4(e){var i=_isNativeReflectConstruct$4();return function(){var o=_getPrototypeOf(e),a;if(i){var c=_getPrototypeOf(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$4(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var ANNOTATION_MODE=pdfExports.AnnotationMode,PageCanvasInternal=function(e){_inherits(s,e);var i=_createSuper$4(s);function s(){var o;_classCallCheck(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=i.call.apply(i,[this].concat(c)),_defineProperty(_assertThisInitialized(o),"canvasElement",reactExports.createRef()),_defineProperty(_assertThisInitialized(o),"onRenderSuccess",function(){o.renderer=null;var h=o.props,g=h.onRenderSuccess,_=h.page,_e=h.scale;g&&g(makePageCallback(_,_e))}),_defineProperty(_assertThisInitialized(o),"onRenderError",function(h){if(!isCancelException(h)){warning$1(h);var g=o.props.onRenderError;g&&g(h)}}),_defineProperty(_assertThisInitialized(o),"drawPageOnCanvas",function(){var h=o.canvasElement.current;if(!h)return null;var g=_assertThisInitialized(o),_=g.renderViewport,_e=g.viewport,at=o.props,nt=at.canvasBackground,lt=at.page,tt=at.renderForms;h.width=_.width,h.height=_.height,h.style.width="".concat(Math.floor(_e.width),"px"),h.style.height="".concat(Math.floor(_e.height),"px");var b={annotationMode:tt?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,get canvasContext(){return h.getContext("2d",{alpha:!1})},viewport:_};nt&&(b.background=nt),o.cancelRenderingTask();var et=lt.render(b);return o.renderer=et,et.promise.then(o.onRenderSuccess).catch(o.onRenderError)}),o}return _createClass(s,[{key:"componentDidMount",value:function(){this.drawPageOnCanvas()}},{key:"componentDidUpdate",value:function(a){var c=this.props,d=c.canvasBackground,h=c.devicePixelRatio,g=c.page,_=c.renderForms;(d!==a.canvasBackground||h!==a.devicePixelRatio||_!==a.renderForms)&&(g.cleanup(),this.drawPageOnCanvas())}},{key:"componentWillUnmount",value:function(){this.cancelRenderingTask();var a=this.canvasElement.current;a&&(a.width=0,a.height=0)}},{key:"cancelRenderingTask",value:function(){this.renderer&&(this.renderer.cancel(),this.renderer=null)}},{key:"devicePixelRatio",get:function(){var a=this.props.devicePixelRatio;return a||getDevicePixelRatio()}},{key:"renderViewport",get:function(){var a=this.devicePixelRatio,c=this.props,d=c.page,h=c.rotate,g=c.scale;return d.getViewport({scale:g*a,rotation:h})}},{key:"viewport",get:function(){var a=this.props,c=a.page,d=a.rotate,h=a.scale;return c.getViewport({scale:h,rotation:d})}},{key:"render",value:function(){var a=this.props.canvasRef;return React.createElement("canvas",{className:"react-pdf__Page__canvas",dir:"ltr",ref:mergeRefs(a,this.canvasElement),style:{display:"block",userSelect:"none"}})}}]),s}(reactExports.PureComponent);PageCanvasInternal.propTypes={canvasBackground:propTypesExports.string,canvasRef:isRef,devicePixelRatio:propTypesExports.number,onRenderError:propTypesExports.func,onRenderSuccess:propTypesExports.func,page:isPage.isRequired,renderForms:propTypesExports.bool,rotate:isRotate,scale:propTypesExports.number.isRequired};function PageCanvas(e){return React.createElement(PageContext.Consumer,null,function(i){return React.createElement(PageCanvasInternal,_extends({},i,e))})}function _createSuper$3(e){var i=_isNativeReflectConstruct$3();return function(){var o=_getPrototypeOf(e),a;if(i){var c=_getPrototypeOf(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$3(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var PageSVGInternal=function(e){_inherits(s,e);var i=_createSuper$3(s);function s(){var o;_classCallCheck(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=i.call.apply(i,[this].concat(c)),_defineProperty(_assertThisInitialized(o),"state",{svg:null}),_defineProperty(_assertThisInitialized(o),"onRenderSuccess",function(){o.renderer=null;var h=o.props,g=h.onRenderSuccess,_=h.page,_e=h.scale;g&&g(makePageCallback(_,_e))}),_defineProperty(_assertThisInitialized(o),"onRenderError",function(h){if(!isCancelException(h)){warning$1(h);var g=o.props.onRenderError;g&&g(h)}}),_defineProperty(_assertThisInitialized(o),"renderSVG",function(){var h=o.props.page;return o.renderer=h.getOperatorList(),o.renderer.then(function(g){var _=new pdfExports.SVGGraphics(h.commonObjs,h.objs);o.renderer=_.getSVG(g,o.viewport).then(function(_e){o.setState({svg:_e},o.onRenderSuccess)}).catch(o.onRenderError)}).catch(o.onRenderError)}),_defineProperty(_assertThisInitialized(o),"drawPageOnContainer",function(h){var g=o.state.svg;if(!(!h||!g)){h.firstElementChild||h.appendChild(g);var _=o.viewport,_e=_.width,at=_.height;g.setAttribute("width",_e),g.setAttribute("height",at)}}),o}return _createClass(s,[{key:"componentDidMount",value:function(){this.renderSVG()}},{key:"viewport",get:function(){var a=this.props,c=a.page,d=a.rotate,h=a.scale;return c.getViewport({scale:h,rotation:d})}},{key:"render",value:function(){var a=this,c=this.viewport,d=c.width,h=c.height;return React.createElement("div",{className:"react-pdf__Page__svg",ref:function(_){return a.drawPageOnContainer(_)},style:{display:"block",backgroundColor:"white",overflow:"hidden",width:d,height:h,userSelect:"none"}})}}]),s}(reactExports.PureComponent);PageSVGInternal.propTypes={onRenderError:propTypesExports.func,onRenderSuccess:propTypesExports.func,page:isPage.isRequired,rotate:isRotate,scale:propTypesExports.number.isRequired};function PageSVG(e){return React.createElement(PageContext.Consumer,null,function(i){return React.createElement(PageSVGInternal,_extends({},i,e))})}function ownKeys$1(e,i){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);i&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),s.push.apply(s,o)}return s}function _objectSpread$1(e){for(var i=1;i<arguments.length;i++){var s=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$1(Object(s),!0).forEach(function(o){_defineProperty(e,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ownKeys$1(Object(s)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(s,o))})}return e}function _createSuper$2(e){var i=_isNativeReflectConstruct$2();return function(){var o=_getPrototypeOf(e),a;if(i){var c=_getPrototypeOf(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$2(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var TextLayerInternal=function(e){_inherits(s,e);var i=_createSuper$2(s);function s(){var o;_classCallCheck(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=i.call.apply(i,[this].concat(c)),_defineProperty(_assertThisInitialized(o),"state",{textContent:null}),_defineProperty(_assertThisInitialized(o),"layerElement",reactExports.createRef()),_defineProperty(_assertThisInitialized(o),"endElement",reactExports.createRef()),_defineProperty(_assertThisInitialized(o),"loadTextContent",function(){var h=o.props.page,g=makeCancellablePromise(h.getTextContent());o.runningTask=g,g.promise.then(function(_){o.setState({textContent:_},o.onLoadSuccess)}).catch(function(_){o.onLoadError(_)})}),_defineProperty(_assertThisInitialized(o),"onLoadSuccess",function(){var h=o.props.onGetTextSuccess,g=o.state.textContent;h&&h(g)}),_defineProperty(_assertThisInitialized(o),"onLoadError",function(h){o.setState({textItems:!1}),warning$1(h);var g=o.props.onGetTextError;g&&g(h)}),_defineProperty(_assertThisInitialized(o),"onRenderSuccess",function(){var h=o.props.onRenderTextLayerSuccess;h&&h()}),_defineProperty(_assertThisInitialized(o),"onRenderError",function(h){warning$1(h);var g=o.props.onRenderTextLayerError;g&&g(h)}),_defineProperty(_assertThisInitialized(o),"onMouseDown",function(){var h=o.endElement.current;h&&h.classList.add("active")}),_defineProperty(_assertThisInitialized(o),"onMouseUp",function(){var h=o.endElement.current;h&&h.classList.remove("active")}),o}return _createClass(s,[{key:"componentDidMount",value:function(){var a=this.props.page;invariant$1(a,"Attempted to load page text content, but no page was specified."),warning$1(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer"),this.loadTextContent()}},{key:"componentDidUpdate",value:function(a){var c=this.props.page;a.page&&c!==a.page&&this.loadTextContent()}},{key:"componentWillUnmount",value:function(){cancelRunningTask(this.runningTask)}},{key:"viewport",get:function(){var a=this.props,c=a.page,d=a.rotate,h=a.scale;return c.getViewport({scale:h,rotation:d})}},{key:"unrotatedViewport",get:function(){var a=this.props,c=a.page,d=a.scale;return c.getViewport({scale:d})}},{key:"rotate",get:function(){var a=this.props,c=a.page,d=a.rotate;return d-c.rotate}},{key:"renderTextLayer",value:function(){var a=this,c=this.state.textContent;if(!c)return null;var d=this.layerElement.current,h=this.viewport,g=this.props,_=g.customTextRenderer,_e=g.pageIndex,at=g.pageNumber;cancelRunningTask(this.runningTask),d.innerHTML="";var nt={container:d,textContent:c,viewport:h},lt=pdfExports.renderTextLayer(nt);this.runningTask=lt,lt.promise.then(function(){var tt=document.createElement("div");if(tt.className="endOfContent",d.append(tt),a.endElement.current=tt,_){var b=0;c.items.forEach(function(et,j){var rt=a.layerElement.current.children[b],ot=_(_objectSpread$1({pageIndex:_e,pageNumber:at,itemIndex:j},et));rt.innerHTML=ot,b+=et.str&&et.hasEOL?2:1})}a.onRenderSuccess()}).catch(function(tt){a.onRenderError(tt)})}},{key:"render",value:function(){return React.createElement("div",{className:"react-pdf__Page__textContent textLayer",onMouseUp:this.onMouseUp,onMouseDown:this.onMouseDown,ref:this.layerElement},this.renderTextLayer())}}]),s}(reactExports.PureComponent);TextLayerInternal.propTypes={customTextRenderer:propTypesExports.func,onGetTextError:propTypesExports.func,onGetTextSuccess:propTypesExports.func,onRenderTextLayerError:propTypesExports.func,onRenderTextLayerSuccess:propTypesExports.func,page:isPage.isRequired,pageIndex:propTypesExports.number.isRequired,pageNumber:propTypesExports.number.isRequired,rotate:isRotate,scale:propTypesExports.number};function TextLayer(e){return React.createElement(PageContext.Consumer,null,function(i){return React.createElement(TextLayerInternal,_extends({},i,e))})}function _createSuper$1(e){var i=_isNativeReflectConstruct$1();return function(){var o=_getPrototypeOf(e),a;if(i){var c=_getPrototypeOf(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct$1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var AnnotationLayerInternal=function(e){_inherits(s,e);var i=_createSuper$1(s);function s(){var o;_classCallCheck(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=i.call.apply(i,[this].concat(c)),_defineProperty(_assertThisInitialized(o),"state",{annotations:null}),_defineProperty(_assertThisInitialized(o),"layerElement",reactExports.createRef()),_defineProperty(_assertThisInitialized(o),"loadAnnotations",function(){var h=o.props.page,g=makeCancellablePromise(h.getAnnotations());o.runningTask=g,g.promise.then(function(_){o.setState({annotations:_},o.onLoadSuccess)}).catch(function(_){o.onLoadError(_)})}),_defineProperty(_assertThisInitialized(o),"onLoadSuccess",function(){var h=o.props.onGetAnnotationsSuccess,g=o.state.annotations;h&&h(g)}),_defineProperty(_assertThisInitialized(o),"onLoadError",function(h){o.setState({annotations:!1}),warning$1(h);var g=o.props.onGetAnnotationsError;g&&g(h)}),_defineProperty(_assertThisInitialized(o),"onRenderSuccess",function(){var h=o.props.onRenderAnnotationLayerSuccess;h&&h()}),_defineProperty(_assertThisInitialized(o),"onRenderError",function(h){warning$1(h);var g=o.props.onRenderAnnotationLayerError;g&&g(h)}),o}return _createClass(s,[{key:"componentDidMount",value:function(){var a=this.props.page;invariant$1(a,"Attempted to load page annotations, but no page was specified."),warning$1(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations"),this.loadAnnotations()}},{key:"componentDidUpdate",value:function(a){var c=this.props,d=c.page,h=c.renderForms;(a.page&&d!==a.page||h!==a.renderForms)&&this.loadAnnotations()}},{key:"componentWillUnmount",value:function(){cancelRunningTask(this.runningTask)}},{key:"viewport",get:function(){var a=this.props,c=a.page,d=a.rotate,h=a.scale;return c.getViewport({scale:h,rotation:d})}},{key:"renderAnnotationLayer",value:function(){var a=this.state.annotations;if(a){var c=this.props,d=c.imageResourcesPath,h=c.linkService,g=c.page,_=c.renderForms,_e=this.viewport.clone({dontFlip:!0}),at={annotations:a,div:this.layerElement.current,imageResourcesPath:d,linkService:h,page:g,renderForms:_,viewport:_e};this.layerElement.current.innerHTML="";try{pdfExports.AnnotationLayer.render(at),this.onRenderSuccess()}catch(nt){this.onRenderError(nt)}}}},{key:"render",value:function(){return React.createElement("div",{className:"react-pdf__Page__annotations annotationLayer",ref:this.layerElement},this.renderAnnotationLayer())}}]),s}(reactExports.PureComponent);AnnotationLayerInternal.propTypes={imageResourcesPath:propTypesExports.string,linkService:isLinkService.isRequired,onGetAnnotationsError:propTypesExports.func,onGetAnnotationsSuccess:propTypesExports.func,onRenderAnnotationLayerError:propTypesExports.func,onRenderAnnotationLayerSuccess:propTypesExports.func,page:isPage,renderForms:propTypesExports.bool,rotate:isRotate,scale:propTypesExports.number};var AnnotationLayer=function e(i){return React.createElement(DocumentContext.Consumer,null,function(s){return React.createElement(PageContext.Consumer,null,function(o){return React.createElement(AnnotationLayerInternal,_extends({},s,o,i))})})};function ownKeys(e,i){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);i&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),s.push.apply(s,o)}return s}function _objectSpread(e){for(var i=1;i<arguments.length;i++){var s=arguments[i]!=null?arguments[i]:{};i%2?ownKeys(Object(s),!0).forEach(function(o){_defineProperty(e,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ownKeys(Object(s)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(s,o))})}return e}function _createSuper(e){var i=_isNativeReflectConstruct();return function(){var o=_getPrototypeOf(e),a;if(i){var c=_getPrototypeOf(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var defaultScale=1,PageInternal=function(e){_inherits(s,e);var i=_createSuper(s);function s(){var o;_classCallCheck(this,s);for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=i.call.apply(i,[this].concat(c)),_defineProperty(_assertThisInitialized(o),"state",{page:null}),_defineProperty(_assertThisInitialized(o),"pageElement",reactExports.createRef()),_defineProperty(_assertThisInitialized(o),"onLoadSuccess",function(){var h=o.props,g=h.onLoadSuccess,_=h.registerPage,_e=o.state.page;g&&g(makePageCallback(_e,o.scale)),_&&_(o.pageIndex,o.pageElement.current)}),_defineProperty(_assertThisInitialized(o),"onLoadError",function(h){o.setState({page:!1}),warning$1(h);var g=o.props.onLoadError;g&&g(h)}),_defineProperty(_assertThisInitialized(o),"loadPage",function(){var h=o.props.pdf,g=o.getPageNumber();if(g){o.setState(function(_e){return _e.page?{page:null}:null});var _=makeCancellablePromise(h.getPage(g));o.runningTask=_,_.promise.then(function(_e){o.setState({page:_e},o.onLoadSuccess)}).catch(function(_e){o.onLoadError(_e)})}}),o}return _createClass(s,[{key:"componentDidMount",value:function(){var a=this.props.pdf;invariant$1(a,"Attempted to load a page, but no document was specified."),this.loadPage()}},{key:"componentDidUpdate",value:function(a){var c=this.props.pdf;if(a.pdf&&c!==a.pdf||this.getPageNumber()!==this.getPageNumber(a)){var d=this.props.unregisterPage;d&&d(this.getPageIndex(a)),this.loadPage()}}},{key:"componentWillUnmount",value:function(){var a=this.props.unregisterPage;a&&a(this.pageIndex),cancelRunningTask(this.runningTask)}},{key:"childContext",get:function(){var a=this.pageIndex,c=this.pageNumber,d=this.state.page;if(!d)return{};var h=this.props,g=h.canvasBackground,_=h.customTextRenderer,_e=h.devicePixelRatio,at=h.onGetAnnotationsError,nt=h.onGetAnnotationsSuccess,lt=h.onGetTextError,tt=h.onGetTextSuccess,b=h.onRenderAnnotationLayerError,et=h.onRenderAnnotationLayerSuccess,j=h.onRenderError,rt=h.onRenderSuccess,ot=h.onRenderTextLayerError,st=h.onRenderTextLayerSuccess,$=h.renderForms,it=h.renderInteractiveForms;return{canvasBackground:g,customTextRenderer:_,devicePixelRatio:_e,onGetAnnotationsError:at,onGetAnnotationsSuccess:nt,onGetTextError:lt,onGetTextSuccess:tt,onRenderAnnotationLayerError:b,onRenderAnnotationLayerSuccess:et,onRenderError:j,onRenderSuccess:rt,onRenderTextLayerError:ot,onRenderTextLayerSuccess:st,page:d,pageIndex:a,pageNumber:c,renderForms:$??it,rotate:this.rotate,scale:this.scale}}},{key:"getPageIndex",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return isProvided(a.pageNumber)?a.pageNumber-1:isProvided(a.pageIndex)?a.pageIndex:null}},{key:"getPageNumber",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return isProvided(a.pageNumber)?a.pageNumber:isProvided(a.pageIndex)?a.pageIndex+1:null}},{key:"pageIndex",get:function(){return this.getPageIndex()}},{key:"pageNumber",get:function(){return this.getPageNumber()}},{key:"rotate",get:function(){var a=this.props.rotate;if(isProvided(a))return a;var c=this.state.page;return c?c.rotate:null}},{key:"scale",get:function(){var a=this.state.page;if(!a)return null;var c=this.props,d=c.scale,h=c.width,g=c.height,_=this.rotate,_e=1,at=d===null?defaultScale:d;if(h||g){var nt=a.getViewport({scale:1,rotation:_});_e=h?h/nt.width:g/nt.height}return at*_e}},{key:"eventProps",get:function(){var a=this;return makeEventProps(this.props,function(){var c=a.state.page;return c&&makePageCallback(c,a.scale)})}},{key:"pageKey",get:function(){return"".concat(this.pageIndex,"@").concat(this.scale,"/").concat(this.rotate)}},{key:"pageKeyNoScale",get:function(){return"".concat(this.pageIndex,"/").concat(this.rotate)}},{key:"renderMainLayer",value:function(){var a=this.props,c=a.canvasRef,d=a.renderMode;switch(d){case"none":return null;case"svg":return React.createElement(PageSVG,{key:"".concat(this.pageKeyNoScale,"_svg")});case"canvas":default:return React.createElement(PageCanvas,{key:"".concat(this.pageKey,"_canvas"),canvasRef:c})}}},{key:"renderTextLayer",value:function(){var a=this.props.renderTextLayer;return a?React.createElement(TextLayer,{key:"".concat(this.pageKey,"_text")}):null}},{key:"renderAnnotationLayer",value:function(){var a=this.props.renderAnnotationLayer;return a?React.createElement(AnnotationLayer,{key:"".concat(this.pageKey,"_annotations")}):null}},{key:"renderChildren",value:function(){var a=this.props.children;return React.createElement(PageContext.Provider,{value:this.childContext},this.renderMainLayer(),this.renderTextLayer(),this.renderAnnotationLayer(),a)}},{key:"renderContent",value:function(){var a=this.pageNumber,c=this.props.pdf,d=this.state.page;if(!a){var h=this.props.noData;return React.createElement(Message,{type:"no-data"},typeof h=="function"?h():h)}if(c===null||d===null){var g=this.props.loading;return React.createElement(Message,{type:"loading"},typeof g=="function"?g():g)}if(c===!1||d===!1){var _=this.props.error;return React.createElement(Message,{type:"error"},typeof _=="function"?_():_)}return this.renderChildren()}},{key:"render",value:function(){var a=this.pageNumber,c=this.props,d=c.className,h=c.inputRef;return React.createElement("div",_extends({className:clsx("react-pdf__Page",d),"data-page-number":a,ref:mergeRefs(h,this.pageElement),style:{position:"relative",minWidth:"min-content",minHeight:"min-content"}},this.eventProps),this.renderContent())}}]),s}(reactExports.PureComponent);PageInternal.defaultProps={error:"Failed to load the page.",loading:"Loading page",noData:"No page specified.",renderAnnotationLayer:!0,renderMode:"canvas",renderTextLayer:!0,scale:defaultScale};var isFunctionOrNode=propTypesExports.oneOfType([propTypesExports.func,propTypesExports.node]);PageInternal.propTypes=_objectSpread(_objectSpread({},eventProps),{},{canvasBackground:propTypesExports.string,children:propTypesExports.node,className:isClassName,customTextRenderer:propTypesExports.func,devicePixelRatio:propTypesExports.number,error:isFunctionOrNode,height:propTypesExports.number,imageResourcesPath:propTypesExports.string,inputRef:isRef,loading:isFunctionOrNode,noData:isFunctionOrNode,onGetTextError:propTypesExports.func,onGetTextSuccess:propTypesExports.func,onLoadError:propTypesExports.func,onLoadSuccess:propTypesExports.func,onRenderError:propTypesExports.func,onRenderSuccess:propTypesExports.func,onRenderTextLayerError:propTypesExports.func,onRenderTextLayerSuccess:propTypesExports.func,pageIndex:isPageIndex,pageNumber:isPageNumber,pdf:isPdf,registerPage:propTypesExports.func,renderAnnotationLayer:propTypesExports.bool,renderForms:propTypesExports.bool,renderInteractiveForms:propTypesExports.bool,renderMode:isRenderMode,renderTextLayer:propTypesExports.bool,rotate:isRotate,scale:propTypesExports.number,unregisterPage:propTypesExports.func,width:propTypesExports.number});function Page(e,i){return React.createElement(DocumentContext.Consumer,null,function(s){return React.createElement(PageInternal,_extends({ref:i},s,e))})}const Page$1=React.forwardRef(Page);displayWorkerWarning();pdfExports.GlobalWorkerOptions.workerSrc="pdf.worker.js";const MotionConfigContext=reactExports.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),MotionContext=reactExports.createContext({}),PresenceContext=reactExports.createContext(null),isBrowser=typeof document<"u",useIsomorphicLayoutEffect=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,LazyContext=reactExports.createContext({strict:!1});function useVisualElement(e,i,s,o){const{visualElement:a}=reactExports.useContext(MotionContext),c=reactExports.useContext(LazyContext),d=reactExports.useContext(PresenceContext),h=reactExports.useContext(MotionConfigContext).reducedMotion,g=reactExports.useRef();o=o||c.renderer,!g.current&&o&&(g.current=o(e,{visualState:i,parent:a,props:s,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:h}));const _=g.current;return reactExports.useInsertionEffect(()=>{_&&_.update(s,d)}),useIsomorphicLayoutEffect(()=>{_&&_.render()}),reactExports.useEffect(()=>{_&&_.updateFeatures()}),(window.HandoffAppearAnimations?useIsomorphicLayoutEffect:reactExports.useEffect)(()=>{_&&_.animationState&&_.animationState.animateChanges()}),_}function isRefObject(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function useMotionRef(e,i,s){return reactExports.useCallback(o=>{o&&e.mount&&e.mount(o),i&&(o?i.mount(o):i.unmount()),s&&(typeof s=="function"?s(o):isRefObject(s)&&(s.current=o))},[i])}function isVariantLabel(e){return typeof e=="string"||Array.isArray(e)}function isAnimationControls(e){return typeof e=="object"&&typeof e.start=="function"}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(e){return isAnimationControls(e.animate)||variantProps.some(i=>isVariantLabel(e[i]))}function isVariantNode(e){return!!(isControllingVariants(e)||e.variants)}function getCurrentTreeVariants(e,i){if(isControllingVariants(e)){const{initial:s,animate:o}=e;return{initial:s===!1||isVariantLabel(s)?s:void 0,animate:isVariantLabel(o)?o:void 0}}return e.inherit!==!1?i:{}}function useCreateMotionContext(e){const{initial:i,animate:s}=getCurrentTreeVariants(e,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:i,animate:s}),[variantLabelsAsDependency(i),variantLabelsAsDependency(s)])}function variantLabelsAsDependency(e){return Array.isArray(e)?e.join(" "):e}const featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const e in featureProps)featureDefinitions[e]={isEnabled:i=>featureProps[e].some(s=>!!i[s])};function loadFeatures(e){for(const i in e)featureDefinitions[i]={...featureDefinitions[i],...e[i]}}function useConstant(e){const i=reactExports.useRef(null);return i.current===null&&(i.current=e()),i.current}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let id$2=1;function useProjectionId(){return useConstant(()=>{if(globalProjectionState.hasEverUpdated)return id$2++})}const LayoutGroupContext=reactExports.createContext({}),SwitchLayoutGroupContext=reactExports.createContext({}),motionComponentSymbol=Symbol.for("motionComponentSymbol");function createMotionComponent({preloadedFeatures:e,createVisualElement:i,useRender:s,useVisualState:o,Component:a}){e&&loadFeatures(e);function c(h,g){let _;const _e={...reactExports.useContext(MotionConfigContext),...h,layoutId:useLayoutId(h)},{isStatic:at}=_e,nt=useCreateMotionContext(h),lt=at?void 0:useProjectionId(),tt=o(h,at);if(!at&&isBrowser){nt.visualElement=useVisualElement(a,tt,_e,i);const b=reactExports.useContext(SwitchLayoutGroupContext),et=reactExports.useContext(LazyContext).strict;nt.visualElement&&(_=nt.visualElement.loadFeatures(_e,et,e,lt,b))}return reactExports.createElement(MotionContext.Provider,{value:nt},_&&nt.visualElement?reactExports.createElement(_,{visualElement:nt.visualElement,..._e}):null,s(a,h,lt,useMotionRef(tt,nt.visualElement,g),tt,at,nt.visualElement))}const d=reactExports.forwardRef(c);return d[motionComponentSymbol]=a,d}function useLayoutId({layoutId:e}){const i=reactExports.useContext(LayoutGroupContext).id;return i&&e!==void 0?i+"-"+e:e}function createMotionProxy(e){function i(o,a={}){return createMotionComponent(e(o,a))}if(typeof Proxy>"u")return i;const s=new Map;return new Proxy(i,{get:(o,a)=>(s.has(a)||s.set(a,i(a)),s.get(a))})}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(e){return typeof e!="string"||e.includes("-")?!1:!!(lowercaseSVGElements.indexOf(e)>-1||/[A-Z]/.test(e))}const scaleCorrectors={};function addScaleCorrector(e){Object.assign(scaleCorrectors,e)}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder);function isForcedMotionValue(e,{layout:i,layoutId:s}){return transformProps.has(e)||e.startsWith("origin")||(i||s!==void 0)&&(!!scaleCorrectors[e]||e==="opacity")}const isMotionValue=e=>!!(e&&e.getVelocity),translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(e,{enableHardwareAcceleration:i=!0,allowTransformNone:s=!0},o,a){let c="";for(let d=0;d<numTransforms;d++){const h=transformPropOrder[d];if(e[h]!==void 0){const g=translateAlias[h]||h;c+=`${g}(${e[h]}) `}}return i&&!e.z&&(c+="translateZ(0)"),c=c.trim(),a?c=a(e,o?"":c):s&&o&&(c="none"),c}const checkStringStartsWith=e=>i=>typeof i=="string"&&i.startsWith(e),isCSSVariableName=checkStringStartsWith("--"),isCSSVariableToken=checkStringStartsWith("var(--"),getValueAsType=(e,i)=>i&&typeof e=="number"?i.transform(e):e,clamp=(e,i,s)=>Math.min(Math.max(s,e),i),number={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},alpha={...number,transform:e=>clamp(0,1,e)},scale={...number,default:1},sanitize=e=>Math.round(e*1e5)/1e5,floatRegex=/(-)?([\d]*\.?[\d])+/g,colorRegex=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,singleColorRegex=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function isString(e){return typeof e=="string"}const createUnitType=e=>({test:i=>isString(i)&&i.endsWith(e)&&i.split(" ").length===1,parse:parseFloat,transform:i=>`${i}${e}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:e=>percent.parse(e)/100,transform:e=>percent.transform(e*100)},int={...number,transform:Math.round},numberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,size:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px,zIndex:int,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int};function buildHTMLStyles(e,i,s,o){const{style:a,vars:c,transform:d,transformOrigin:h}=e;let g=!1,_=!1,_e=!0;for(const at in i){const nt=i[at];if(isCSSVariableName(at)){c[at]=nt;continue}const lt=numberValueTypes[at],tt=getValueAsType(nt,lt);if(transformProps.has(at)){if(g=!0,d[at]=tt,!_e)continue;nt!==(lt.default||0)&&(_e=!1)}else at.startsWith("origin")?(_=!0,h[at]=tt):a[at]=tt}if(i.transform||(g||o?a.transform=buildTransform(e.transform,s,_e,o):a.transform&&(a.transform="none")),_){const{originX:at="50%",originY:nt="50%",originZ:lt=0}=h;a.transformOrigin=`${at} ${nt} ${lt}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(e,i,s){for(const o in i)!isMotionValue(i[o])&&!isForcedMotionValue(o,s)&&(e[o]=i[o])}function useInitialMotionValues({transformTemplate:e},i,s){return reactExports.useMemo(()=>{const o=createHtmlRenderState();return buildHTMLStyles(o,i,{enableHardwareAcceleration:!s},e),Object.assign({},o.vars,o.style)},[i])}function useStyle(e,i,s){const o=e.style||{},a={};return copyRawValuesOnly(a,o,e),Object.assign(a,useInitialMotionValues(e,i,s)),e.transformValues?e.transformValues(a):a}function useHTMLProps(e,i,s){const o={},a=useStyle(e,i,s);return e.drag&&e.dragListener!==!1&&(o.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(o.tabIndex=0),o.style=a,o}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function isValidMotionProp(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||validMotionProps.has(e)}let shouldForward=e=>!isValidMotionProp(e);function loadExternalIsValidProp(e){e&&(shouldForward=i=>i.startsWith("on")?!isValidMotionProp(i):e(i))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch(e){}function filterProps(e,i,s){const o={};for(const a in e)a==="values"&&typeof e.values=="object"||(shouldForward(a)||s===!0&&isValidMotionProp(a)||!i&&!isValidMotionProp(a)||e.draggable&&a.startsWith("onDrag"))&&(o[a]=e[a]);return o}function calcOrigin$1(e,i,s){return typeof e=="string"?e:px.transform(i+s*e)}function calcSVGTransformOrigin(e,i,s){const o=calcOrigin$1(i,e.x,e.width),a=calcOrigin$1(s,e.y,e.height);return`${o} ${a}`}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(e,i,s=1,o=0,a=!0){e.pathLength=1;const c=a?dashKeys:camelKeys;e[c.offset]=px.transform(-o);const d=px.transform(i),h=px.transform(s);e[c.array]=`${d} ${h}`}function buildSVGAttrs(e,{attrX:i,attrY:s,originX:o,originY:a,pathLength:c,pathSpacing:d=1,pathOffset:h=0,...g},_,_e,at){if(buildHTMLStyles(e,g,_,at),_e){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:nt,style:lt,dimensions:tt}=e;nt.transform&&(tt&&(lt.transform=nt.transform),delete nt.transform),tt&&(o!==void 0||a!==void 0||lt.transform)&&(lt.transformOrigin=calcSVGTransformOrigin(tt,o!==void 0?o:.5,a!==void 0?a:.5)),i!==void 0&&(nt.x=i),s!==void 0&&(nt.y=s),c!==void 0&&buildSVGPath(nt,c,d,h,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=e=>typeof e=="string"&&e.toLowerCase()==="svg";function useSVGProps(e,i,s,o){const a=reactExports.useMemo(()=>{const c=createSvgRenderState();return buildSVGAttrs(c,i,{enableHardwareAcceleration:!1},isSVGTag(o),e.transformTemplate),{...c.attrs,style:{...c.style}}},[i]);if(e.style){const c={};copyRawValuesOnly(c,e.style,e),a.style={...c,...a.style}}return a}function createUseRender(e=!1){return(s,o,a,c,{latestValues:d},h)=>{const _=(isSVGComponent(s)?useSVGProps:useHTMLProps)(o,d,h,s),at={...filterProps(o,typeof s=="string",e),..._,ref:c},{children:nt}=o,lt=reactExports.useMemo(()=>isMotionValue(nt)?nt.get():nt,[nt]);return a&&(at["data-projection-id"]=a),reactExports.createElement(s,{...at,children:lt})}}const camelToDash=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function renderHTML(e,{style:i,vars:s},o,a){Object.assign(e.style,i,a&&a.getProjectionStyles(o));for(const c in s)e.style.setProperty(c,s[c])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(e,i,s,o){renderHTML(e,i,void 0,o);for(const a in i.attrs)e.setAttribute(camelCaseAttributes.has(a)?a:camelToDash(a),i.attrs[a])}function scrapeMotionValuesFromProps$1(e,i){const{style:s}=e,o={};for(const a in s)(isMotionValue(s[a])||i.style&&isMotionValue(i.style[a])||isForcedMotionValue(a,e))&&(o[a]=s[a]);return o}function scrapeMotionValuesFromProps(e,i){const s=scrapeMotionValuesFromProps$1(e,i);for(const o in e)if(isMotionValue(e[o])||isMotionValue(i[o])){const a=o==="x"||o==="y"?"attr"+o.toUpperCase():o;s[a]=e[o]}return s}function resolveVariantFromProps(e,i,s,o={},a={}){return typeof i=="function"&&(i=i(s!==void 0?s:e.custom,o,a)),typeof i=="string"&&(i=e.variants&&e.variants[i]),typeof i=="function"&&(i=i(s!==void 0?s:e.custom,o,a)),i}const isKeyframesTarget=e=>Array.isArray(e),isCustomValue=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),resolveFinalValueInKeyframes=e=>isKeyframesTarget(e)?e[e.length-1]||0:e;function resolveMotionValue(e){const i=isMotionValue(e)?e.get():e;return isCustomValue(i)?i.toValue():i}function makeState({scrapeMotionValuesFromProps:e,createRenderState:i,onMount:s},o,a,c){const d={latestValues:makeLatestValues(o,a,c,e),renderState:i()};return s&&(d.mount=h=>s(o,h,d)),d}const makeUseVisualState=e=>(i,s)=>{const o=reactExports.useContext(MotionContext),a=reactExports.useContext(PresenceContext),c=()=>makeState(e,i,o,a);return s?c():useConstant(c)};function makeLatestValues(e,i,s,o){const a={},c=o(e,{});for(const nt in c)a[nt]=resolveMotionValue(c[nt]);let{initial:d,animate:h}=e;const g=isControllingVariants(e),_=isVariantNode(e);i&&_&&!g&&e.inherit!==!1&&(d===void 0&&(d=i.initial),h===void 0&&(h=i.animate));let _e=s?s.initial===!1:!1;_e=_e||d===!1;const at=_e?h:d;return at&&typeof at!="boolean"&&!isAnimationControls(at)&&(Array.isArray(at)?at:[at]).forEach(lt=>{const tt=resolveVariantFromProps(e,lt);if(!tt)return;const{transitionEnd:b,transition:et,...j}=tt;for(const rt in j){let ot=j[rt];if(Array.isArray(ot)){const st=_e?ot.length-1:0;ot=ot[st]}ot!==null&&(a[rt]=ot)}for(const rt in b)a[rt]=b[rt]}),a}const svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onMount:(e,i,{renderState:s,latestValues:o})=>{try{s.dimensions=typeof i.getBBox=="function"?i.getBBox():i.getBoundingClientRect()}catch{s.dimensions={x:0,y:0,width:0,height:0}}buildSVGAttrs(s,o,{enableHardwareAcceleration:!1},isSVGTag(i.tagName),e.transformTemplate),renderSVG(i,s)}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function createDomMotionConfig(e,{forwardMotionProps:i=!1},s,o){return{...isSVGComponent(e)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:s,useRender:createUseRender(i),createVisualElement:o,Component:e}}function addDomEvent(e,i,s,o={passive:!0}){return e.addEventListener(i,s,o),()=>e.removeEventListener(i,s)}const isPrimaryPointer=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function extractEventInfo(e,i="page"){return{point:{x:e[i+"X"],y:e[i+"Y"]}}}const addPointerInfo=e=>i=>isPrimaryPointer(i)&&e(i,extractEventInfo(i));function addPointerEvent(e,i,s,o){return addDomEvent(e,i,addPointerInfo(s),o)}const combineFunctions=(e,i)=>s=>i(e(s)),pipe=(...e)=>e.reduce(combineFunctions);function createLock(e){let i=null;return()=>{const s=()=>{i=null};return i===null?(i=e,s):!1}}const globalHorizontalLock=createLock("dragHorizontal"),globalVerticalLock=createLock("dragVertical");function getGlobalLock(e){let i=!1;if(e==="y")i=globalVerticalLock();else if(e==="x")i=globalHorizontalLock();else{const s=globalHorizontalLock(),o=globalVerticalLock();s&&o?i=()=>{s(),o()}:(s&&s(),o&&o())}return i}function isDragActive(){const e=getGlobalLock(!0);return e?(e(),!1):!0}class Feature{constructor(i){this.isMounted=!1,this.node=i}update(){}}function createRenderStep(e){let i=[],s=[],o=0,a=!1,c=!1;const d=new WeakSet,h={schedule:(g,_=!1,_e=!1)=>{const at=_e&&a,nt=at?i:s;return _&&d.add(g),nt.indexOf(g)===-1&&(nt.push(g),at&&a&&(o=i.length)),g},cancel:g=>{const _=s.indexOf(g);_!==-1&&s.splice(_,1),d.delete(g)},process:g=>{if(a){c=!0;return}if(a=!0,[i,s]=[s,i],s.length=0,o=i.length,o)for(let _=0;_<o;_++){const _e=i[_];_e(g),d.has(_e)&&(h.schedule(_e),e())}a=!1,c&&(c=!1,h.process(g))}};return h}const frameData={delta:0,timestamp:0,isProcessing:!1},maxElapsed=40;let useDefaultElapsed=!0,runNextFrame=!1;const stepsOrder=["read","update","preRender","render","postRender"],steps=stepsOrder.reduce((e,i)=>(e[i]=createRenderStep(()=>runNextFrame=!0),e),{}),sync=stepsOrder.reduce((e,i)=>{const s=steps[i];return e[i]=(o,a=!1,c=!1)=>(runNextFrame||startLoop(),s.schedule(o,a,c)),e},{}),cancelSync=stepsOrder.reduce((e,i)=>(e[i]=steps[i].cancel,e),{}),flushSync=stepsOrder.reduce((e,i)=>(e[i]=()=>steps[i].process(frameData),e),{}),processStep=e=>steps[e].process(frameData),processFrame=e=>{runNextFrame=!1,frameData.delta=useDefaultElapsed?1e3/60:Math.max(Math.min(e-frameData.timestamp,maxElapsed),1),frameData.timestamp=e,frameData.isProcessing=!0,stepsOrder.forEach(processStep),frameData.isProcessing=!1,runNextFrame&&(useDefaultElapsed=!1,requestAnimationFrame(processFrame))},startLoop=()=>{runNextFrame=!0,useDefaultElapsed=!0,frameData.isProcessing||requestAnimationFrame(processFrame)};function addHoverEvent(e,i){const s="pointer"+(i?"enter":"leave"),o="onHover"+(i?"Start":"End"),a=(c,d)=>{if(c.type==="touch"||isDragActive())return;const h=e.getProps();e.animationState&&h.whileHover&&e.animationState.setActive("whileHover",i),h[o]&&sync.update(()=>h[o](c,d))};return addPointerEvent(e.current,s,a,{passive:!e.getProps()[o]})}class HoverGesture extends Feature{mount(){this.unmount=pipe(addHoverEvent(this.node,!0),addHoverEvent(this.node,!1))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let i=!1;try{i=this.node.current.matches(":focus-visible")}catch{i=!0}!i||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const isNodeOrChild=(e,i)=>i?e===i?!0:isNodeOrChild(e,i.parentElement):!1,noop=e=>e;function fireSyntheticPointerEvent(e,i){if(!i)return;const s=new PointerEvent("pointer"+e);i(s,extractEventInfo(s))}class PressGesture extends Feature{constructor(){super(...arguments),this.removeStartListeners=noop,this.removeEndListeners=noop,this.removeAccessibleListeners=noop,this.startPointerPress=(i,s)=>{if(this.removeEndListeners(),this.isPressing)return;const o=this.node.getProps(),c=addPointerEvent(window,"pointerup",(h,g)=>{if(!this.checkPressEnd())return;const{onTap:_,onTapCancel:_e}=this.node.getProps();sync.update(()=>{isNodeOrChild(this.node.current,h.target)?_&&_(h,g):_e&&_e(h,g)})},{passive:!(o.onTap||o.onPointerUp)}),d=addPointerEvent(window,"pointercancel",(h,g)=>this.cancelPress(h,g),{passive:!(o.onTapCancel||o.onPointerCancel)});this.removeEndListeners=pipe(c,d),this.startPress(i,s)},this.startAccessiblePress=()=>{const i=c=>{if(c.key!=="Enter"||this.isPressing)return;const d=h=>{h.key!=="Enter"||!this.checkPressEnd()||fireSyntheticPointerEvent("up",(g,_)=>{const{onTap:_e}=this.node.getProps();_e&&sync.update(()=>_e(g,_))})};this.removeEndListeners(),this.removeEndListeners=addDomEvent(this.node.current,"keyup",d),fireSyntheticPointerEvent("down",(h,g)=>{this.startPress(h,g)})},s=addDomEvent(this.node.current,"keydown",i),o=()=>{this.isPressing&&fireSyntheticPointerEvent("cancel",(c,d)=>this.cancelPress(c,d))},a=addDomEvent(this.node.current,"blur",o);this.removeAccessibleListeners=pipe(s,a)}}startPress(i,s){this.isPressing=!0;const{onTapStart:o,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),o&&sync.update(()=>o(i,s))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!isDragActive()}cancelPress(i,s){if(!this.checkPressEnd())return;const{onTapCancel:o}=this.node.getProps();o&&sync.update(()=>o(i,s))}mount(){const i=this.node.getProps(),s=addPointerEvent(this.node.current,"pointerdown",this.startPointerPress,{passive:!(i.onTapStart||i.onPointerStart)}),o=addDomEvent(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=pipe(s,o)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=e=>{const i=observerCallbacks.get(e.target);i&&i(e)},fireAllObserverCallbacks=e=>{e.forEach(fireObserverCallback)};function initIntersectionObserver({root:e,...i}){const s=e||document;observers.has(s)||observers.set(s,{});const o=observers.get(s),a=JSON.stringify(i);return o[a]||(o[a]=new IntersectionObserver(fireAllObserverCallbacks,{root:e,...i})),o[a]}function observeIntersection(e,i,s){const o=initIntersectionObserver(i);return observerCallbacks.set(e,s),o.observe(e),()=>{observerCallbacks.delete(e),o.unobserve(e)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:i={}}=this.node.getProps(),{root:s,margin:o,amount:a="some",once:c}=i,d={root:s?s.current:void 0,rootMargin:o,threshold:typeof a=="number"?a:thresholdNames[a]},h=g=>{const{isIntersecting:_}=g;if(this.isInView===_||(this.isInView=_,c&&!_&&this.hasEnteredView))return;_&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",_);const{onViewportEnter:_e,onViewportLeave:at}=this.node.getProps(),nt=_?_e:at;nt&&nt(g)};return observeIntersection(this.node.current,d,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:i,prevProps:s}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(i,s))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:e={}},{viewport:i={}}={}){return s=>e[s]!==i[s]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}};function shallowCompare(e,i){if(!Array.isArray(i))return!1;const s=i.length;if(s!==e.length)return!1;for(let o=0;o<s;o++)if(i[o]!==e[o])return!1;return!0}function getCurrent(e){const i={};return e.values.forEach((s,o)=>i[o]=s.get()),i}function getVelocity$1(e){const i={};return e.values.forEach((s,o)=>i[o]=s.getVelocity()),i}function resolveVariant(e,i,s){const o=e.getProps();return resolveVariantFromProps(o,i,s!==void 0?s:o.custom,getCurrent(e),getVelocity$1(e))}const optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId);let warning=noop,invariant=noop;const secondsToMilliseconds=e=>e*1e3,millisecondsToSeconds=e=>e/1e3,instantAnimationState={current:!1},isBezierDefinition=e=>Array.isArray(e)&&typeof e[0]=="number";function isWaapiSupportedEasing(e){return!!(!e||typeof e=="string"&&supportedWaapiEasing[e]||isBezierDefinition(e)||Array.isArray(e)&&e.every(isWaapiSupportedEasing))}const cubicBezierAsString=([e,i,s,o])=>`cubic-bezier(${e}, ${i}, ${s}, ${o})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(e){if(e)return isBezierDefinition(e)?cubicBezierAsString(e):Array.isArray(e)?e.map(mapEasingToNativeEasing):supportedWaapiEasing[e]}function animateStyle(e,i,s,{delay:o=0,duration:a,repeat:c=0,repeatType:d="loop",ease:h,times:g}={}){const _={[i]:s};g&&(_.offset=g);const _e=mapEasingToNativeEasing(h);return Array.isArray(_e)&&(_.easing=_e),e.animate(_,{delay:o,duration:a,easing:Array.isArray(_e)?"linear":_e,fill:"both",iterations:c+1,direction:d==="reverse"?"alternate":"normal"})}const featureTests={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},results={},supports={};for(const e in featureTests)supports[e]=()=>(results[e]===void 0&&(results[e]=featureTests[e]()),results[e]);function getFinalKeyframe(e,{repeat:i,repeatType:s="loop"}){const o=i&&s!=="loop"&&i%2===1?0:e.length-1;return e[o]}const calcBezier=(e,i,s)=>(((1-3*s+3*i)*e+(3*s-6*i))*e+3*i)*e,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(e,i,s,o,a){let c,d,h=0;do d=i+(s-i)/2,c=calcBezier(d,o,a)-e,c>0?s=d:i=d;while(Math.abs(c)>subdivisionPrecision&&++h<subdivisionMaxIterations);return d}function cubicBezier(e,i,s,o){if(e===i&&s===o)return noop;const a=c=>binarySubdivide(c,0,1,e,s);return c=>c===0||c===1?c:calcBezier(a(c),i,o)}const easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=e=>Array.isArray(e)&&typeof e[0]!="number",mirrorEasing=e=>i=>i<=.5?e(2*i)/2:(2-e(2*(1-i)))/2,reverseEasing=e=>i=>1-e(1-i),circIn=e=>1-Math.sin(Math.acos(e)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circOut),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=e=>(e*=2)<1?.5*backIn(e):.5*(2-Math.pow(2,-10*(e-1))),easingLookup={linear:noop,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=e=>{if(Array.isArray(e)){invariant(e.length===4);const[i,s,o,a]=e;return cubicBezier(i,s,o,a)}else if(typeof e=="string")return easingLookup[e];return e},isColorString=(e,i)=>s=>!!(isString(s)&&singleColorRegex.test(s)&&s.startsWith(e)||i&&Object.prototype.hasOwnProperty.call(s,i)),splitColor=(e,i,s)=>o=>{if(!isString(o))return o;const[a,c,d,h]=o.match(floatRegex);return{[e]:parseFloat(a),[i]:parseFloat(c),[s]:parseFloat(d),alpha:h!==void 0?parseFloat(h):1}},clampRgbUnit=e=>clamp(0,255,e),rgbUnit={...number,transform:e=>Math.round(clampRgbUnit(e))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:e,green:i,blue:s,alpha:o=1})=>"rgba("+rgbUnit.transform(e)+", "+rgbUnit.transform(i)+", "+rgbUnit.transform(s)+", "+sanitize(alpha.transform(o))+")"};function parseHex(e){let i="",s="",o="",a="";return e.length>5?(i=e.substring(1,3),s=e.substring(3,5),o=e.substring(5,7),a=e.substring(7,9)):(i=e.substring(1,2),s=e.substring(2,3),o=e.substring(3,4),a=e.substring(4,5),i+=i,s+=s,o+=o,a+=a),{red:parseInt(i,16),green:parseInt(s,16),blue:parseInt(o,16),alpha:a?parseInt(a,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:e,saturation:i,lightness:s,alpha:o=1})=>"hsla("+Math.round(e)+", "+percent.transform(sanitize(i))+", "+percent.transform(sanitize(s))+", "+sanitize(alpha.transform(o))+")"},color={test:e=>rgba.test(e)||hex.test(e)||hsla.test(e),parse:e=>rgba.test(e)?rgba.parse(e):hsla.test(e)?hsla.parse(e):hex.parse(e),transform:e=>isString(e)?e:e.hasOwnProperty("red")?rgba.transform(e):hsla.transform(e)},mix=(e,i,s)=>-s*e+s*i+e;function hueToRgb(e,i,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(i-e)*6*s:s<1/2?i:s<2/3?e+(i-e)*(2/3-s)*6:e}function hslaToRgba({hue:e,saturation:i,lightness:s,alpha:o}){e/=360,i/=100,s/=100;let a=0,c=0,d=0;if(!i)a=c=d=s;else{const h=s<.5?s*(1+i):s+i-s*i,g=2*s-h;a=hueToRgb(g,h,e+1/3),c=hueToRgb(g,h,e),d=hueToRgb(g,h,e-1/3)}return{red:Math.round(a*255),green:Math.round(c*255),blue:Math.round(d*255),alpha:o}}const mixLinearColor=(e,i,s)=>{const o=e*e;return Math.sqrt(Math.max(0,s*(i*i-o)+o))},colorTypes=[hex,rgba,hsla],getColorType=e=>colorTypes.find(i=>i.test(e));function asRGBA(e){const i=getColorType(e);let s=i.parse(e);return i===hsla&&(s=hslaToRgba(s)),s}const mixColor=(e,i)=>{const s=asRGBA(e),o=asRGBA(i),a={...s};return c=>(a.red=mixLinearColor(s.red,o.red,c),a.green=mixLinearColor(s.green,o.green,c),a.blue=mixLinearColor(s.blue,o.blue,c),a.alpha=mix(s.alpha,o.alpha,c),rgba.transform(a))},colorToken="${c}",numberToken="${n}";function test(e){var i,s;return isNaN(e)&&isString(e)&&(((i=e.match(floatRegex))===null||i===void 0?void 0:i.length)||0)+(((s=e.match(colorRegex))===null||s===void 0?void 0:s.length)||0)>0}function analyseComplexValue(e){typeof e=="number"&&(e=`${e}`);const i=[];let s=0,o=0;const a=e.match(colorRegex);a&&(s=a.length,e=e.replace(colorRegex,colorToken),i.push(...a.map(color.parse)));const c=e.match(floatRegex);return c&&(o=c.length,e=e.replace(floatRegex,numberToken),i.push(...c.map(number.parse))),{values:i,numColors:s,numNumbers:o,tokenised:e}}function parse(e){return analyseComplexValue(e).values}function createTransformer(e){const{values:i,numColors:s,tokenised:o}=analyseComplexValue(e),a=i.length;return c=>{let d=o;for(let h=0;h<a;h++)d=d.replace(h<s?colorToken:numberToken,h<s?color.transform(c[h]):sanitize(c[h]));return d}}const convertNumbersToZero=e=>typeof e=="number"?0:e;function getAnimatableNone$1(e){const i=parse(e);return createTransformer(e)(i.map(convertNumbersToZero))}const complex={test,parse,createTransformer,getAnimatableNone:getAnimatableNone$1};function getMixer(e,i){return typeof e=="number"?s=>mix(e,i,s):color.test(e)?mixColor(e,i):mixComplex(e,i)}const mixArray=(e,i)=>{const s=[...e],o=s.length,a=e.map((c,d)=>getMixer(c,i[d]));return c=>{for(let d=0;d<o;d++)s[d]=a[d](c);return s}},mixObject=(e,i)=>{const s={...e,...i},o={};for(const a in s)e[a]!==void 0&&i[a]!==void 0&&(o[a]=getMixer(e[a],i[a]));return a=>{for(const c in o)s[c]=o[c](a);return s}},mixComplex=(e,i)=>{const s=complex.createTransformer(i),o=analyseComplexValue(e),a=analyseComplexValue(i);return o.numColors===a.numColors&&o.numNumbers>=a.numNumbers?pipe(mixArray(o.values,a.values),s):d=>`${d>0?i:e}`},progress=(e,i,s)=>{const o=i-e;return o===0?1:(s-e)/o},mixNumber=(e,i)=>s=>mix(e,i,s);function detectMixerFactory(e){return typeof e=="number"?mixNumber:typeof e=="string"?color.test(e)?mixColor:mixComplex:Array.isArray(e)?mixArray:typeof e=="object"?mixObject:mixNumber}function createMixers(e,i,s){const o=[],a=s||detectMixerFactory(e[0]),c=e.length-1;for(let d=0;d<c;d++){let h=a(e[d],e[d+1]);if(i){const g=Array.isArray(i)?i[d]||noop:i;h=pipe(g,h)}o.push(h)}return o}function interpolate(e,i,{clamp:s=!0,ease:o,mixer:a}={}){const c=e.length;if(invariant(c===i.length),c===1)return()=>i[0];e[0]>e[c-1]&&(e=[...e].reverse(),i=[...i].reverse());const d=createMixers(i,o,a),h=d.length,g=_=>{let _e=0;if(h>1)for(;_e<e.length-2&&!(_<e[_e+1]);_e++);const at=progress(e[_e],e[_e+1],_);return d[_e](at)};return s?_=>g(clamp(e[0],e[c-1],_)):g}function fillOffset(e,i){const s=e[e.length-1];for(let o=1;o<=i;o++){const a=progress(0,i,o);e.push(mix(s,1,a))}}function defaultOffset(e){const i=[0];return fillOffset(i,e.length-1),i}function convertOffsetToTimes(e,i){return e.map(s=>s*i)}function defaultEasing(e,i){return e.map(()=>i||easeInOut).splice(0,e.length-1)}function keyframes({duration:e=300,keyframes:i,times:s,ease:o="easeInOut"}){const a=isEasingArray(o)?o.map(easingDefinitionToFunction):easingDefinitionToFunction(o),c={done:!1,value:i[0]},d=convertOffsetToTimes(s&&s.length===i.length?s:defaultOffset(i),e),h=interpolate(d,i,{ease:Array.isArray(a)?a:defaultEasing(i,a)});return{calculatedDuration:e,next:g=>(c.value=h(g),c.done=g>=e,c)}}function velocityPerSecond(e,i){return i?e*(1e3/i):0}const velocitySampleDuration=5;function calcGeneratorVelocity(e,i,s){const o=Math.max(i-velocitySampleDuration,0);return velocityPerSecond(s-e(o),i-o)}const safeMin=.001,minDuration=.01,maxDuration$2=10,minDamping=.05,maxDamping=1;function findSpring({duration:e=800,bounce:i=.25,velocity:s=0,mass:o=1}){let a,c;warning(e<=secondsToMilliseconds(maxDuration$2));let d=1-i;d=clamp(minDamping,maxDamping,d),e=clamp(minDuration,maxDuration$2,millisecondsToSeconds(e)),d<1?(a=_=>{const _e=_*d,at=_e*e,nt=_e-s,lt=calcAngularFreq(_,d),tt=Math.exp(-at);return safeMin-nt/lt*tt},c=_=>{const at=_*d*e,nt=at*s+s,lt=Math.pow(d,2)*Math.pow(_,2)*e,tt=Math.exp(-at),b=calcAngularFreq(Math.pow(_,2),d);return(-a(_)+safeMin>0?-1:1)*((nt-lt)*tt)/b}):(a=_=>{const _e=Math.exp(-_*e),at=(_-s)*e+1;return-safeMin+_e*at},c=_=>{const _e=Math.exp(-_*e),at=(s-_)*(e*e);return _e*at});const h=5/e,g=approximateRoot(a,c,h);if(e=secondsToMilliseconds(e),isNaN(g))return{stiffness:100,damping:10,duration:e};{const _=Math.pow(g,2)*o;return{stiffness:_,damping:d*2*Math.sqrt(o*_),duration:e}}}const rootIterations=12;function approximateRoot(e,i,s){let o=s;for(let a=1;a<rootIterations;a++)o=o-e(o)/i(o);return o}function calcAngularFreq(e,i){return e*Math.sqrt(1-i*i)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(e,i){return i.some(s=>e[s]!==void 0)}function getSpringOptions(e){let i={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!isSpringType(e,physicsKeys)&&isSpringType(e,durationKeys)){const s=findSpring(e);i={...i,...s,velocity:0,mass:1},i.isResolvedFromDuration=!0}return i}function spring({keyframes:e,restDelta:i,restSpeed:s,...o}){const a=e[0],c=e[e.length-1],d={done:!1,value:a},{stiffness:h,damping:g,mass:_,velocity:_e,duration:at,isResolvedFromDuration:nt}=getSpringOptions(o),lt=_e?-millisecondsToSeconds(_e):0,tt=g/(2*Math.sqrt(h*_)),b=c-a,et=millisecondsToSeconds(Math.sqrt(h/_)),j=Math.abs(b)<5;s||(s=j?.01:2),i||(i=j?.005:.5);let rt;if(tt<1){const ot=calcAngularFreq(et,tt);rt=st=>{const $=Math.exp(-tt*et*st);return c-$*((lt+tt*et*b)/ot*Math.sin(ot*st)+b*Math.cos(ot*st))}}else if(tt===1)rt=ot=>c-Math.exp(-et*ot)*(b+(lt+et*b)*ot);else{const ot=et*Math.sqrt(tt*tt-1);rt=st=>{const $=Math.exp(-tt*et*st),it=Math.min(ot*st,300);return c-$*((lt+tt*et*b)*Math.sinh(it)+ot*b*Math.cosh(it))/ot}}return{calculatedDuration:nt&&at||null,next:ot=>{const st=rt(ot);if(nt)d.done=ot>=at;else{let $=lt;ot!==0&&(tt<1?$=calcGeneratorVelocity(rt,ot,st):$=0);const it=Math.abs($)<=s,ut=Math.abs(c-st)<=i;d.done=it&&ut}return d.value=d.done?c:st,d}}}function inertia({keyframes:e,velocity:i=0,power:s=.8,timeConstant:o=325,bounceDamping:a=10,bounceStiffness:c=500,modifyTarget:d,min:h,max:g,restDelta:_=.5,restSpeed:_e}){const at=e[0],nt={done:!1,value:at},lt=pt=>h!==void 0&&pt<h||g!==void 0&&pt>g,tt=pt=>h===void 0?g:g===void 0||Math.abs(h-pt)<Math.abs(g-pt)?h:g;let b=s*i;const et=at+b,j=d===void 0?et:d(et);j!==et&&(b=j-at);const rt=pt=>-b*Math.exp(-pt/o),ot=pt=>j+rt(pt),st=pt=>{const mt=rt(pt),ht=ot(pt);nt.done=Math.abs(mt)<=_,nt.value=nt.done?j:ht};let $,it;const ut=pt=>{lt(nt.value)&&($=pt,it=spring({keyframes:[nt.value,tt(nt.value)],velocity:calcGeneratorVelocity(ot,pt,nt.value),damping:a,stiffness:c,restDelta:_,restSpeed:_e}))};return ut(0),{calculatedDuration:null,next:pt=>{let mt=!1;return!it&&$===void 0&&(mt=!0,st(pt),ut(pt)),$!==void 0&&pt>$?it.next(pt-$):(!mt&&st(pt),nt)}}}const frameloopDriver=e=>{const i=({timestamp:s})=>e(s);return{start:()=>sync.update(i,!0),stop:()=>cancelSync.update(i),now:()=>frameData.isProcessing?frameData.timestamp:performance.now()}},types={decay:inertia,inertia,tween:keyframes,keyframes,spring},maxDuration$1=2e4;function calculateDuration(e){let i=0;const s=50;let o=e.next(i);for(;!o.done&&i<maxDuration$1;)i+=s,o=e.next(i);return i}function animateValue({autoplay:e=!0,delay:i=0,driver:s=frameloopDriver,keyframes:o,type:a="keyframes",repeat:c=0,repeatDelay:d=0,repeatType:h="loop",onPlay:g,onStop:_,onComplete:_e,onUpdate:at,...nt}){let lt=1,tt=!1,b,et;const j=()=>{b&&b(),et=new Promise(Kt=>{b=Kt})};j();let rt;const ot=types[a]||keyframes;let st;ot!==keyframes&&typeof o[0]!="number"&&(st=interpolate([0,100],o,{clamp:!1}),o=[0,100]);const $=ot({...nt,keyframes:o});let it;h==="mirror"&&(it=ot({...nt,keyframes:[...o].reverse(),velocity:-(nt.velocity||0)}));let ut="idle",pt=null,mt=null,ht=null;$.calculatedDuration===null&&c&&($.calculatedDuration=calculateDuration($));const{calculatedDuration:_t}=$;let Vt=1/0,Wt=1/0;_t!==null&&(Vt=_t+d,Wt=Vt*(c+1)-d);let Nt=0;const Lt=Kt=>{if(mt===null)return;pt!==null?Nt=pt:Nt=(Kt-mt)*lt,Nt=Math.max(Nt-i,0),ut==="finished"&&pt===null&&(Nt=Wt);let Ct=Nt,ft=$;if(c){const Tt=Nt/Vt;let wt=Math.floor(Tt),Ot=Tt%1;!Ot&&Tt>=1&&(Ot=1),Ot===1&&wt--,wt=Math.min(wt,c+1);const It=!!(wt%2);It&&(h==="reverse"?(Ot=1-Ot,d&&(Ot-=d/Vt)):h==="mirror"&&(ft=it));let ct=clamp(0,1,Ot);Nt>Wt&&(ct=h==="reverse"&&It?1:0),Ct=ct*Vt}const dt=ft.next(Ct);st&&(dt.value=st(dt.value));let{done:St}=dt;_t!==null&&(St=Nt>=Wt);const bt=pt===null&&(ut==="finished"||ut==="running"&&St||lt<0&&Nt<=0);return at&&at(dt.value),bt&&Et(),dt},kt=()=>{rt&&rt.stop(),rt=void 0},Mt=()=>{ut="idle",kt(),j(),mt=ht=null},Et=()=>{ut="finished",_e&&_e(),kt(),j()},jt=()=>{if(tt)return;rt||(rt=s(Lt));const Kt=rt.now();g&&g(),ut="running",pt!==null?mt=Kt-pt:mt||(mt=Kt),ht=mt,pt=null,rt.start()};e&&jt();const $t={then(Kt,Ct){return et.then(Kt,Ct)},get time(){return millisecondsToSeconds(Nt)},set time(Kt){Kt=secondsToMilliseconds(Kt),Nt=Kt,pt!==null||!rt||lt===0?pt=Kt:mt=rt.now()-Kt/lt},get speed(){return lt},set speed(Kt){Kt===lt||!rt||(lt=Kt,$t.time=millisecondsToSeconds(Nt))},get state(){return ut},play:jt,pause:()=>{ut="paused",pt=Nt},stop:()=>{tt=!0,ut!=="idle"&&(ut="idle",_&&_(),Mt())},cancel:()=>{ht!==null&&Lt(ht),Mt()},complete:()=>{ut="finished"},sample:Kt=>(mt=0,Lt(Kt))};return $t}const acceleratedValues=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),sampleDelta=10,maxDuration=2e4,requiresPregeneratedKeyframes=(e,i)=>i.type==="spring"||e==="backgroundColor"||!isWaapiSupportedEasing(i.ease);function createAcceleratedAnimation(e,i,{onUpdate:s,onComplete:o,...a}){if(!(supports.waapi()&&acceleratedValues.has(i)&&!a.repeatDelay&&a.repeatType!=="mirror"&&a.damping!==0&&a.type!=="inertia"))return!1;let d=!1,h,g;const _=()=>{g=new Promise(b=>{h=b})};_();let{keyframes:_e,duration:at=300,ease:nt}=a;if(requiresPregeneratedKeyframes(i,a)){const b=animateValue({...a,repeat:0,delay:0});let et={done:!1,value:_e[0]};const j=[];let rt=0;for(;!et.done&&rt<maxDuration;)et=b.sample(rt),j.push(et.value),rt+=sampleDelta;_e=j,at=rt-sampleDelta,nt="linear"}const lt=animateStyle(e.owner.current,i,_e,{...a,duration:at,ease:nt}),tt=()=>{sync.update(()=>lt.cancel()),h(),_()};return lt.onfinish=()=>{e.set(getFinalKeyframe(_e,a)),o&&o(),tt()},{then(b,et){return g.then(b,et)},get time(){return millisecondsToSeconds(lt.currentTime||0)},set time(b){lt.currentTime=secondsToMilliseconds(b)},get speed(){return lt.playbackRate},set speed(b){lt.playbackRate=b},play:()=>{d||lt.play()},pause:()=>lt.pause(),stop:()=>{if(d=!0,lt.playState==="idle")return;const{currentTime:b}=lt;if(b){const et=animateValue({...a,autoplay:!1});e.setWithVelocity(et.sample(b-sampleDelta).value,et.sample(b).value,sampleDelta)}tt()},complete:()=>lt.finish(),cancel:tt}}function createInstantAnimation({keyframes:e,delay:i,onUpdate:s,onComplete:o}){const a=()=>(s&&s(e[e.length-1]),o&&o(),{time:0,speed:1,play:noop,pause:noop,stop:noop,then:c=>(c(),Promise.resolve()),cancel:noop,complete:noop});return i?animateValue({keyframes:[0,1],duration:i,onComplete:a}):a()}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(e,{keyframes:i})=>i.length>2?keyframesTransition:transformProps.has(e)?e.startsWith("scale")?criticallyDampedSpring(i[1]):underDampedSpring:ease,isAnimatable=(e,i)=>e==="zIndex"?!1:!!(typeof i=="number"||Array.isArray(i)||typeof i=="string"&&complex.test(i)&&!i.startsWith("url(")),maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(e){const[i,s]=e.slice(0,-1).split("(");if(i==="drop-shadow")return e;const[o]=s.match(floatRegex)||[];if(!o)return e;const a=s.replace(o,"");let c=maxDefaults.has(i)?1:0;return o!==s&&(c*=100),i+"("+c+a+")"}const functionRegex=/([a-z-]*)\(.*?\)/g,filter={...complex,getAnimatableNone:e=>{const i=e.match(functionRegex);return i?i.map(applyDefaultFilter).join(" "):e}},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter,WebkitFilter:filter},getDefaultValueType=e=>defaultValueTypes[e];function getAnimatableNone(e,i){let s=getDefaultValueType(e);return s!==filter&&(s=complex),s.getAnimatableNone?s.getAnimatableNone(i):void 0}function isTransitionDefined({when:e,delay:i,delayChildren:s,staggerChildren:o,staggerDirection:a,repeat:c,repeatType:d,repeatDelay:h,from:g,elapsed:_,..._e}){return!!Object.keys(_e).length}function isZero(e){return e===0||typeof e=="string"&&parseFloat(e)===0&&e.indexOf(" ")===-1}function getZeroUnit(e){return typeof e=="number"?0:getAnimatableNone("",e)}function getValueTransition(e,i){return e[i]||e.default||e}function getKeyframes(e,i,s,o){const a=isAnimatable(i,s);let c=o.from!==void 0?o.from:e.get();if(c==="none"&&a&&typeof s=="string"?c=getAnimatableNone(i,s):isZero(c)&&typeof s=="string"?c=getZeroUnit(s):!Array.isArray(s)&&isZero(s)&&typeof c=="string"&&(s=getZeroUnit(c)),Array.isArray(s)){for(let d=0;d<s.length;d++)s[d]===null&&(s[d]=d===0?c:s[d-1]);return s}else return[c,s]}const animateMotionValue=(e,i,s,o={})=>a=>{const c=getValueTransition(o,e)||{},d=c.delay||o.delay||0;let{elapsed:h=0}=o;h=h-secondsToMilliseconds(d);const g=getKeyframes(i,e,s,c),_=g[0],_e=g[g.length-1],at=isAnimatable(e,_),nt=isAnimatable(e,_e);let lt={keyframes:g,velocity:i.getVelocity(),ease:"easeOut",...c,delay:-h,onUpdate:tt=>{i.set(tt),c.onUpdate&&c.onUpdate(tt)},onComplete:()=>{a(),c.onComplete&&c.onComplete()}};if(!at||!nt||instantAnimationState.current||c.type===!1)return createInstantAnimation(lt);if(isTransitionDefined(c)||(lt={...lt,...getDefaultTransition(e,lt)}),lt.duration&&(lt.duration=secondsToMilliseconds(lt.duration)),lt.repeatDelay&&(lt.repeatDelay=secondsToMilliseconds(lt.repeatDelay)),i.owner&&i.owner.current instanceof HTMLElement&&!i.owner.getProps().onUpdate){const tt=createAcceleratedAnimation(i,e,lt);if(tt)return tt}return animateValue(lt)};function isWillChangeMotionValue(e){return!!(isMotionValue(e)&&e.add)}const isNumericalString=e=>/^\-?\d*\.?\d+$/.test(e),isZeroValueString=e=>/^0[^.\s]+$/.test(e);function addUniqueItem(e,i){e.indexOf(i)===-1&&e.push(i)}function removeItem(e,i){const s=e.indexOf(i);s>-1&&e.splice(s,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(i){return addUniqueItem(this.subscriptions,i),()=>removeItem(this.subscriptions,i)}notify(i,s,o){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](i,s,o);else for(let c=0;c<a;c++){const d=this.subscriptions[c];d&&d(i,s,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const isFloat=e=>!isNaN(parseFloat(e));class MotionValue{constructor(i,s={}){this.version="10.9.2",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(o,a=!0)=>{this.prev=this.current,this.current=o;const{delta:c,timestamp:d}=frameData;this.lastUpdated!==d&&(this.timeDelta=c,this.lastUpdated=d,sync.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>sync.postRender(this.velocityCheck),this.velocityCheck=({timestamp:o})=>{o!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=i,this.canTrackVelocity=isFloat(this.current),this.owner=s.owner}onChange(i){return this.on("change",i)}on(i,s){this.events[i]||(this.events[i]=new SubscriptionManager);const o=this.events[i].add(s);return i==="change"?()=>{o(),sync.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const i in this.events)this.events[i].clear()}attach(i,s){this.passiveEffect=i,this.stopPassiveEffect=s}set(i,s=!0){!s||!this.passiveEffect?this.updateAndNotify(i,s):this.passiveEffect(i,this.updateAndNotify)}setWithVelocity(i,s,o){this.set(s),this.prev=i,this.timeDelta=o}jump(i){this.updateAndNotify(i),this.prev=i,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?velocityPerSecond(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(i){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=i(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(e,i){return new MotionValue(e,i)}const testValueType=e=>i=>i.test(e),auto={test:e=>e==="auto",parse:e=>e},dimensionValueTypes=[number,px,percent,degrees,vw,vh,auto],findDimensionValueType=e=>dimensionValueTypes.find(testValueType(e)),valueTypes=[...dimensionValueTypes,color,complex],findValueType=e=>valueTypes.find(testValueType(e));function setMotionValue(e,i,s){e.hasValue(i)?e.getValue(i).set(s):e.addValue(i,motionValue(s))}function setTarget(e,i){const s=resolveVariant(e,i);let{transitionEnd:o={},transition:a={},...c}=s?e.makeTargetAnimatable(s,!1):{};c={...c,...o};for(const d in c){const h=resolveFinalValueInKeyframes(c[d]);setMotionValue(e,d,h)}}function checkTargetForNewValues(e,i,s){var o,a;const c=Object.keys(i).filter(h=>!e.hasValue(h)),d=c.length;if(d)for(let h=0;h<d;h++){const g=c[h],_=i[g];let _e=null;Array.isArray(_)&&(_e=_[0]),_e===null&&(_e=(a=(o=s[g])!==null&&o!==void 0?o:e.readValue(g))!==null&&a!==void 0?a:i[g]),_e!=null&&(typeof _e=="string"&&(isNumericalString(_e)||isZeroValueString(_e))?_e=parseFloat(_e):!findValueType(_e)&&complex.test(_)&&(_e=getAnimatableNone(g,_)),e.addValue(g,motionValue(_e,{owner:e})),s[g]===void 0&&(s[g]=_e),_e!==null&&e.setBaseTarget(g,_e))}}function getOriginFromTransition(e,i){return i?(i[e]||i.default||i).from:void 0}function getOrigin(e,i,s){const o={};for(const a in e){const c=getOriginFromTransition(a,i);if(c!==void 0)o[a]=c;else{const d=s.getValue(a);d&&(o[a]=d.get())}}return o}function shouldBlockAnimation({protectedKeys:e,needsAnimating:i},s){const o=e.hasOwnProperty(s)&&i[s]!==!0;return i[s]=!1,o}function animateTarget(e,i,{delay:s=0,transitionOverride:o,type:a}={}){let{transition:c=e.getDefaultTransition(),transitionEnd:d,...h}=e.makeTargetAnimatable(i);const g=e.getValue("willChange");o&&(c=o);const _=[],_e=a&&e.animationState&&e.animationState.getState()[a];for(const at in h){const nt=e.getValue(at),lt=h[at];if(!nt||lt===void 0||_e&&shouldBlockAnimation(_e,at))continue;const tt={delay:s,elapsed:0,...c};if(window.HandoffAppearAnimations&&!nt.hasAnimated){const et=e.getProps()[optimizedAppearDataAttribute];et&&(tt.elapsed=window.HandoffAppearAnimations(et,at,nt,sync))}nt.start(animateMotionValue(at,nt,lt,e.shouldReduceMotion&&transformProps.has(at)?{type:!1}:tt));const b=nt.animation;isWillChangeMotionValue(g)&&(g.add(at),b.then(()=>g.remove(at))),_.push(b)}return d&&Promise.all(_).then(()=>{d&&setTarget(e,d)}),_}function animateVariant(e,i,s={}){const o=resolveVariant(e,i,s.custom);let{transition:a=e.getDefaultTransition()||{}}=o||{};s.transitionOverride&&(a=s.transitionOverride);const c=o?()=>Promise.all(animateTarget(e,o,s)):()=>Promise.resolve(),d=e.variantChildren&&e.variantChildren.size?(g=0)=>{const{delayChildren:_=0,staggerChildren:_e,staggerDirection:at}=a;return animateChildren(e,i,_+g,_e,at,s)}:()=>Promise.resolve(),{when:h}=a;if(h){const[g,_]=h==="beforeChildren"?[c,d]:[d,c];return g().then(()=>_())}else return Promise.all([c(),d(s.delay)])}function animateChildren(e,i,s=0,o=0,a=1,c){const d=[],h=(e.variantChildren.size-1)*o,g=a===1?(_=0)=>_*o:(_=0)=>h-_*o;return Array.from(e.variantChildren).sort(sortByTreeOrder).forEach((_,_e)=>{_.notify("AnimationStart",i),d.push(animateVariant(_,i,{...c,delay:s+g(_e)}).then(()=>_.notify("AnimationComplete",i)))}),Promise.all(d)}function sortByTreeOrder(e,i){return e.sortNodePosition(i)}function animateVisualElement(e,i,s={}){e.notify("AnimationStart",i);let o;if(Array.isArray(i)){const a=i.map(c=>animateVariant(e,c,s));o=Promise.all(a)}else if(typeof i=="string")o=animateVariant(e,i,s);else{const a=typeof i=="function"?resolveVariant(e,i,s.custom):i;o=Promise.all(animateTarget(e,a,s))}return o.then(()=>e.notify("AnimationComplete",i))}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(e){return i=>Promise.all(i.map(({animation:s,options:o})=>animateVisualElement(e,s,o)))}function createAnimationState(e){let i=animateList(e);const s=createState();let o=!0;const a=(g,_)=>{const _e=resolveVariant(e,_);if(_e){const{transition:at,transitionEnd:nt,...lt}=_e;g={...g,...lt,...nt}}return g};function c(g){i=g(e)}function d(g,_){const _e=e.getProps(),at=e.getVariantContext(!0)||{},nt=[],lt=new Set;let tt={},b=1/0;for(let j=0;j<numAnimationTypes;j++){const rt=reversePriorityOrder[j],ot=s[rt],st=_e[rt]!==void 0?_e[rt]:at[rt],$=isVariantLabel(st),it=rt===_?ot.isActive:null;it===!1&&(b=j);let ut=st===at[rt]&&st!==_e[rt]&&$;if(ut&&o&&e.manuallyAnimateOnMount&&(ut=!1),ot.protectedKeys={...tt},!ot.isActive&&it===null||!st&&!ot.prevProp||isAnimationControls(st)||typeof st=="boolean")continue;const pt=checkVariantsDidChange(ot.prevProp,st);let mt=pt||rt===_&&ot.isActive&&!ut&&$||j>b&&$;const ht=Array.isArray(st)?st:[st];let _t=ht.reduce(a,{});it===!1&&(_t={});const{prevResolvedValues:Vt={}}=ot,Wt={...Vt,..._t},Nt=Lt=>{mt=!0,lt.delete(Lt),ot.needsAnimating[Lt]=!0};for(const Lt in Wt){const kt=_t[Lt],Mt=Vt[Lt];tt.hasOwnProperty(Lt)||(kt!==Mt?isKeyframesTarget(kt)&&isKeyframesTarget(Mt)?!shallowCompare(kt,Mt)||pt?Nt(Lt):ot.protectedKeys[Lt]=!0:kt!==void 0?Nt(Lt):lt.add(Lt):kt!==void 0&&lt.has(Lt)?Nt(Lt):ot.protectedKeys[Lt]=!0)}ot.prevProp=st,ot.prevResolvedValues=_t,ot.isActive&&(tt={...tt,..._t}),o&&e.blockInitialAnimation&&(mt=!1),mt&&!ut&&nt.push(...ht.map(Lt=>({animation:Lt,options:{type:rt,...g}})))}if(lt.size){const j={};lt.forEach(rt=>{const ot=e.getBaseTarget(rt);ot!==void 0&&(j[rt]=ot)}),nt.push({animation:j})}let et=!!nt.length;return o&&_e.initial===!1&&!e.manuallyAnimateOnMount&&(et=!1),o=!1,et?i(nt):Promise.resolve()}function h(g,_,_e){var at;if(s[g].isActive===_)return Promise.resolve();(at=e.variantChildren)===null||at===void 0||at.forEach(lt=>{var tt;return(tt=lt.animationState)===null||tt===void 0?void 0:tt.setActive(g,_)}),s[g].isActive=_;const nt=d(_e,g);for(const lt in s)s[lt].protectedKeys={};return nt}return{animateChanges:d,setActive:h,setAnimateFunction:c,getState:()=>s}}function checkVariantsDidChange(e,i){return typeof i=="string"?i!==e:Array.isArray(i)?!shallowCompare(i,e):!1}function createTypeState(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class AnimationFeature extends Feature{constructor(i){super(i),i.animationState||(i.animationState=createAnimationState(i))}updateAnimationControlsSubscription(){const{animate:i}=this.node.getProps();this.unmount(),isAnimationControls(i)&&(this.unmount=i.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:i}=this.node.getProps(),{animate:s}=this.node.prevProps||{};i!==s&&this.updateAnimationControlsSubscription()}unmount(){}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:i,onExitComplete:s,custom:o}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||i===a)return;const c=this.node.animationState.setActive("exit",!i,{custom:o??this.node.getProps().custom});s&&!i&&c.then(()=>s(this.id))}mount(){const{register:i}=this.node.presenceContext||{};i&&(this.unmount=i(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}},distance=(e,i)=>Math.abs(e-i);function distance2D(e,i){const s=distance(e.x,i.x),o=distance(e.y,i.y);return Math.sqrt(s**2+o**2)}class PanSession{constructor(i,s,{transformPagePoint:o}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=getPanInfo(this.lastMoveEventInfo,this.history),_e=this.startEvent!==null,at=distance2D(_.offset,{x:0,y:0})>=3;if(!_e&&!at)return;const{point:nt}=_,{timestamp:lt}=frameData;this.history.push({...nt,timestamp:lt});const{onStart:tt,onMove:b}=this.handlers;_e||(tt&&tt(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,_)},this.handlePointerMove=(_,_e)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=transformPoint(_e,this.transformPagePoint),sync.update(this.updatePoint,!0)},this.handlePointerUp=(_,_e)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:at,onSessionEnd:nt}=this.handlers,lt=getPanInfo(_.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(_e,this.transformPagePoint),this.history);this.startEvent&&at&&at(_,lt),nt&&nt(_,lt)},!isPrimaryPointer(i))return;this.handlers=s,this.transformPagePoint=o;const a=extractEventInfo(i),c=transformPoint(a,this.transformPagePoint),{point:d}=c,{timestamp:h}=frameData;this.history=[{...d,timestamp:h}];const{onSessionStart:g}=s;g&&g(i,getPanInfo(c,this.history)),this.removeListeners=pipe(addPointerEvent(window,"pointermove",this.handlePointerMove),addPointerEvent(window,"pointerup",this.handlePointerUp),addPointerEvent(window,"pointercancel",this.handlePointerUp))}updateHandlers(i){this.handlers=i}end(){this.removeListeners&&this.removeListeners(),cancelSync.update(this.updatePoint)}}function transformPoint(e,i){return i?{point:i(e.point)}:e}function subtractPoint(e,i){return{x:e.x-i.x,y:e.y-i.y}}function getPanInfo({point:e},i){return{point:e,delta:subtractPoint(e,lastDevicePoint(i)),offset:subtractPoint(e,startDevicePoint(i)),velocity:getVelocity(i,.1)}}function startDevicePoint(e){return e[0]}function lastDevicePoint(e){return e[e.length-1]}function getVelocity(e,i){if(e.length<2)return{x:0,y:0};let s=e.length-1,o=null;const a=lastDevicePoint(e);for(;s>=0&&(o=e[s],!(a.timestamp-o.timestamp>secondsToMilliseconds(i)));)s--;if(!o)return{x:0,y:0};const c=millisecondsToSeconds(a.timestamp-o.timestamp);if(c===0)return{x:0,y:0};const d={x:(a.x-o.x)/c,y:(a.y-o.y)/c};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}function calcLength(e){return e.max-e.min}function isNear(e,i=0,s=.01){return Math.abs(e-i)<=s}function calcAxisDelta(e,i,s,o=.5){e.origin=o,e.originPoint=mix(i.min,i.max,e.origin),e.scale=calcLength(s)/calcLength(i),(isNear(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=mix(s.min,s.max,e.origin)-e.originPoint,(isNear(e.translate)||isNaN(e.translate))&&(e.translate=0)}function calcBoxDelta(e,i,s,o){calcAxisDelta(e.x,i.x,s.x,o?o.originX:void 0),calcAxisDelta(e.y,i.y,s.y,o?o.originY:void 0)}function calcRelativeAxis(e,i,s){e.min=s.min+i.min,e.max=e.min+calcLength(i)}function calcRelativeBox(e,i,s){calcRelativeAxis(e.x,i.x,s.x),calcRelativeAxis(e.y,i.y,s.y)}function calcRelativeAxisPosition(e,i,s){e.min=i.min-s.min,e.max=e.min+calcLength(i)}function calcRelativePosition(e,i,s){calcRelativeAxisPosition(e.x,i.x,s.x),calcRelativeAxisPosition(e.y,i.y,s.y)}function applyConstraints(e,{min:i,max:s},o){return i!==void 0&&e<i?e=o?mix(i,e,o.min):Math.max(e,i):s!==void 0&&e>s&&(e=o?mix(s,e,o.max):Math.min(e,s)),e}function calcRelativeAxisConstraints(e,i,s){return{min:i!==void 0?e.min+i:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function calcRelativeConstraints(e,{top:i,left:s,bottom:o,right:a}){return{x:calcRelativeAxisConstraints(e.x,s,a),y:calcRelativeAxisConstraints(e.y,i,o)}}function calcViewportAxisConstraints(e,i){let s=i.min-e.min,o=i.max-e.max;return i.max-i.min<e.max-e.min&&([s,o]=[o,s]),{min:s,max:o}}function calcViewportConstraints(e,i){return{x:calcViewportAxisConstraints(e.x,i.x),y:calcViewportAxisConstraints(e.y,i.y)}}function calcOrigin(e,i){let s=.5;const o=calcLength(e),a=calcLength(i);return a>o?s=progress(i.min,i.max-o,e.min):o>a&&(s=progress(e.min,e.max-a,i.min)),clamp(0,1,s)}function rebaseAxisConstraints(e,i){const s={};return i.min!==void 0&&(s.min=i.min-e.min),i.max!==void 0&&(s.max=i.max-e.min),s}const defaultElastic=.35;function resolveDragElastic(e=defaultElastic){return e===!1?e=0:e===!0&&(e=defaultElastic),{x:resolveAxisElastic(e,"left","right"),y:resolveAxisElastic(e,"top","bottom")}}function resolveAxisElastic(e,i,s){return{min:resolvePointElastic(e,i),max:resolvePointElastic(e,s)}}function resolvePointElastic(e,i){return typeof e=="number"?e:e[i]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(e){return[e("x"),e("y")]}function convertBoundingBoxToBox({top:e,left:i,right:s,bottom:o}){return{x:{min:i,max:s},y:{min:e,max:o}}}function convertBoxToBoundingBox({x:e,y:i}){return{top:i.min,right:e.max,bottom:i.max,left:e.min}}function transformBoxPoints(e,i){if(!i)return e;const s=i({x:e.left,y:e.top}),o=i({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:o.y,right:o.x}}function isIdentityScale(e){return e===void 0||e===1}function hasScale({scale:e,scaleX:i,scaleY:s}){return!isIdentityScale(e)||!isIdentityScale(i)||!isIdentityScale(s)}function hasTransform(e){return hasScale(e)||has2DTranslate(e)||e.z||e.rotate||e.rotateX||e.rotateY}function has2DTranslate(e){return is2DTranslate(e.x)||is2DTranslate(e.y)}function is2DTranslate(e){return e&&e!=="0%"}function scalePoint(e,i,s){const o=e-s,a=i*o;return s+a}function applyPointDelta(e,i,s,o,a){return a!==void 0&&(e=scalePoint(e,a,o)),scalePoint(e,s,o)+i}function applyAxisDelta(e,i=0,s=1,o,a){e.min=applyPointDelta(e.min,i,s,o,a),e.max=applyPointDelta(e.max,i,s,o,a)}function applyBoxDelta(e,{x:i,y:s}){applyAxisDelta(e.x,i.translate,i.scale,i.originPoint),applyAxisDelta(e.y,s.translate,s.scale,s.originPoint)}function applyTreeDeltas(e,i,s,o=!1){const a=s.length;if(!a)return;i.x=i.y=1;let c,d;for(let h=0;h<a;h++){c=s[h],d=c.projectionDelta;const g=c.instance;g&&g.style&&g.style.display==="contents"||(o&&c.options.layoutScroll&&c.scroll&&c!==c.root&&transformBox(e,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),d&&(i.x*=d.x.scale,i.y*=d.y.scale,applyBoxDelta(e,d)),o&&hasTransform(c.latestValues)&&transformBox(e,c.latestValues))}i.x=snapToDefault(i.x),i.y=snapToDefault(i.y)}function snapToDefault(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function translateAxis(e,i){e.min=e.min+i,e.max=e.max+i}function transformAxis(e,i,[s,o,a]){const c=i[a]!==void 0?i[a]:.5,d=mix(e.min,e.max,c);applyAxisDelta(e,i[s],i[o],d,i.scale)}const xKeys$1=["x","scaleX","originX"],yKeys$1=["y","scaleY","originY"];function transformBox(e,i){transformAxis(e.x,i,xKeys$1),transformAxis(e.y,i,yKeys$1)}function measureViewportBox(e,i){return convertBoundingBoxToBox(transformBoxPoints(e.getBoundingClientRect(),i))}function measurePageBox(e,i,s){const o=measureViewportBox(e,s),{scroll:a}=i;return a&&(translateAxis(o.x,a.offset.x),translateAxis(o.y,a.offset.y)),o}const elementDragControls=new WeakMap;class VisualElementDragControls{constructor(i){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=i}start(i,{snapToCursor:s=!1}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const a=g=>{this.stopAnimation(),s&&this.snapToCursor(extractEventInfo(g,"page").point)},c=(g,_)=>{const{drag:_e,dragPropagation:at,onDragStart:nt}=this.getProps();if(_e&&!at&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=getGlobalLock(_e),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(tt=>{let b=this.getAxisMotionValue(tt).get()||0;if(percent.test(b)){const{projection:et}=this.visualElement;if(et&&et.layout){const j=et.layout.layoutBox[tt];j&&(b=calcLength(j)*(parseFloat(b)/100))}}this.originPoint[tt]=b}),nt&&sync.update(()=>nt(g,_));const{animationState:lt}=this.visualElement;lt&&lt.setActive("whileDrag",!0)},d=(g,_)=>{const{dragPropagation:_e,dragDirectionLock:at,onDirectionLock:nt,onDrag:lt}=this.getProps();if(!_e&&!this.openGlobalLock)return;const{offset:tt}=_;if(at&&this.currentDirection===null){this.currentDirection=getCurrentDirection(tt),this.currentDirection!==null&&nt&&nt(this.currentDirection);return}this.updateAxis("x",_.point,tt),this.updateAxis("y",_.point,tt),this.visualElement.render(),lt&&lt(g,_)},h=(g,_)=>this.stop(g,_);this.panSession=new PanSession(i,{onSessionStart:a,onStart:c,onMove:d,onSessionEnd:h},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(i,s){const o=this.isDragging;if(this.cancel(),!o)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:c}=this.getProps();c&&sync.update(()=>c(i,s))}cancel(){this.isDragging=!1;const{projection:i,animationState:s}=this.visualElement;i&&(i.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(i,s,o){const{drag:a}=this.getProps();if(!o||!shouldDrag(i,a,this.currentDirection))return;const c=this.getAxisMotionValue(i);let d=this.originPoint[i]+o[i];this.constraints&&this.constraints[i]&&(d=applyConstraints(d,this.constraints[i],this.elastic[i])),c.set(d)}resolveConstraints(){const{dragConstraints:i,dragElastic:s}=this.getProps(),{layout:o}=this.visualElement.projection||{},a=this.constraints;i&&isRefObject(i)?this.constraints||(this.constraints=this.resolveRefConstraints()):i&&o?this.constraints=calcRelativeConstraints(o.layoutBox,i):this.constraints=!1,this.elastic=resolveDragElastic(s),a!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(c=>{this.getAxisMotionValue(c)&&(this.constraints[c]=rebaseAxisConstraints(o.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:i,onMeasureDragConstraints:s}=this.getProps();if(!i||!isRefObject(i))return!1;const o=i.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const c=measurePageBox(o,a.root,this.visualElement.getTransformPagePoint());let d=calcViewportConstraints(a.layout.layoutBox,c);if(s){const h=s(convertBoxToBoundingBox(d));this.hasMutatedConstraints=!!h,h&&(d=convertBoundingBoxToBox(h))}return d}startAnimation(i){const{drag:s,dragMomentum:o,dragElastic:a,dragTransition:c,dragSnapToOrigin:d,onDragTransitionEnd:h}=this.getProps(),g=this.constraints||{},_=eachAxis(_e=>{if(!shouldDrag(_e,s,this.currentDirection))return;let at=g&&g[_e]||{};d&&(at={min:0,max:0});const nt=a?200:1e6,lt=a?40:1e7,tt={type:"inertia",velocity:o?i[_e]:0,bounceStiffness:nt,bounceDamping:lt,timeConstant:750,restDelta:1,restSpeed:10,...c,...at};return this.startAxisValueAnimation(_e,tt)});return Promise.all(_).then(h)}startAxisValueAnimation(i,s){const o=this.getAxisMotionValue(i);return o.start(animateMotionValue(i,o,0,s))}stopAnimation(){eachAxis(i=>this.getAxisMotionValue(i).stop())}getAxisMotionValue(i){const s="_drag"+i.toUpperCase(),o=this.visualElement.getProps(),a=o[s];return a||this.visualElement.getValue(i,(o.initial?o.initial[i]:void 0)||0)}snapToCursor(i){eachAxis(s=>{const{drag:o}=this.getProps();if(!shouldDrag(s,o,this.currentDirection))return;const{projection:a}=this.visualElement,c=this.getAxisMotionValue(s);if(a&&a.layout){const{min:d,max:h}=a.layout.layoutBox[s];c.set(i[s]-mix(d,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:i,dragConstraints:s}=this.getProps(),{projection:o}=this.visualElement;if(!isRefObject(s)||!o||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};eachAxis(d=>{const h=this.getAxisMotionValue(d);if(h){const g=h.get();a[d]=calcOrigin({min:g,max:g},this.constraints[d])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),eachAxis(d=>{if(!shouldDrag(d,i,null))return;const h=this.getAxisMotionValue(d),{min:g,max:_}=this.constraints[d];h.set(mix(g,_,a[d]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const i=this.visualElement.current,s=addPointerEvent(i,"pointerdown",g=>{const{drag:_,dragListener:_e=!0}=this.getProps();_&&_e&&this.start(g)}),o=()=>{const{dragConstraints:g}=this.getProps();isRefObject(g)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,c=a.addEventListener("measure",o);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),o();const d=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",({delta:g,hasLayoutChanged:_})=>{this.isDragging&&_&&(eachAxis(_e=>{const at=this.getAxisMotionValue(_e);at&&(this.originPoint[_e]+=g[_e].translate,at.set(at.get()+g[_e].translate))}),this.visualElement.render())});return()=>{d(),s(),c(),h&&h()}}getProps(){const i=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:o=!1,dragPropagation:a=!1,dragConstraints:c=!1,dragElastic:d=defaultElastic,dragMomentum:h=!0}=i;return{...i,drag:s,dragDirectionLock:o,dragPropagation:a,dragConstraints:c,dragElastic:d,dragMomentum:h}}}function shouldDrag(e,i,s){return(i===!0||i===e)&&(s===null||s===e)}function getCurrentDirection(e,i=10){let s=null;return Math.abs(e.y)>i?s="y":Math.abs(e.x)>i&&(s="x"),s}class DragGesture extends Feature{constructor(i){super(i),this.removeGroupControls=noop,this.removeListeners=noop,this.controls=new VisualElementDragControls(i)}mount(){const{dragControls:i}=this.node.getProps();i&&(this.removeGroupControls=i.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=e=>(i,s)=>{e&&sync.update(()=>e(i,s))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop}onPointerDown(i){this.session=new PanSession(i,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:i,onPanStart:s,onPan:o,onPanEnd:a}=this.node.getProps();return{onSessionStart:asyncHandler(i),onStart:asyncHandler(s),onMove:o,onEnd:(c,d)=>{delete this.session,a&&sync.update(()=>a(c,d))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",i=>this.onPointerDown(i))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function usePresence(){const e=reactExports.useContext(PresenceContext);if(e===null)return[!0,null];const{isPresent:i,onExitComplete:s,register:o}=e,a=reactExports.useId();return reactExports.useEffect(()=>o(a),[]),!i&&s?[!1,()=>s&&s(a)]:[!0]}function pixelsToPercent(e,i){return i.max===i.min?0:e/(i.max-i.min)*100}const correctBorderRadius={correct:(e,i)=>{if(!i.target)return e;if(typeof e=="string")if(px.test(e))e=parseFloat(e);else return e;const s=pixelsToPercent(e,i.target.x),o=pixelsToPercent(e,i.target.y);return`${s}% ${o}%`}},cssVariableRegex=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function parseCSSVariable(e){const i=cssVariableRegex.exec(e);if(!i)return[,];const[,s,o]=i;return[s,o]}function getVariableValue(e,i,s=1){const[o,a]=parseCSSVariable(e);if(!o)return;const c=window.getComputedStyle(i).getPropertyValue(o);return c?c.trim():isCSSVariableToken(a)?getVariableValue(a,i,s+1):a}function resolveCSSVariables(e,{...i},s){const o=e.current;if(!(o instanceof Element))return{target:i,transitionEnd:s};s&&(s={...s}),e.values.forEach(a=>{const c=a.get();if(!isCSSVariableToken(c))return;const d=getVariableValue(c,o);d&&a.set(d)});for(const a in i){const c=i[a];if(!isCSSVariableToken(c))continue;const d=getVariableValue(c,o);d&&(i[a]=d,s||(s={}),s[a]===void 0&&(s[a]=c))}return{target:i,transitionEnd:s}}const varToken="_$css",correctBoxShadow={correct:(e,{treeScale:i,projectionDelta:s})=>{const o=e,a=e.includes("var("),c=[];a&&(e=e.replace(cssVariableRegex,lt=>(c.push(lt),varToken)));const d=complex.parse(e);if(d.length>5)return o;const h=complex.createTransformer(e),g=typeof d[0]!="number"?1:0,_=s.x.scale*i.x,_e=s.y.scale*i.y;d[0+g]/=_,d[1+g]/=_e;const at=mix(_,_e,.5);typeof d[2+g]=="number"&&(d[2+g]/=at),typeof d[3+g]=="number"&&(d[3+g]/=at);let nt=h(d);if(a){let lt=0;nt=nt.replace(varToken,()=>{const tt=c[lt];return lt++,tt})}return nt}};class MeasureLayoutWithContext extends React.Component{componentDidMount(){const{visualElement:i,layoutGroup:s,switchLayoutGroup:o,layoutId:a}=this.props,{projection:c}=i;addScaleCorrector(defaultScaleCorrectors),c&&(s.group&&s.group.add(c),o&&o.register&&a&&o.register(c),c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(i){const{layoutDependency:s,visualElement:o,drag:a,isPresent:c}=this.props,d=o.projection;return d&&(d.isPresent=c,a||i.layoutDependency!==s||s===void 0?d.willUpdate():this.safeToRemove(),i.isPresent!==c&&(c?d.promote():d.relegate()||sync.postRender(()=>{const h=d.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:i}=this.props.visualElement;i&&(i.root.didUpdate(),!i.currentAnimation&&i.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:i,layoutGroup:s,switchLayoutGroup:o}=this.props,{projection:a}=i;a&&(a.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(a),o&&o.deregister&&o.deregister(a))}safeToRemove(){const{safeToRemove:i}=this.props;i&&i()}render(){return null}}function MeasureLayout(e){const[i,s]=usePresence(),o=reactExports.useContext(LayoutGroupContext);return React.createElement(MeasureLayoutWithContext,{...e,layoutGroup:o,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:i,safeToRemove:s})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow},borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=e=>typeof e=="string"?parseFloat(e):e,isPx=e=>typeof e=="number"||px.test(e);function mixValues(e,i,s,o,a,c){a?(e.opacity=mix(0,s.opacity!==void 0?s.opacity:1,easeCrossfadeIn(o)),e.opacityExit=mix(i.opacity!==void 0?i.opacity:1,0,easeCrossfadeOut(o))):c&&(e.opacity=mix(i.opacity!==void 0?i.opacity:1,s.opacity!==void 0?s.opacity:1,o));for(let d=0;d<numBorders;d++){const h=`border${borders[d]}Radius`;let g=getRadius(i,h),_=getRadius(s,h);if(g===void 0&&_===void 0)continue;g||(g=0),_||(_=0),g===0||_===0||isPx(g)===isPx(_)?(e[h]=Math.max(mix(asNumber(g),asNumber(_),o),0),(percent.test(_)||percent.test(g))&&(e[h]+="%")):e[h]=_}(i.rotate||s.rotate)&&(e.rotate=mix(i.rotate||0,s.rotate||0,o))}function getRadius(e,i){return e[i]!==void 0?e[i]:e.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop);function compress(e,i,s){return o=>o<e?0:o>i?1:s(progress(e,i,o))}function copyAxisInto(e,i){e.min=i.min,e.max=i.max}function copyBoxInto(e,i){copyAxisInto(e.x,i.x),copyAxisInto(e.y,i.y)}function removePointDelta(e,i,s,o,a){return e-=i,e=scalePoint(e,1/s,o),a!==void 0&&(e=scalePoint(e,1/a,o)),e}function removeAxisDelta(e,i=0,s=1,o=.5,a,c=e,d=e){if(percent.test(i)&&(i=parseFloat(i),i=mix(d.min,d.max,i/100)-d.min),typeof i!="number")return;let h=mix(c.min,c.max,o);e===c&&(h-=i),e.min=removePointDelta(e.min,i,s,h,a),e.max=removePointDelta(e.max,i,s,h,a)}function removeAxisTransforms(e,i,[s,o,a],c,d){removeAxisDelta(e,i[s],i[o],i[a],i.scale,c,d)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(e,i,s,o){removeAxisTransforms(e.x,i,xKeys,s?s.x:void 0,o?o.x:void 0),removeAxisTransforms(e.y,i,yKeys,s?s.y:void 0,o?o.y:void 0)}function isAxisDeltaZero(e){return e.translate===0&&e.scale===1}function isDeltaZero(e){return isAxisDeltaZero(e.x)&&isAxisDeltaZero(e.y)}function boxEquals(e,i){return e.x.min===i.x.min&&e.x.max===i.x.max&&e.y.min===i.y.min&&e.y.max===i.y.max}function aspectRatio(e){return calcLength(e.x)/calcLength(e.y)}class NodeStack{constructor(){this.members=[]}add(i){addUniqueItem(this.members,i),i.scheduleRender()}remove(i){if(removeItem(this.members,i),i===this.prevLead&&(this.prevLead=void 0),i===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(i){const s=this.members.findIndex(a=>i===a);if(s===0)return!1;let o;for(let a=s;a>=0;a--){const c=this.members[a];if(c.isPresent!==!1){o=c;break}}return o?(this.promote(o),!0):!1}promote(i,s){const o=this.lead;if(i!==o&&(this.prevLead=o,this.lead=i,i.show(),o)){o.instance&&o.scheduleRender(),i.scheduleRender(),i.resumeFrom=o,s&&(i.resumeFrom.preserveOpacity=!0),o.snapshot&&(i.snapshot=o.snapshot,i.snapshot.latestValues=o.animationValues||o.latestValues),i.root&&i.root.isUpdating&&(i.isLayoutDirty=!0);const{crossfade:a}=i.options;a===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(i=>{const{options:s,resumingFrom:o}=i;s.onExitComplete&&s.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(i=>{i.instance&&i.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(e,i,s){let o="";const a=e.x.translate/i.x,c=e.y.translate/i.y;if((a||c)&&(o=`translate3d(${a}px, ${c}px, 0) `),(i.x!==1||i.y!==1)&&(o+=`scale(${1/i.x}, ${1/i.y}) `),s){const{rotate:g,rotateX:_,rotateY:_e}=s;g&&(o+=`rotate(${g}deg) `),_&&(o+=`rotateX(${_}deg) `),_e&&(o+=`rotateY(${_e}deg) `)}const d=e.x.scale*i.x,h=e.y.scale*i.y;return(d!==1||h!==1)&&(o+=`scale(${d}, ${h})`),o||"none"}const compareByDepth=(e,i)=>e.depth-i.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(i){addUniqueItem(this.children,i),this.isDirty=!0}remove(i){removeItem(this.children,i),this.isDirty=!0}forEach(i){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(i)}}function delay(e,i){const s=performance.now(),o=({timestamp:a})=>{const c=a-s;c>=i&&(cancelSync.read(o),e(c-i))};return sync.read(o,!0),()=>cancelSync.read(o)}function record(e){window.MotionDebug&&window.MotionDebug.record(e)}function isSVGElement(e){return e instanceof SVGElement&&e.tagName!=="svg"}function animateSingleValue(e,i,s){const o=isMotionValue(e)?e:motionValue(e);return o.start(animateMotionValue("",o,i,s)),o.animation}const transformAxes=["","X","Y","Z"],animationTarget=1e3;let id=0;const projectionFrameData={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function createProjectionNode({attachResizeListener:e,defaultParent:i,measureScroll:s,checkIsScrollRoot:o,resetTransform:a}){return class{constructor(d,h={},g=i==null?void 0:i()){this.id=id++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{projectionFrameData.totalNodes=projectionFrameData.resolvedTargetDeltas=projectionFrameData.recalculatedProjection=0,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),record(projectionFrameData)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=d,this.latestValues=h,this.root=g?g.root||g:this,this.path=g?[...g.path,g]:[],this.parent=g,this.depth=g?g.depth+1:0,d&&this.root.registerPotentialNode(d,this);for(let _=0;_<this.path.length;_++)this.path[_].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(d,h){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new SubscriptionManager),this.eventHandlers.get(d).add(h)}notifyListeners(d,...h){const g=this.eventHandlers.get(d);g&&g.notify(...h)}hasListeners(d){return this.eventHandlers.has(d)}registerPotentialNode(d,h){this.potentialNodes.set(d,h)}mount(d,h=!1){if(this.instance)return;this.isSVG=isSVGElement(d),this.instance=d;const{layoutId:g,layout:_,visualElement:_e}=this.options;if(_e&&!_e.current&&_e.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),h&&(_||g)&&(this.isLayoutDirty=!0),e){let at;const nt=()=>this.root.updateBlockedByResize=!1;e(d,()=>{this.root.updateBlockedByResize=!0,at&&at(),at=delay(nt,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}g&&this.root.registerSharedNode(g,this),this.options.animate!==!1&&_e&&(g||_)&&this.addEventListener("didUpdate",({delta:at,hasLayoutChanged:nt,hasRelativeTargetChanged:lt,layout:tt})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||_e.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:et,onLayoutAnimationComplete:j}=_e.getProps(),rt=!this.targetLayout||!boxEquals(this.targetLayout,tt)||lt,ot=!nt&&lt;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||ot||nt&&(rt||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(at,ot);const st={...getValueTransition(b,"layout"),onPlay:et,onComplete:j};(_e.shouldReduceMotion||this.options.layoutRoot)&&(st.delay=0,st.type=!1),this.startAnimation(st)}else!nt&&this.animationProgress===0&&finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=tt})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelSync.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetRotation),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let _e=0;_e<this.path.length;_e++){const at=this.path[_e];at.shouldResetTransform=!0,at.updateScroll("snapshot"),at.options.layoutRoot&&at.willUpdate(!1)}const{layoutId:h,layout:g}=this.options;if(h===void 0&&!g)return;const _=this.getTransformTemplate();this.prevTransformTemplateValue=_?_(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(mountNodeEarly),this.potentialNodes.clear()),this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots(),flushSync.update(),flushSync.preRender(),flushSync.render())}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){sync.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){sync.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let h=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(h=!1),h&&(this.scroll={animationId:this.root.animationId,phase:d,isRoot:o(this.instance),offset:s(this.instance)})}resetTransform(){if(!a)return;const d=this.isLayoutDirty||this.shouldResetTransform,h=this.projectionDelta&&!isDeltaZero(this.projectionDelta),g=this.getTransformTemplate(),_=g?g(this.latestValues,""):void 0,_e=_!==this.prevTransformTemplateValue;d&&(h||hasTransform(this.latestValues)||_e)&&(a(this.instance,_),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const h=this.measurePageBox();let g=this.removeElementScroll(h);return d&&(g=this.removeTransform(g)),roundBox(g),{animationId:this.root.animationId,measuredBox:h,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:d}=this.options;if(!d)return createBox();const h=d.measureViewportBox(),{scroll:g}=this.root;return g&&(translateAxis(h.x,g.offset.x),translateAxis(h.y,g.offset.y)),h}removeElementScroll(d){const h=createBox();copyBoxInto(h,d);for(let g=0;g<this.path.length;g++){const _=this.path[g],{scroll:_e,options:at}=_;if(_!==this.root&&_e&&at.layoutScroll){if(_e.isRoot){copyBoxInto(h,d);const{scroll:nt}=this.root;nt&&(translateAxis(h.x,-nt.offset.x),translateAxis(h.y,-nt.offset.y))}translateAxis(h.x,_e.offset.x),translateAxis(h.y,_e.offset.y)}}return h}applyTransform(d,h=!1){const g=createBox();copyBoxInto(g,d);for(let _=0;_<this.path.length;_++){const _e=this.path[_];!h&&_e.options.layoutScroll&&_e.scroll&&_e!==_e.root&&transformBox(g,{x:-_e.scroll.offset.x,y:-_e.scroll.offset.y}),hasTransform(_e.latestValues)&&transformBox(g,_e.latestValues)}return hasTransform(this.latestValues)&&transformBox(g,this.latestValues),g}removeTransform(d){const h=createBox();copyBoxInto(h,d);for(let g=0;g<this.path.length;g++){const _=this.path[g];if(!_.instance||!hasTransform(_.latestValues))continue;hasScale(_.latestValues)&&_.updateSnapshot();const _e=createBox(),at=_.measurePageBox();copyBoxInto(_e,at),removeBoxTransforms(h,_.latestValues,_.snapshot?_.snapshot.layoutBox:void 0,_e)}return hasTransform(this.latestValues)&&removeBoxTransforms(h,this.latestValues),h}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(d=!1){var h;const g=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=g.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=g.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=g.isSharedProjectionDirty);const _=!!this.resumingFrom||this!==g;if(!(d||_&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:at,layoutId:nt}=this.options;if(!(!this.layout||!(at||nt))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const lt=this.getClosestProjectingParent();lt&&lt.layout?(this.relativeParent=lt,this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,lt.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const lt=this.getClosestProjectingParent();lt&&!!lt.resumingFrom==!!this.resumingFrom&&!lt.options.layoutScroll&&lt.target?(this.relativeParent=lt,this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,lt.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}projectionFrameData.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var d;const h=this.getLead(),g=!!this.resumingFrom||this!==h;let _=!0;if((this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty)&&(_=!1),g&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(_=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(_=!1),_)return;const{layout:_e,layoutId:at}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(_e||at))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox),applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,g);const{target:nt}=h;if(!nt)return;this.projectionDelta||(this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta());const lt=this.treeScale.x,tt=this.treeScale.y,b=this.projectionTransform;calcBoxDelta(this.projectionDelta,this.layoutCorrected,nt,this.latestValues),this.projectionTransform=buildProjectionTransform(this.projectionDelta,this.treeScale),(this.projectionTransform!==b||this.treeScale.x!==lt||this.treeScale.y!==tt)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",nt)),projectionFrameData.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),d){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(d,h=!1){const g=this.snapshot,_=g?g.latestValues:{},_e={...this.latestValues},at=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const nt=createBox(),lt=g?g.source:void 0,tt=this.layout?this.layout.source:void 0,b=lt!==tt,et=this.getStack(),j=!et||et.members.length<=1,rt=!!(b&&!j&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let ot;this.mixTargetDelta=st=>{const $=st/1e3;mixAxisDelta(at.x,d.x,$),mixAxisDelta(at.y,d.y,$),this.setTargetDelta(at),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(nt,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,nt,$),ot&&boxEquals(this.relativeTarget,ot)&&(this.isProjectionDirty=!1),ot||(ot=createBox()),copyBoxInto(ot,this.relativeTarget)),b&&(this.animationValues=_e,mixValues(_e,_,this.latestValues,$,rt,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=$},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelSync.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=sync.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...d,onUpdate:h=>{this.mixTargetDelta(h),d.onUpdate&&d.onUpdate(h)},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:h,target:g,layout:_,latestValues:_e}=d;if(!(!h||!g||!_)){if(this!==d&&this.layout&&_&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,_.layoutBox)){g=this.target||createBox();const at=calcLength(this.layout.layoutBox.x);g.x.min=d.target.x.min,g.x.max=g.x.min+at;const nt=calcLength(this.layout.layoutBox.y);g.y.min=d.target.y.min,g.y.max=g.y.min+nt}copyBoxInto(h,g),transformBox(h,_e),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,h,_e)}}registerSharedNode(d,h){this.sharedNodes.has(d)||this.sharedNodes.set(d,new NodeStack),this.sharedNodes.get(d).add(h);const _=h.options.initialPromotionConfig;h.promote({transition:_?_.transition:void 0,preserveFollowOpacity:_&&_.shouldPreserveFollowOpacity?_.shouldPreserveFollowOpacity(h):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){var d;const{layoutId:h}=this.options;return h?((d=this.getStack())===null||d===void 0?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:h}=this.options;return h?(d=this.getStack())===null||d===void 0?void 0:d.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:h,preserveFollowOpacity:g}={}){const _=this.getStack();_&&_.promote(this,g),d&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetRotation(){const{visualElement:d}=this.options;if(!d)return;let h=!1;const{latestValues:g}=d;if((g.rotate||g.rotateX||g.rotateY||g.rotateZ)&&(h=!0),!h)return;const _={};for(let _e=0;_e<transformAxes.length;_e++){const at="rotate"+transformAxes[_e];g[at]&&(_[at]=g[at],d.setStaticValue(at,0))}d.render();for(const _e in _)d.setStaticValue(_e,_[_e]);d.scheduleRender()}getProjectionStyles(d={}){var h,g;const _={};if(!this.instance||this.isSVG)return _;if(this.isVisible)_.visibility="";else return{visibility:"hidden"};const _e=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,_.opacity="",_.pointerEvents=resolveMotionValue(d.pointerEvents)||"",_.transform=_e?_e(this.latestValues,""):"none",_;const at=this.getLead();if(!this.projectionDelta||!this.layout||!at.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=resolveMotionValue(d.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(b.transform=_e?_e({},""):"none",this.hasProjected=!1),b}const nt=at.animationValues||at.latestValues;this.applyTransformsToTarget(),_.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,nt),_e&&(_.transform=_e(nt,_.transform));const{x:lt,y:tt}=this.projectionDelta;_.transformOrigin=`${lt.origin*100}% ${tt.origin*100}% 0`,at.animationValues?_.opacity=at===this?(g=(h=nt.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&g!==void 0?g:1:this.preserveOpacity?this.latestValues.opacity:nt.opacityExit:_.opacity=at===this?nt.opacity!==void 0?nt.opacity:"":nt.opacityExit!==void 0?nt.opacityExit:0;for(const b in scaleCorrectors){if(nt[b]===void 0)continue;const{correct:et,applyTo:j}=scaleCorrectors[b],rt=_.transform==="none"?nt[b]:et(nt[b],at);if(j){const ot=j.length;for(let st=0;st<ot;st++)_[j[st]]=rt}else _[b]=rt}return this.options.layoutId&&(_.pointerEvents=at===this?resolveMotionValue(d.pointerEvents)||"":"none"),_}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>{var h;return(h=d.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(e){e.updateLayout()}function notifyLayoutUpdate(e){var i;const s=((i=e.resumeFrom)===null||i===void 0?void 0:i.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:o,measuredBox:a}=e.layout,{animationType:c}=e.options,d=s.source!==e.layout.source;c==="size"?eachAxis(at=>{const nt=d?s.measuredBox[at]:s.layoutBox[at],lt=calcLength(nt);nt.min=o[at].min,nt.max=nt.min+lt}):shouldAnimatePositionOnly(c,s.layoutBox,o)&&eachAxis(at=>{const nt=d?s.measuredBox[at]:s.layoutBox[at],lt=calcLength(o[at]);nt.max=nt.min+lt,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[at].max=e.relativeTarget[at].min+lt)});const h=createDelta();calcBoxDelta(h,o,s.layoutBox);const g=createDelta();d?calcBoxDelta(g,e.applyTransform(a,!0),s.measuredBox):calcBoxDelta(g,o,s.layoutBox);const _=!isDeltaZero(h);let _e=!1;if(!e.resumeFrom){const at=e.getClosestProjectingParent();if(at&&!at.resumeFrom){const{snapshot:nt,layout:lt}=at;if(nt&&lt){const tt=createBox();calcRelativePosition(tt,s.layoutBox,nt.layoutBox);const b=createBox();calcRelativePosition(b,o,lt.layoutBox),boxEquals(tt,b)||(_e=!0),at.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=tt,e.relativeParent=at)}}}e.notifyListeners("didUpdate",{layout:o,snapshot:s,delta:g,layoutDelta:h,hasLayoutChanged:_,hasRelativeTargetChanged:_e})}else if(e.isLead()){const{onExitComplete:o}=e.options;o&&o()}e.options.transition=void 0}function propagateDirtyNodes(e){projectionFrameData.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function cleanDirtyNodes(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function clearSnapshot(e){e.clearSnapshot()}function clearMeasurements(e){e.clearMeasurements()}function resetTransformStyle(e){const{visualElement:i}=e.options;i&&i.getProps().onBeforeLayoutMeasure&&i.notify("BeforeLayoutMeasure"),e.resetTransform()}function finishAnimation(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function resolveTargetDelta(e){e.resolveTargetDelta()}function calcProjection(e){e.calcProjection()}function resetRotation(e){e.resetRotation()}function removeLeadSnapshots(e){e.removeLeadSnapshot()}function mixAxisDelta(e,i,s){e.translate=mix(i.translate,0,s),e.scale=mix(i.scale,1,s),e.origin=i.origin,e.originPoint=i.originPoint}function mixAxis(e,i,s,o){e.min=mix(i.min,s.min,o),e.max=mix(i.max,s.max,o)}function mixBox(e,i,s,o){mixAxis(e.x,i.x,s.x,o),mixAxis(e.y,i.y,s.y,o)}function hasOpacityCrossfade(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]};function mountNodeEarly(e,i){let s=e.root;for(let c=e.path.length-1;c>=0;c--)if(e.path[c].instance){s=e.path[c];break}const a=(s&&s!==e.root?s.instance:document).querySelector(`[data-projection-id="${i}"]`);a&&e.mount(a,!0)}function roundAxis(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function roundBox(e){roundAxis(e.x),roundAxis(e.y)}function shouldAnimatePositionOnly(e,i,s){return e==="position"||e==="preserve-aspect"&&!isNear(aspectRatio(i),aspectRatio(s),.2)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(e,i)=>addDomEvent(e,"resize",i),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const e=new DocumentProjectionNode(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),rootProjectionNode.current=e}return rootProjectionNode.current},resetTransform:(e,i)=>{e.style.transform=i!==void 0?i:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}},positionalKeys=new Set(["width","height","top","left","right","bottom","x","y"]),isPositionalKey=e=>positionalKeys.has(e),hasPositionalKey=e=>Object.keys(e).some(isPositionalKey),isNumOrPxType=e=>e===number||e===px,getPosFromMatrix=(e,i)=>parseFloat(e.split(", ")[i]),getTranslateFromMatrix=(e,i)=>(s,{transform:o})=>{if(o==="none"||!o)return 0;const a=o.match(/^matrix3d\((.+)\)$/);if(a)return getPosFromMatrix(a[1],i);{const c=o.match(/^matrix\((.+)\)$/);return c?getPosFromMatrix(c[1],e):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(e=>!transformKeys.has(e));function removeNonTranslationalTransform(e){const i=[];return nonTranslationalTransformKeys.forEach(s=>{const o=e.getValue(s);o!==void 0&&(i.push([s,o.get()]),o.set(s.startsWith("scale")?1:0))}),i.length&&e.render(),i}const positionalValues={width:({x:e},{paddingLeft:i="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(i)-parseFloat(s),height:({y:e},{paddingTop:i="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(i)-parseFloat(s),top:(e,{top:i})=>parseFloat(i),left:(e,{left:i})=>parseFloat(i),bottom:({y:e},{top:i})=>parseFloat(i)+(e.max-e.min),right:({x:e},{left:i})=>parseFloat(i)+(e.max-e.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)},convertChangedValueTypes=(e,i,s)=>{const o=i.measureViewportBox(),a=i.current,c=getComputedStyle(a),{display:d}=c,h={};d==="none"&&i.setStaticValue("display",e.display||"block"),s.forEach(_=>{h[_]=positionalValues[_](o,c)}),i.render();const g=i.measureViewportBox();return s.forEach(_=>{const _e=i.getValue(_);_e&&_e.jump(h[_]),e[_]=positionalValues[_](g,c)}),e},checkAndConvertChangedValueTypes=(e,i,s={},o={})=>{i={...i},o={...o};const a=Object.keys(i).filter(isPositionalKey);let c=[],d=!1;const h=[];if(a.forEach(g=>{const _=e.getValue(g);if(!e.hasValue(g))return;let _e=s[g],at=findDimensionValueType(_e);const nt=i[g];let lt;if(isKeyframesTarget(nt)){const tt=nt.length,b=nt[0]===null?1:0;_e=nt[b],at=findDimensionValueType(_e);for(let et=b;et<tt;et++)lt?invariant(findDimensionValueType(nt[et])===lt):lt=findDimensionValueType(nt[et])}else lt=findDimensionValueType(nt);if(at!==lt)if(isNumOrPxType(at)&&isNumOrPxType(lt)){const tt=_.get();typeof tt=="string"&&_.set(parseFloat(tt)),typeof nt=="string"?i[g]=parseFloat(nt):Array.isArray(nt)&&lt===px&&(i[g]=nt.map(parseFloat))}else at!=null&&at.transform&&(lt!=null&&lt.transform)&&(_e===0||nt===0)?_e===0?_.set(lt.transform(_e)):i[g]=at.transform(nt):(d||(c=removeNonTranslationalTransform(e),d=!0),h.push(g),o[g]=o[g]!==void 0?o[g]:i[g],_.jump(nt))}),h.length){const g=h.indexOf("height")>=0?window.pageYOffset:null,_=convertChangedValueTypes(i,e,h);return c.length&&c.forEach(([_e,at])=>{e.getValue(_e).set(at)}),e.render(),isBrowser&&g!==null&&window.scrollTo({top:g}),{target:_,transitionEnd:o}}else return{target:i,transitionEnd:o}};function unitConversion(e,i,s,o){return hasPositionalKey(i)?checkAndConvertChangedValueTypes(e,i,s,o):{target:i,transitionEnd:o}}const parseDomVariant=(e,i,s,o)=>{const a=resolveCSSVariables(e,i,o);return i=a.target,o=a.transitionEnd,unitConversion(e,i,s,o)},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),i=()=>prefersReducedMotion.current=e.matches;e.addListener(i),i()}else prefersReducedMotion.current=!1}function updateMotionValuesFromProps(e,i,s){const{willChange:o}=i;for(const a in i){const c=i[a],d=s[a];if(isMotionValue(c))e.addValue(a,c),isWillChangeMotionValue(o)&&o.add(a);else if(isMotionValue(d))e.addValue(a,motionValue(c,{owner:e})),isWillChangeMotionValue(o)&&o.remove(a);else if(d!==c)if(e.hasValue(a)){const h=e.getValue(a);!h.hasAnimated&&h.set(c)}else{const h=e.getStaticValue(a);e.addValue(a,motionValue(h!==void 0?h:c,{owner:e}))}}for(const a in s)i[a]===void 0&&e.removeValue(a);return i}const visualElementStore=new WeakMap,featureNames=Object.keys(featureDefinitions),numFeatures=featureNames.length,propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],numVariantProps=variantProps.length;class VisualElement{constructor({parent:i,props:s,presenceContext:o,reducedMotionConfig:a,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>sync.render(this.render,!1,!0);const{latestValues:h,renderState:g}=c;this.latestValues=h,this.baseTarget={...h},this.initialValues=s.initial?{...h}:{},this.renderState=g,this.parent=i,this.props=s,this.presenceContext=o,this.depth=i?i.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.isControllingVariants=isControllingVariants(s),this.isVariantNode=isVariantNode(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(i&&i.current);const{willChange:_,..._e}=this.scrapeMotionValuesFromProps(s,{});for(const at in _e){const nt=_e[at];h[at]!==void 0&&isMotionValue(nt)&&(nt.set(h[at],!1),isWillChangeMotionValue(_)&&_.add(at))}}scrapeMotionValuesFromProps(i,s){return{}}mount(i){this.current=i,visualElementStore.set(i,this),this.projection&&this.projection.mount(i),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,o)=>this.bindToMotionValue(o,s)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){visualElementStore.delete(this.current),this.projection&&this.projection.unmount(),cancelSync.update(this.notifyUpdate),cancelSync.render(this.render),this.valueSubscriptions.forEach(i=>i()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const i in this.events)this.events[i].clear();for(const i in this.features)this.features[i].unmount();this.current=null}bindToMotionValue(i,s){const o=transformProps.has(i),a=s.on("change",d=>{this.latestValues[i]=d,this.props.onUpdate&&sync.update(this.notifyUpdate,!1,!0),o&&this.projection&&(this.projection.isTransformDirty=!0)}),c=s.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(i,()=>{a(),c()})}sortNodePosition(i){return!this.current||!this.sortInstanceNodePosition||this.type!==i.type?0:this.sortInstanceNodePosition(this.current,i.current)}loadFeatures({children:i,...s},o,a,c,d){let h,g;for(let _=0;_<numFeatures;_++){const _e=featureNames[_],{isEnabled:at,Feature:nt,ProjectionNode:lt,MeasureLayout:tt}=featureDefinitions[_e];lt&&(h=lt),at(s)&&(!this.features[_e]&&nt&&(this.features[_e]=new nt(this)),tt&&(g=tt))}if(!this.projection&&h){this.projection=new h(c,this.latestValues,this.parent&&this.parent.projection);const{layoutId:_,layout:_e,drag:at,dragConstraints:nt,layoutScroll:lt,layoutRoot:tt}=s;this.projection.setOptions({layoutId:_,layout:_e,alwaysMeasureLayout:!!at||nt&&isRefObject(nt),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof _e=="string"?_e:"both",initialPromotionConfig:d,layoutScroll:lt,layoutRoot:tt})}return g}updateFeatures(){for(const i in this.features){const s=this.features[i];s.isMounted?s.update(this.props,this.prevProps):(s.mount(),s.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(i){return this.latestValues[i]}setStaticValue(i,s){this.latestValues[i]=s}makeTargetAnimatable(i,s=!0){return this.makeTargetAnimatableFromInstance(i,this.props,s)}update(i,s){(i.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=i,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let o=0;o<propEventHandlers.length;o++){const a=propEventHandlers[o];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const c=i["on"+a];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(i,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(i){return this.props.variants?this.props.variants[i]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(i=!1){if(i)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const o=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(o.initial=this.props.initial),o}const s={};for(let o=0;o<numVariantProps;o++){const a=variantProps[o],c=this.props[a];(isVariantLabel(c)||c===!1)&&(s[a]=c)}return s}addVariantChild(i){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(i),()=>s.variantChildren.delete(i)}addValue(i,s){s!==this.values.get(i)&&(this.removeValue(i),this.bindToMotionValue(i,s)),this.values.set(i,s),this.latestValues[i]=s.get()}removeValue(i){this.values.delete(i);const s=this.valueSubscriptions.get(i);s&&(s(),this.valueSubscriptions.delete(i)),delete this.latestValues[i],this.removeValueFromRenderState(i,this.renderState)}hasValue(i){return this.values.has(i)}getValue(i,s){if(this.props.values&&this.props.values[i])return this.props.values[i];let o=this.values.get(i);return o===void 0&&s!==void 0&&(o=motionValue(s,{owner:this}),this.addValue(i,o)),o}readValue(i){return this.latestValues[i]!==void 0||!this.current?this.latestValues[i]:this.readValueFromInstance(this.current,i,this.options)}setBaseTarget(i,s){this.baseTarget[i]=s}getBaseTarget(i){var s;const{initial:o}=this.props,a=typeof o=="string"||typeof o=="object"?(s=resolveVariantFromProps(this.props,o))===null||s===void 0?void 0:s[i]:void 0;if(o&&a!==void 0)return a;const c=this.getBaseTargetFromProps(this.props,i);return c!==void 0&&!isMotionValue(c)?c:this.initialValues[i]!==void 0&&a===void 0?void 0:this.baseTarget[i]}on(i,s){return this.events[i]||(this.events[i]=new SubscriptionManager),this.events[i].add(s)}notify(i,...s){this.events[i]&&this.events[i].notify(...s)}}class DOMVisualElement extends VisualElement{sortInstanceNodePosition(i,s){return i.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(i,s){return i.style?i.style[s]:void 0}removeValueFromRenderState(i,{vars:s,style:o}){delete s[i],delete o[i]}makeTargetAnimatableFromInstance({transition:i,transitionEnd:s,...o},{transformValues:a},c){let d=getOrigin(o,i||{},this);if(a&&(s&&(s=a(s)),o&&(o=a(o)),d&&(d=a(d))),c){checkTargetForNewValues(this,o,d);const h=parseDomVariant(this,o,d,s);s=h.transitionEnd,o=h.target}return{transition:i,transitionEnd:s,...o}}}function getComputedStyle$1(e){return window.getComputedStyle(e)}class HTMLVisualElement extends DOMVisualElement{readValueFromInstance(i,s){if(transformProps.has(s)){const o=getDefaultValueType(s);return o&&o.default||0}else{const o=getComputedStyle$1(i),a=(isCSSVariableName(s)?o.getPropertyValue(s):o[s])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(i,{transformPagePoint:s}){return measureViewportBox(i,s)}build(i,s,o,a){buildHTMLStyles(i,s,o,a.transformTemplate)}scrapeMotionValuesFromProps(i,s){return scrapeMotionValuesFromProps$1(i,s)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:i}=this.props;isMotionValue(i)&&(this.childSubscription=i.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}renderInstance(i,s,o,a){renderHTML(i,s,o,a)}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(i,s){return i[s]}readValueFromInstance(i,s){if(transformProps.has(s)){const o=getDefaultValueType(s);return o&&o.default||0}return s=camelCaseAttributes.has(s)?s:camelToDash(s),i.getAttribute(s)}measureInstanceViewportBox(){return createBox()}scrapeMotionValuesFromProps(i,s){return scrapeMotionValuesFromProps(i,s)}build(i,s,o,a){buildSVGAttrs(i,s,o,this.isSVGTag,a.transformTemplate)}renderInstance(i,s,o,a){renderSVG(i,s,o,a)}mount(i){this.isSVGTag=isSVGTag(i.tagName),super.mount(i)}}const createDomVisualElement=(e,i)=>isSVGComponent(e)?new SVGVisualElement(i,{enableHardwareAcceleration:!1}):new HTMLVisualElement(i,{enableHardwareAcceleration:!0}),layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},preloadedFeatures={...animations,...gestureAnimations,...drag,...layout},motion=createMotionProxy((e,i)=>createDomMotionConfig(e,i,preloadedFeatures,createDomVisualElement));export{Document as D,Page$1 as P,React as R,client as c,jsxRuntimeExports as j,motion as m,pdfExports as p,reactExports as r};
