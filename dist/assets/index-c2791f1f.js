import{j as y,p as h,r as l,m as k,D as C,P as x,c as M,R as W}from"./vendor-271e3140.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))f(o);new MutationObserver(o=>{for(const e of o)if(e.type==="childList")for(const r of e.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&f(r)}).observe(document,{childList:!0,subtree:!0});function d(o){const e={};return o.integrity&&(e.integrity=o.integrity),o.referrerPolicy&&(e.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?e.credentials="include":o.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function f(o){if(o.ep)return;o.ep=!0;const e=d(o);fetch(o.href,e)}})();const B=y.Fragment,s=y.jsx,g=y.jsxs;const w={opacity:1,display:"block",duration:2},N={opacity:0,transitionEnd:{display:"none"}},H=async u=>{const d=await(await h.getDocument(u).promise).getPageLabels();return console.log(d),d};function K({pdfUrl:u}){h.GlobalWorkerOptions.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${h.version}/pdf.worker.js`;const[a,d]=l.useState(null),[f,o]=l.useState(0),[e,r]=l.useState(1);l.useState(null);const[p,v]=l.useState([]),j=l.useRef(null),P=l.useRef(null),S=l.useRef(null),[Y,E]=l.useState(null);l.useEffect(()=>{(async()=>{const n=await H(u);v(n)})(),a!==null&&f===a&&console.log("All pages loaded")},[a,f]);function R(t){const n=Number((t==null?void 0:t.pageNumber)??e);n<=a&&n>=1&&(r(n),i(n))}function I({loaded:t,total:n}){const c=Math.floor(t/n*100);console.log(`Loading... ${c}%`)}function D(t){E(t)}function O({numPages:t,outline:n}){d(t)}function b(){o(t=>t+1)}function i(t){P.current.value=p[t-1]}function A(){e<a&&(r(e+1),i(e+1))}function F(){e>1&&(r(e-1),i(e-1))}function _(t){t.deltaY<0&&e>1?(r(e-1),i(e-1)):t.deltaY>0&&e<a&&(r(e+1),i(e+1))}function $(t){var n;if(t.keyCode===13){const c=p.indexOf(((n=t.target)==null?void 0:n.value)??0)+1;c<=a&&c>=1?(r(c),i(c)):(i(e),alert("What are you doing! Invalid page number."))}}const m=100*Math.min(1,e/a);return g(B,{children:[s(k.div,{className:`progress-bar z-20 shadow-[0_10px_15px_-1px_rgba(0,0,0,0.1)] ${m===100?"shadow-red-500":null}`,style:{width:`${m}%`,stiffness:100,damping:30,restDelta:.001},animate:{width:`${m}%`}}),s("div",{initial:"hidden",animate:"show",className:"flex py-20 justify-evenly backdrop-blur-3xl",ref:j,id:"pdf-viewer",onWheel:_,children:s(C,{file:u,ref:S,onLoadProgress:I,onLoadError:D,onLoadSuccess:O,noData:"No PDF file selected.",loading:"Loading PDF file...",onItemClick:R,children:Array.from(new Array(a),(t,n)=>{var c,L;return g("div",{className:`${n+1===e?"flex":"hidden"} gap-20`,children:[s("div",{animate:n+1<=a?w:N,children:n+1<=a?s(x,{id:"pagechild",pageNumber:n+1,onLoadSuccess:b,height:((c=document.getElementById("app"))==null?void 0:c.clientHeight)*.78},n+1):null}),s("div",{animate:n+1<=a?w:N,className:"xs:max-lg:hidden",children:n+2<=a?s(x,{pageNumber:n+2,onLoadSuccess:b,height:((L=document.getElementById("app"))==null?void 0:L.clientHeight)*.78},n+2):null})]})})})}),g("div",{className:"justify-evenly flex",children:[s("button",{className:"bg-secondary rounded-xl w-1/6 shadow-xl",onClick:F,children:"Prev"}),s("button",{className:"bg-secondary rounded-xl w-1/6 shadow-xl",onClick:A,children:"Next"})]}),g("div",{className:"flex justify-center items-center",children:["Page  ",s("input",{ref:P,className:"rounded text-center inline-block w-[35px] h-[26px]",type:"text",onKeyDown:$,defaultValue:p[0]}),"   of  ",Math.max(...p.filter(t=>parseInt(t)))]})]})}function V(){return s("div",{className:"h-screen justify-evenly bg-tertiary max-w-5/6",id:"app",children:s(K,{pdfUrl:"/prelim.pdf"})})}M.createRoot(document.getElementById("root")).render(s(W.StrictMode,{children:s(V,{})}));
